"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2660,1181],{98668:(e,t,l)=>{l.d(t,{A:()=>r});var a=l(72096),i=l(90221),s=l(70579);const r=function(e){let{id:t,title:l,code:r,products:n,activeCategory:o,onClick:c}=e;return(0,s.jsxs)("div",{className:"category-card ".concat(o?"active-category":""),onClick:()=>c(t),children:[(0,s.jsx)("h1",{className:"text-black-700 text-base leading-[1.5625rem]",children:l||(0,a.t)("Nomsiz kategoriya")}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-[0.3125rem] items-center",children:[(0,s.jsxs)("p",{className:"footer-text",children:[(0,a.t)("Kodi")," :"]}),(0,s.jsx)("span",{className:"block rounded-[3.125rem] bg-warning-500 py-[0.125rem] px-[0.625rem] text-xs leading-[0.875rem] text-white-900",children:r||0})]}),(0,s.jsxs)("div",{className:"flex gap-[0.3125rem] items-center",children:[(0,s.jsxs)("p",{className:"footer-text",children:[(0,a.t)("Maxsulot turlari")," :"]}),(0,s.jsx)("span",{className:"block rounded-[3.125rem] bg-success-400 py-[0.125rem] px-[0.625rem] text-xs leading-[0.875rem] text-white-900",children:n||0})]})]}),(0,s.jsx)("div",{className:"category-card-checkmark",children:(0,s.jsx)(i.KDk,{size:"1rem",className:"check-icon"})})]})}},70126:(e,t,l)=>{l.d(t,{A:()=>f});var a=l(90221),i=l(26441),s=(l(65043),l(79456)),r=l(2364),n=l(57290),o=l(70579);const c=e=>(0,o.jsx)(n.c.DropdownIndicator,{...e,children:(0,o.jsx)(a.QDT,{size:"0.625rem"})}),d={control:e=>({...e,borderTopRightRadius:".125rem",borderBottomRightRadius:".125rem",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",fontSize:"0.75rem",fontWeight:"400",padding:"0.375rem 0.3125rem",color:"#071F45",outline:"none",border:"none",boxShadow:"none",cursor:"pointer",height:"100%",backgroundColor:"#F79009",minHeight:"100%","&:hover":{backgroundColor:"#DC6803"}}),container:e=>({...e,height:"100%",position:"absolute",right:0,width:"3rem",top:0,bottom:0}),option:(e,t)=>{let{isFocused:l,isSelected:a}=t;return{...e,fontSize:".75rem",fontWeight:"400",color:a||l?"#ffffff":"#071F45",backgroundColor:a?"#0090A3":l?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer",textAlign:"center"}},menu:e=>({...e,overflow:"hidden"}),singleValue:e=>({...e,fontSize:".75rem",fontWeight:"400",color:"#ffffff",margin:0,textAlign:"center"}),valueContainer:e=>({...e,padding:0}),indicatorsContainer:e=>({...e}),dropdownIndicator:e=>({...e,padding:0,color:"#ffffff"})};var u=l(72096);const m=function(e){let{value:t,onChange:l,option:a,onSelect:i}=e;const{currencyType:n}=(0,s.d4)((e=>e.currency)),m=[{value:n,label:n},{value:"%",label:"%"}];return(0,o.jsxs)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:[(0,o.jsx)("input",{className:"w-[8.6875rem] placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-l-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"".concat((0,u.t)("misol"),": 100 000 000"),type:"number",value:t,onChange:e=>{l(e.target.value)},onWheel:e=>e.target.blur(),min:0}),(0,o.jsx)(r.Ay,{onChange:i,styles:d,isSearchable:!1,value:a,options:m,components:{IndicatorSeparator:()=>null,DropdownIndicator:c}})]})},p=e=>{let{value:t,onChange:l,option:a,onSelect:i}=e;return(0,o.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,o.jsxs)("div",{className:"text-black-700 text-[0.875rem]",children:[(0,u.t)("Chegirma")," :"]}),(0,o.jsx)(m,{onChange:l,onSelect:i,value:t,option:a})]})};var h=l(66899);const x=e=>{let{onClick:t}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{onClick:t,className:"exitbtn",children:(0,o.jsx)(a.FyX,{size:"0.75rem"})})})};const g=function(e){let{mix:t,value:l,onChange:a,label:i,onClose:s,keyInput:r,placeholder:n,type:c,disabled:d}=e;return(0,o.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[i," :"]}),(0,o.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,o.jsx)(h.A,{placeholder:n||"".concat((0,u.t)("misol"),": 100 000 000"),type:c||"number",value:l,disabled:d,onChange:e=>{a(e.target.value,r)}}),t&&(0,o.jsx)(x,{onClick:()=>s(r)})]})]})};var b=l(73216),v=l(9762);const f=function(e){let{returned:t,active:l,togglePaymentModal:r,hasCalendar:n,hiddenDebt:c,type:d="cash",showPayEndDate:m,cash:h="",card:x="",transfer:f="",hiddenMixed:N,discount:j,hasDiscount:y,hasDiscountBtn:w,debt:z,allPayment:C,paid:S=0,client:k="",onChange:A,onClose:D,changePaymentType:_,discountSelectOption:F,handleClickDiscountBtn:U,handleChangeDiscountSelectOption:P,handleChangeDiscount:I,handleClickPay:M,clickdelay:O,disableInputsCashCard:T,payEndDate:E,handlePayEndDateChange:q,disablePayButton:Q}=e;const L=(0,b.zy)(),R=()=>{switch(d){case"card":return(0,o.jsx)(g,{value:x,keyInput:d,onChange:A,onClose:D,disabled:T,label:(0,u.t)("Plastik")},"sale-card1");case"transfer":return(0,o.jsx)(g,{value:f,keyInput:d,onChange:A,onClose:D,disabled:T,label:(0,u.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,u.t)("Naqd"),key:"cash",value:h},{label:(0,u.t)("Plastik"),key:"card",value:x},{label:(0,u.t)("O`tkazma"),key:"transfer",value:f}].map((e=>(0,o.jsx)(g,{value:e.value,keyInput:e.key,onChange:A,onClose:D,label:(0,u.t)(e.label)},"sale-".concat(e.key))));default:return(0,o.jsx)(g,{disabled:T,value:h,onChange:A,keyInput:d,onClose:D,label:(0,u.t)("Naqd")},"sale-cash")}},{currencyType:W}=(0,s.d4)((e=>e.currency));return(0,o.jsxs)("section",{className:"fixed transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(l?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:r,children:[(0,o.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,u.t)("")}),(0,o.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(l?"translate-x-0":"translate-x-full"),onClick:e=>e.stopPropagation(),autoFocus:!0,children:[(0,o.jsxs)("div",{className:"top-payment w-full",children:[k&&(0,o.jsxs)("div",{className:"customer-head-icon",children:[(0,o.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,o.jsx)(a.uSr,{className:"mr-[0.75rem]"}),(0,o.jsxs)("span",{children:[(0,u.t)("Mijoz")," : "]})]}),(0,o.jsx)("h3",{className:"text-[0.875rem]",children:k})]}),(0,o.jsxs)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:[null===C||void 0===C?void 0:C.toLocaleString("ru-Ru")," ",W]}),(0,o.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&R(),(L.pathname.includes("/kassa/debts")||L.pathname.includes("/qarzdorlar")||L.pathname.includes("/maxsulotlar/qabul/qabulqilish")||L.pathname.includes("/maxsulotlar/qabul/qabullar"))&&R(),y&&(0,o.jsx)(p,{value:j,onChange:I,option:F,onSelect:P}),m&&(0,o.jsxs)("li",{className:"custom-payment-ul-li justify-between flex gap-x-5",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[(0,u.t)("To'lov sanasi"),":"]}),(0,o.jsx)(v.A,{onChange:q,value:E,placeholder:"To'lov sanasi",disableIcon:!0})]}),c?null:(0,o.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[(0,u.t)("Qarzlar")," :"," "]}),(0,o.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[z.toLocaleString("ru-Ru")," ",W]})]}),(0,o.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[C<0?(0,u.t)("Qaytarilayotgan"):(0,u.t)("To`lanayotgan")," ",":"," "]}),(0,o.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[null===S||void 0===S?void 0:S.toLocaleString("ru-Ru")," ",W]})]})]})]}),(0,o.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,o.jsxs)("div",{className:"custom-paymet-btn",children:[(0,o.jsx)(i.Gv,{text:(0,u.t)("Naqd"),type:"cash",active:"cash"===d,onClick:_}),(0,o.jsx)(i.Gv,{text:(0,u.t)("Plastik"),type:"card",active:"card"===d,onClick:_}),(0,o.jsx)(i.Gv,{text:(0,u.t)("O'tkazma"),type:"transfer",active:"transfer"===d,onClick:_}),!t&&(0,o.jsx)(i.Gv,{text:(0,u.t)("Aralash"),type:"mixed",active:"mixed"===d,onClick:_}),L.pathname.includes("/kassa/debts")&&(0,o.jsx)(i.Gv,{text:(0,u.t)("Aralash"),type:"mixed",active:"mixed"===d,onClick:_})]}),!t&&w&&(0,o.jsx)(i.eV,{text:(0,u.t)("Chegirma"),onClick:U}),(0,o.jsx)(i.p2,{text:(0,u.t)("To'lash"),disablePayButton:O,loading:O,onClick:O?()=>console.log("wait"):M})]})]})]})}},22662:(e,t,l)=>{l.d(t,{A:()=>s});const a=(0,l(55749).Ay)("http://185.250.207.95/"),i=JSON.parse(localStorage.getItem("userData"));a.auth={token:null===i||void 0===i?void 0:i.token,market:null===i||void 0===i?void 0:i.market};const s=a},21374:(e,t,l)=>{l.r(t),l.d(t,{default:()=>G});var a=l(65043),i=l(47990),s=l(47630),r=l(18446),n=l(79456),o=l(90221),c=l(98668),d=l(78054),u=l(4235),m=l(22963),p=l.n(m),h=l(66899),x=l(53536),g=l(72096),b=l(70579);const v=e=>{let{data:t,Delete:l,changeHandler:i,currency:s,increment:r,decrement:c,lowUnitpriceProducts:d,wholeSale:u,productId:m,productModal:p}=e;const[v,f]=(0,a.useState)(window.innerWidth<=768);(0,a.useEffect)((()=>{const e=()=>{f(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const{filials:N}=(0,n.d4)((e=>e.registerSelling)),{market:j}=(0,n.d4)((e=>e.login)),[y,w]=(0,a.useState)([]);(0,a.useEffect)((()=>{w((0,x.map)(t,(()=>!1)))}),[t]);let z=t.find((e=>e.product._id==m));const C=z?[z]:[];return(0,b.jsx)(b.Fragment,{children:C.map(((e,t)=>(0,b.jsxs)("li",{className:"w-[100vw] mt-[50px] bg-white list-none mb-[10px] p-[20px] rounded-md",children:[(0,b.jsx)("li",{className:"mt-2 text-2xl flex justify-between text-start",children:(0,b.jsx)("p",{className:"text-black-700 leading-7",children:e.product.name})}),(0,b.jsx)("li",{className:"flex justify-end mt-[20px] pe-7 text-2xl text-[green]",children:null===e||void 0===e?void 0:e.filialProductsTotal}),(0,b.jsx)("p",{className:"mt-3 text-sm",children:(0,g.t)("Fillial")}),(0,b.jsx)("li",{className:"w-[100vw] mt-1 bg-white list-none  rounded-md",children:N.length>1&&(0,b.jsx)("div",{className:"flex justify-center w-[80vw]",children:(0,b.jsx)("select",{onChange:t=>i(e.product._id,{filial:t.target.value,productcode:e.product.code,categorycode:e.categorycode},"select"),value:e.filial,className:"w-full outline-none border-[1px] rounded h-[40px] p-2 bg-[white]",children:N.length>0&&N.map(((e,t)=>(0,b.jsx)("option",{value:e.value,children:e.label},t)))})})}),(0,b.jsx)("p",{className:"mt-3 text-sm",children:(0,g.t)("Soni")}),(0,b.jsx)("li",{className:" mt-1 mb-3 text-sm flex justify-start ",children:(0,b.jsxs)("span",{className:"flex gap-[0.6rem]  items-center justify-start",children:[(0,b.jsx)("div",{className:"w-[40vw] ",children:(0,b.jsx)(h.A,{value:e.pieces,onChange:t=>i(e.product._id,t.target.value,"pieces"),type:"number",min:"h-[50px]"})}),(0,b.jsx)("button",{className:"rounded-[4px] duration-100 bg-success-500 hover:bg-success-600 p-[0.2rem]  h-[40px] w-[70px] text-3xl text-center text-white-900 active:scale-95",onClick:()=>r(e.product._id),children:"+"}),(0,b.jsx)("button",{className:"rounded-[4px] duration-100 bg-error-500 hover:bg-error-600 p-[0.2rem]  text-white-900 h-[40px] w-[70px] text-3xl text-center active:scale-95",onClick:()=>c(e.product._id),children:"-"})]})}),(0,b.jsx)("p",{className:"mt-3 text-sm",children:(0,g.t)("Ombordan")}),(0,b.jsx)("li",{className:"w-[40vw] mt-1",children:(0,b.jsx)(h.A,{value:e.fromFilial,onChange:t=>i(e.product._id,t.target.value,"fromFilial"),type:"number",disabled:e.filial===j._id&&!0})}),(0,b.jsxs)("p",{className:"mt-3 text-sm",children:[(0,g.t)("Narxi"),": ",s]}),(0,b.jsx)("li",{className:" mt-1 text-sm flex justify-start  items-center ",children:(0,b.jsx)(h.A,{value:"UZS"!==s?u&&e.tradeprice||e.unitprice:u&&e.tradepriceuzs||e.unitpriceuzs,onChange:t=>i(e.product._id,t.target.value,"unitprice"),type:"number"})}),(0,b.jsxs)("li",{className:" p-[10px] mt-3 text-xl flex justify-between  items-center ",children:[(0,b.jsxs)("span",{className:"me-2 w-8",children:[(0,g.t)("Jami"),": "]}),"UZS"!==s?e.totalprice.toLocaleString("ru-Ru"):e.totalpriceuzs.toLocaleString("ru-Ru")," ",s]}),(0,b.jsxs)("li",{className:" p-[10px] text-xl flex justify-between items-center ",children:[(0,b.jsx)("button",{onClick:()=>(e=>{const t=[...y];t[e]=!t[e],w([...t])})(t),children:y[t]?(0,b.jsx)(o.GNz,{}):(0,b.jsx)(o.Xyd,{})}),(0,b.jsx)("span",{className:"",children:y[t]?"UZS"===s?e.incomingpriceuzs.toLocaleString("ru-Ru")+" UZS":e.incomingprice.toLocaleString("ru-Ru")+" USD":""})]}),(0,b.jsxs)("li",{className:"flex justify-evenly mt-3",children:[(0,b.jsx)("button",{onClick:()=>p(!1),className:"rounded-[4px] duration-100 bg-success-500 hover:bg-success-600 p-[0.2rem]  h-[40px] w-[40vw]  text-center text-white-900 active:scale-95",children:(0,g.t)("Qo'shish")}),(0,b.jsx)("button",{className:"rounded-[4px] duration-100 bg-error-500 hover:bg-error-600 p-[0.2rem]  h-[40px] w-[40vw]  text-center text-white-900 active:scale-95",onClick:()=>{l(t),p(!1)},children:(0,g.t)("O'chirish")})]})]})))})};const f={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var N,j=new Uint8Array(16);function y(){if(!N&&!(N="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N(j)}for(var w=[],z=0;z<256;++z)w.push((z+256).toString(16).slice(1));function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(w[e[t+0]]+w[e[t+1]]+w[e[t+2]]+w[e[t+3]]+"-"+w[e[t+4]]+w[e[t+5]]+"-"+w[e[t+6]]+w[e[t+7]]+"-"+w[e[t+8]]+w[e[t+9]]+"-"+w[e[t+10]]+w[e[t+11]]+w[e[t+12]]+w[e[t+13]]+w[e[t+14]]+w[e[t+15]]).toLowerCase()}const S=function(e,t,l){if(f.randomUUID&&!t&&!e)return f.randomUUID();var a=(e=e||{}).random||(e.rng||y)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){l=l||0;for(var i=0;i<16;++i)t[l+i]=a[i];return t}return C(a)};var k=l(97160),A=l(97415),D=l(11108),_=l(80827),F=l(12602),U=l(30200),P=l(73734),I=l(70126),M=l(73216),O=l(76490),T=l(49092),E=l(22662),q=l(45842),Q=l(46243),L=l(3297),R=l(85369),W=l(27149),B=l(91154),Z=l(51655),V=l(93141);const G=()=>{var e;const[t,l]=(0,a.useState)(!1),{t:m}=(0,T.B)(["common"]),h=(0,n.wA)(),g=(0,M.Zp)(),f=(0,M.zy)(),{user:N,market:j}=(0,n.d4)((e=>e.login)),[y,w]=(0,a.useState)(!1),[z,C]=(0,a.useState)({visible:!1,mode:"1"}),[G,H]=(0,a.useState)(!1),[J,K]=(0,a.useState)(!1),{currencyType:Y,currency:X}=(0,n.d4)((e=>e.currency)),{allcategories:$,loading:ee}=(0,n.d4)((e=>e.category)),{filials:te}=(0,n.d4)((e=>e.registerSelling)),{allProducts:le,clients:ae,loadingMakePayment:ie,lastPayments:se}=(0,n.d4)((e=>e.registerSelling)),{packmans:re}=(0,n.d4)((e=>e.clients)),[ne,oe]=(0,a.useState)([]),[ce,de]=(0,a.useState)(""),[ue,me]=(0,a.useState)(!1),[pe,he]=(0,a.useState)([]),[xe,ge]=(0,a.useState)($),[be,ve]=(0,a.useState)(null),[fe,Ne]=(0,a.useState)(""),[je,ye]=(0,a.useState)([]),[we,ze]=(0,a.useState)(""),[Ce,Se]=(0,a.useState)(""),[ke,Ae]=(0,a.useState)([]),[De,_e]=(0,a.useState)(""),[Fe,Ue]=(0,a.useState)(""),[Pe,Ie]=(0,a.useState)(!1),[Me,Oe]=(0,a.useState)(null),[Te,Ee]=(0,a.useState)(!1),[qe,Qe]=(0,a.useState)("cash"),[Le,Re]=(0,a.useState)(""),[We,Be]=(0,a.useState)(""),[Ze,Ve]=(0,a.useState)(""),[Ge,He]=(0,a.useState)(""),[Je,Ke]=(0,a.useState)(""),[Ye,Xe]=(0,a.useState)(""),[$e,et]=(0,a.useState)(""),[tt,lt]=(0,a.useState)(""),[at,it]=(0,a.useState)(""),[st,rt]=(0,a.useState)(!1),[nt,ot]=(0,a.useState)({label:"%",value:"%"}),[ct,dt]=(0,a.useState)(null),[ut,mt]=(0,a.useState)(0),[pt,ht]=(0,a.useState)(0),[xt,gt]=(0,a.useState)(0),[bt,vt]=(0,a.useState)(0),[ft,Nt]=(0,a.useState)(0),[jt,yt]=(0,a.useState)(0),[wt,zt]=(0,a.useState)(0),[Ct,St]=(0,a.useState)(""),[kt,At]=(0,a.useState)(null),[Dt,_t]=(0,a.useState)(null),[Ft,Ut]=(0,a.useState)(null),[Pt,It]=(0,a.useState)([]),[Mt,Ot]=(0,a.useState)([]),[Tt,Et]=(0,a.useState)([]),[qt,Qt]=(0,a.useState)(0),[Lt,Rt]=(0,a.useState)(0),[Wt,Bt]=(0,a.useState)(0),[Zt,Vt]=(0,a.useState)(0),[Gt,Ht]=(0,a.useState)(X),[Jt,Kt]=(0,a.useState)(""),[Yt,Xt]=(0,a.useState)([]),[$t,el]=(0,a.useState)(!1),[tl,ll]=(0,a.useState)(""),[al,il]=(0,a.useState)(""),[sl,rl]=(0,a.useState)(!1),[nl,ol]=(0,a.useState)({label:null===j||void 0===j?void 0:j.name,value:null===j||void 0===j?void 0:j._id}),[cl,dl]=(0,a.useState)(window.innerWidth<=768);(0,a.useEffect)((()=>{const e=()=>{dl(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);let ul=null;const ml=(0,a.useRef)(null),pl=(0,V.useReactToPrint)({content:()=>ml.current}),hl=[{title:"\u2116"},{title:m("Filial")},{title:m("Qoldiq")},{title:m("Nomi")},{title:m("Soni")},{title:m("Ombordan")},{title:m("Narxi")},{title:m("Jami"),styles:"w-[8rem]"},{title:""},{title:""}],xl=[{title:"\u2116"},{title:m("Qoldiq")},{title:m("Nomi")},{title:m("Soni")},{title:m("Narxi")},{title:m("Jami"),styles:"w-[8rem]"},{title:""},{title:""}],gl=[{title:"\u2116"},{title:m("Kodi")},{title:m("Nomi")},{title:m("Soni")},{title:m("Jami")},{title:m("Soni")},{title:m("Jami")}],bl=e=>{Ee(e?!Te:e),Qe("cash"),rt(!1),et(""),lt(""),it(""),mt(0),rl(!1),ht(0),ot({label:"%",value:"%"})},vl=e=>Math.round(1e3*e)/1e3,fl=e=>Math.round(e),Nl=(e,t)=>{Ht(fl(e/t))},jl=()=>{if(pe.length){if(pe.some((e=>0===e.total&&0===e.fromFilial)))return(0,P.GU)();const e=pe.filter((e=>e.unitprice<=e.incomingprice)).map((e=>e.product._id));Xt(e);const t=pe.reduce(((e,t)=>vl(e+t.totalprice)),0),l=pe.reduce(((e,t)=>fl(e+t.totalpriceuzs)),0);gt(t),Nt(l),Re(t),Be(l),yt(t),zt(l),Ee(!0),Nl(l,t)}else X?(0,P.$5)():(0,P.QC)()},yl=e=>{Re(""),Be(""),Ve(""),ll(""),He(""),Ke(""),Xe(""),mt(0),ht(0),yt(0),zt(0),he([]),_e(""),ze(""),ye([...(0,x.map)([...re],(e=>({value:e._id,label:e.name})))]),Ae([{label:m("Barchasi"),value:""},...(0,x.map)([...ae],(e=>({value:e._id,label:e.name,saleconnectorid:(null===e||void 0===e?void 0:e.saleconnectorid)||null})))]),Ue(""),me(!1),ve(null),Oe(null),Ne(""),Ut(null),Et([]),Ot([]),It([]),Bt(0),Vt(0),Rt(0),Qt(0),bl(e),ol({label:null===j||void 0===j?void 0:j.name,value:null===j||void 0===j?void 0:j._id})},wl=()=>{Ie(!1),setTimeout((()=>{St("")}),500)},[zl,Cl]=(0,a.useState)(!1),Sl=()=>{var e,t,l;wl();const a={saleproducts:(0,x.map)(pe,(e=>{if($t){const t={...e,pieces:Number(e.pieces)+Number(e.fromFilial),unitprice:e.tradeprice||e.unitprice,unitpriceuzs:e.tradepriceuzs||e.unitpriceuzs};return(null===t||void 0===t?void 0:t.tradeprice)&&(null===t||void 0===t||delete t.tradeprice),(null===t||void 0===t?void 0:t.tradepriceuzs)&&(null===t||void 0===t||delete t.tradepriceuzs),t}{const t={...e,pieces:Number(e.pieces)+Number(e.fromFilial)};return(null===t||void 0===t?void 0:t.tradeprice)&&(null===t||void 0===t||delete t.tradeprice),(null===t||void 0===t?void 0:t.tradepriceuzs)&&(null===t||void 0===t||delete t.tradepriceuzs),t}})),client:{_id:De?De.value:null,name:De?De.label:Fe,packman:null===De||void 0===De?void 0:De.packman,phoneNumber:tl},packman:we?{_id:we.value,name:we.label}:null,discount:{discount:Number($e),discountuzs:Number(tt),procient:Number(at),isProcient:!!at},payment:{totalprice:Number(xt),totalpriceuzs:Number(ft),type:qe,cash:Number(Le),cashuzs:Number(We),card:Number(Ze),carduzs:Number(Ge),transfer:Number(Je),transferuzs:Number(Ye),discount:Number($e),discountuzs:Number(tt)},debt:{debt:Number(ut),debtuzs:Number(pt),comment:"",pay_end_date:al},user:Ce||N._id,saleconnectorid:Ft,comment:Jt};return(null===(e=a.debt)||void 0===e?void 0:e.debtuzs)>0&&(null===a||void 0===a||null===(t=a.client)||void 0===t||!t.name)?(0,P.Tv)():(null===(l=a.debt)||void 0===l?void 0:l.debtuzs)>0&&""===al?(0,P.o6)():a.saleproducts.some((e=>0===e.pieces||""===e.pieces))?(0,P._l)():void h(Ft?(0,k.eh)(a):(0,k.Rr)(a)).then((e=>{let{payload:t,error:l}=e;Cl(!0),l||(At(t),el(!1),il(""),Ut(null),setTimeout((()=>{cl||pl(),yl()}),500),Dt&&(h((0,A.vZ)({_id:Dt._id})),_t(null)),setTimeout((()=>{Cl(!1)}),1e4),Se(""))}))},kl=()=>{Cl(!0),wl();const e={totalOfBackAndDebt:bt,saleproducts:(0,x.filter)(Pt,(e=>Number(e.pieces)>0)),discounts:Tt,payment:{totalprice:Number(xt),totalpriceuzs:Number(ft),type:qe,cash:Number(xt<0?-1*Le:Le),cashuzs:Number(ft<0?-1*We:We),card:Number(xt<0?-1*Ze:Ze),carduzs:Number(xt<0?-1*Ge:Ge),transfer:Number(xt<0?-1*Je:Je),transferuzs:Number(xt<0?-1*Ye:Je)},debt:{debt:Number(xt<0?-1*ut:ut),debtuzs:Number(xt<0?-1*pt:pt),comment:"",pay_end_date:al},user:N._id,saleconnectorid:Ft,comment:Jt};h((0,k.Oy)(e)).then((e=>{let{payload:t,error:l}=e;l||(At(t),setTimeout((()=>{cl||(St("checkSellReturn"),Ie(!0)),yl()}),500),setTimeout((()=>{Cl(!1)}),1e4))}))},Al=()=>{if(pe.length>0){const e=pe.reduce(((e,t)=>vl(e+t.totalprice)),0),t=pe.reduce(((e,t)=>fl(e+t.totalpriceuzs)),0),l={temporary:{saleconnectorid:null,clientValue:De,packmanValue:we,userValue:Fe,tableProducts:pe,totalPrice:e,totalPriceUzs:t},user:N._id};h((0,k.Uw)(l)).then((e=>{let{error:t}=e;t||(yl(!1),g("/saqlanganlar"))})),Dt&&(h((0,A.vZ)({_id:Dt._id})),_t(null))}},Dl=(e,t,l)=>{switch(l){case"unitprice":El(e,t);break;case"pieces":ql(e,t);break;case"fromFilial":Ql(e,t);break;case"select":Vl(e,t)}},_l=e=>{1===pe.length&&Se(""),pe.splice(e,1),he([...pe])},Fl=(JSON.stringify(Dl),()=>{ue&&(Ue(""),ze(""),_e("")),me(!ue)}),Ul=e=>{be===e?ve(null):(ve(e),Ne(""),ge($))},Pl=e=>{const t=e.target.value;Ne(t);const l=t.replace(/\s+/g," ").trim(),a=(0,x.filter)($,(e=>e.name&&e.name.toLowerCase().includes(l)||e.code.includes(l)));ge(""!==t?a:$)},Il=e=>{const t=e.barcode?(0,x.filter)(pe,(t=>t.product.barcode===e.barcode)).length>0:(0,x.filter)(pe,(t=>t.product._id===e.value)).length>0;!e.barcode&&de(e);const l=e.barcode?le.find((t=>t.productdata.barcode===e.barcode)):le.find((t=>t._id===e.value)),a=S();console.log(l);let i={total:l.total,product:{_id:l._id,code:l.productdata.code,name:l.productdata.name,barcode:l.productdata.barcode},newID:a,minimumcount:l.minimumcount,totalprice:l.price.sellingprice,totalpriceuzs:l.price.sellingpriceuzs,tradeprice:l.price.tradeprice||0,tradepriceuzs:l.price.tradepriceuzs||0,pieces:1,incomingprice:l.price.incomingprice,incomingpriceuzs:l.price.incomingpriceuzs,unitprice:l.price.sellingprice,unitpriceuzs:l.price.sellingpriceuzs,categorycode:l.category.code,filialProductsTotal:l.total,fromFilial:0,filial:j._id,width:null===l||void 0===l?void 0:l.width,height:null===l||void 0===l?void 0:l.height,size:null===l||void 0===l?void 0:l.size,length:null===l||void 0===l?void 0:l.length,piece:null===l||void 0===l?void 0:l.piece,common:null===l||void 0===l?void 0:l.common,columns:null===l||void 0===l?void 0:l.columns};if(t){const e=S();i={...i,newID:e}}he([...pe,i]),de("")},Ml=e=>{ze(e);const t=(0,x.filter)(re,(t=>t._id===e.value))[0];t&&t.hasOwnProperty("clients")?Ae((0,x.map)(t.clients,(e=>({label:e.name,value:e._id,packman:t,saleconnectorid:(null===e||void 0===e?void 0:e.saleconnectorid)||null})))):Ae([{label:m("Tanlang"),value:""},...(0,x.map)([...ae],(e=>({label:e.name,value:e._id,packman:null===e||void 0===e?void 0:e.packman,saleconnectorid:(null===e||void 0===e?void 0:e.saleconnectorid)||null})))]),_e(""),Ue("")},Ol=e=>{_e(e);const t=(0,x.filter)(ae,(t=>t._id===e.value))[0];var l,a;t&&t.hasOwnProperty("packman")&&ze({label:null===t||void 0===t||null===(l=t.packman)||void 0===l?void 0:l.name,value:null===t||void 0===t||null===(a=t.packman)||void 0===a?void 0:a._id});ll(null===t||void 0===t?void 0:t.phoneNumber),e.value?Ue(e.label):Ue("")},Tl=e=>{Ue(e.target.value)},El=(e,t)=>{const l=$t?(0,x.map)(pe,(l=>l.product._id===e?{...l,tradeprice:"USD"===Y?t:(0,U.Ch)(t,Gt),tradepriceuzs:"UZS"===Y?t:(0,U.IQ)(t,Gt),totalprice:"USD"===Y?t*l.pieces:(0,U.Ch)(t*l.pieces,Gt),totalpriceuzs:"UZS"===Y?t*l.pieces:(0,U.IQ)(t*l.pieces,Gt)}:l)):(0,x.map)(pe,(l=>l.product._id===e?{...l,unitprice:"USD"===Y?t:(0,U.Ch)(t,Gt),unitpriceuzs:"UZS"===Y?t:(0,U.IQ)(t,Gt),totalprice:"USD"===Y?t*(Number(l.pieces)+Number(l.fromFilial)):(0,U.Ch)(t*(Number(l.pieces)+Number(l.fromFilial)),Gt),totalpriceuzs:"UZS"===Y?t*(Number(l.pieces)+Number(l.fromFilial)):(0,U.IQ)(t*(Number(l.pieces)+Number(l.fromFilial)),Gt)}:l));he(l)},ql=(e,t)=>{if(/^[0-9]+(\.[0-9]*)?$/.test(t)||""===t){const l=(0,x.map)(pe,(l=>l.product._id===e?{...l,pieces:t,totalprice:vl((Number(t)+Number(l.fromFilial))*($t&&l.tradeprice||l.unitprice)),totalpriceuzs:fl((Number(t)+Number(l.fromFilial))*($t&&l.tradepriceuzs||l.unitpriceuzs))}:l));he(l)}},Ql=(e,t)=>{const l=(0,x.map)(pe,(l=>l.product._id===e?{...l,fromFilial:Number(t),totalprice:vl((Number(t)+Number(l.pieces))*($t&&l.tradeprice||l.unitprice)),totalpriceuzs:fl((Number(t)+Number(l.pieces))*($t&&l.tradepriceuzs||l.unitpriceuzs))}:l));he(l)},Ll=e=>{const t=(0,x.map)(pe,(t=>t.product._id===e?{...t,pieces:Number(t.pieces)+1,totalprice:vl((Number(t.pieces)+Number(t.fromFilial)+1)*($t&&t.tradeprice||t.unitprice)),totalpriceuzs:fl((Number(t.pieces)+Number(t.fromFilial)+1)*($t&&t.tradepriceuzs||t.unitpriceuzs))}:t));he(t)},Rl=e=>{const t=(0,x.map)(pe,(t=>t.product._id===e?{...t,pieces:Number(t.pieces)>1?Number(t.pieces)-1:1,totalprice:vl((Number(t.pieces)>1?Number(t.pieces)-1+Number(t.fromFilial):1)*($t&&t.tradeprice||t.unitprice)),totalpriceuzs:fl((Number(t.pieces)>1?Number(t.pieces)-1+Number(t.fromFilial):1)*($t&&t.tradepriceuzs||t.unitpriceuzs))}:t));he(t)},Wl=(e,t,l)=>{if(e>Number(Pt[l].product.pieces))return(0,P.lY)(m("Diqqat! Qaytariladigan mahsulot soni sotilgan mahsulot sonidan ortiq bo'lolmaydi"),"warning");const a=(0,x.map)(Pt,(l=>l._id===t?{...l,pieces:e,totalprice:vl(e*l.unitprice),totalpriceuzs:fl(e*l.unitpriceuzs)}:l));It(a)},Bl=()=>{if(Pt.length){const e=Pt.reduce(((e,t)=>vl(e+t.totalprice)),0),t=Pt.reduce(((e,t)=>fl(e+t.totalpriceuzs)),0),l=Mt.map((e=>{let t={...e};return(0,x.map)(Pt,(l=>{var a;return e._id===(null===(a=l.product)||void 0===a?void 0:a.discount)&&(t={...e,discount:e.procient?vl(t.discount-l.totalprice*e.procient/100):0,discountuzs:e.procient?fl(t.discountuzs-l.totalpriceuzs*e.procient/100):0,totalprice:vl(t.totalprice-l.totalprice),totalpriceuzs:fl(t.totalpriceuzs-l.totalpriceuzs)}),""})),{...t}})),a=l.reduce(((e,t)=>e+t.discount),0),i=l.reduce(((e,t)=>e+t.discountuzs),0),s=vl(qt-Wt-a-e),r=fl(Lt-Zt-i-t);Et(l),s<=0?(gt(s),Nt(r),Re(Math.abs(s)),Be(Math.abs(r)),yt(Math.abs(s)),zt(Math.abs(r)),vt(t-Math.abs(r)<=0?0:t-Math.abs(r))):(Re(0),Be((0,U.IQ)(0,Gt)),mt(vl(s)),ht(fl(r)),gt(e),Nt(t),yt(e),zt(t),vt(t)),Ee(!0),Nl(t,e)}else(0,P._z)()},Zl=e=>{let t=e.target.checked;pe.length>0?(el(!$t),he(t?e=>e.map((e=>({...e,totalprice:e.tradeprice?vl(Number(e.pieces+e.fromFilial)*e.tradeprice):e.totalprice,totalpriceuzs:e.tradepriceuzs?fl(Number(e.pieces+e.fromFilial)*e.tradepriceuzs):e.totalpriceuzs}))):e=>e.map((e=>({...e,totalprice:e.unitprice?vl(Number(e.pieces+e.fromFilial)*e.unitprice):e.totalprice,totalpriceuzs:e.unitpriceuzs?fl(Number(e.pieces+e.fromFilial)*e.unitpriceuzs):e.totalpriceuzs}))))):(0,P.$5)()},Vl=(e,t)=>{Gl(t).then((l=>{he([...pe].map((a=>(a.product._id===e&&(a.filialProductsTotal=l.total,a.filial=t.filial,t.filial===j._id&&(a.fromFilial=0,a.totalprice=vl(Number(a.pieces)*($t&&a.tradeprice||a.unitprice)),a.totalpriceuzs=fl(Number(a.pieces)*($t&&a.tradepriceuzs||a.unitpriceuzs)))),a))))})).catch((e=>(0,P.lY)(e,"error")))},Gl=async e=>{const{data:t}=await Q.A.post("/filials/products/get",e);return t};(0,a.useEffect)((()=>{let e=[],t=[];j&&E.A.emit("getProductsOfCount",{market:j._id}),j&&E.A.on("categories",(e=>{let{id:t,categories:l}=e;t===j._id&&h((0,q.U2)(l))})),j&&E.A.on("getProductsOfCount",(l=>{let{id:a,products:i}=l;a===j._id&&(t=[...t,...(0,x.map)(i,(e=>{var t,l;return{value:e._id,label:"(".concat(e.total,") ").concat(e.category.code).concat(e.productdata.code," - ").concat(e.productdata.name," -------- (").concat("USD"===Y?(null===e||void 0===e||null===(t=e.price)||void 0===t?void 0:t.sellingprice).toLocaleString("ru-RU"):(null===e||void 0===e||null===(l=e.price)||void 0===l?void 0:l.sellingpriceuzs).toLocaleString("ru-RU")," ").concat(Y,")")}}))],oe(t),e.push(...i),h((0,k.UC)(e)))})),j&&E.A.on("error",(e=>{let{id:t,message:l}=e;t===j._id&&(0,P.lY)(l,"error")}))}),[j,h,se]),(0,a.useEffect)((()=>{if(be){const e=(0,x.filter)(le,(e=>e.category._id===be));oe((0,x.map)(e,(e=>({value:e._id,label:"(".concat(e.total,") ").concat(e.category.code).concat(e.productdata.code," - ").concat(e.productdata.name)}))))}else oe((0,x.map)(le,(e=>({value:e._id,label:"(".concat(e.total,") ").concat(e.category.code).concat(e.productdata.code," - ").concat(e.productdata.name)}))))}),[be]),(0,a.useEffect)((()=>{h((0,D.YU)()),h((0,k.Lf)()),h((0,k.f1)({marketData:j}))}),[h,j]),(0,a.useEffect)((()=>{ge($)}),[$]),(0,a.useEffect)((()=>{ye([{label:m("Tanlang"),value:""},...(0,x.map)([...re],(e=>({value:e._id,label:e.name})))])}),[re,m]),(0,a.useEffect)((()=>{Ae([{label:m("Barchasi"),value:""},...(0,x.map)([...ae],(e=>({value:e._id,label:e.name,saleconnectorid:(null===e||void 0===e?void 0:e.saleconnectorid)||null})))])}),[ae,m]),(0,a.useEffect)((()=>{const e=f.state,t=()=>{e.saleconnector.client&&_e({label:e.saleconnector.client.name,value:e.saleconnector.client._id}),e.saleconnector.packman&&ze({label:e.saleconnector.packman.name,value:e.saleconnector.packman._id}),Ut(e.saleconnector._id)};var l;e&&e.temporary&&(Se(e.temporary.user._id),_t(e.temporary),he(e.temporary.tableProducts),_e(e.temporary.clientValue),ze(e.temporary.packmanValue),Ue(null===(l=e.temporary.user)||void 0===l?void 0:l.userValue));if(e&&e.saleconnector&&!e.returnProducts&&t(),e&&e.saleconnector&&e.returnProducts){t();let l=[];(0,x.map)(e.saleconnector.products,(e=>{const t={_id:e.product._id,discount:e.discount&&e.discount,pieces:e.pieces,totalprice:e.totalprice,totalpriceuzs:e.totalpriceuzs};return(0,x.map)(e.saleproducts,(e=>(t.pieces+=e.pieces,t.totalprice+=e.totalprice,t.totalpriceuzs+=e.totalpriceuzs,""))),e.pieces>0&&l.push({pieces:"",totalpriceuzs:0,totalprice:0,unitprice:e.unitprice,unitpriceuzs:e.unitpriceuzs,product:{...t},productdata:{...e.product.productdata},_id:e._id}),""})),It((0,x.filter)(l,(e=>e.product.pieces>0))),Ot([...e.saleconnector.discounts]);const a=(e,t,l)=>"uzs"===l?fl(e.reduce(((e,l)=>e+l[t]),0)):vl(e.reduce(((e,l)=>e+l[t]),0));Qt(a(e.saleconnector.products,"totalprice","usd")),Rt(a(e.saleconnector.products,"totalpriceuzs","uzs")),Bt(a(e.saleconnector.payments,"payment","usd")),Vt(a(e.saleconnector.payments,"paymentuzs","uzs"))}window.history.replaceState({},document.title)}),[f.state]);const[Hl,Jl]=(0,a.useState)(null),[Kl,Yl]=(0,a.useState)(""),Xl=(e,t,l)=>{const a=Hl.columns.map(((a,i)=>i===t?{...a,[l]:e}:a));"col1"!==l&&"col2"!==l||(a[t].result=parseFloat(a[t].col1*a[t].col2));const i={...Hl,columns:a};Jl(i),he((e=>e.map((e=>e.newID===i.newID?i:e))))},$l=(e,t)=>{const l=/^[0-9]+(\.[0-9]*)?$/;if(G){if(console.log(t),l.test(e)||""===e){const l={...Hl,[t]:e};if("size"===t){const t=e;l.size=t,""!==e?(l.piece=parseFloat((l.width/t).toFixed(2)),l.length=(l.piece*(null===l||void 0===l?void 0:l.height)||0).toFixed(2),l.lengthAmout=l.length):(l.length=0,l.piece=0)}else if("piece"===t){const t=e;l.piece=t,""!==e?(l.size=parseFloat((l.width/t).toFixed(2)),l.length=(l.piece*(null===l||void 0===l?void 0:l.height)||0).toFixed(2),l.lengthAmout=l.length):(l.length=0,l.size=0)}else if("length"===t){const t=e;if(l.length=t,""!==e){let e=t/l.piece;l.pieces=parseFloat(e.toFixed(2))}}else if("product_piece"===t)if(""===e)l.pieces=Number(e);else{let t=l.piece*(null===l||void 0===l?void 0:l.height)||0;l.length=(t*e).toFixed(2),l.lengthAmout=l.length,l.pieces=Number(e);const a=fl(l.sizePrice*Number(l.length));l.totalpriceuzs=a}else if("sizePrice"===t){Number(Kl)||Number(l.fromFilial);l.priceFromLengthAmout=Number(e);const t=fl(l.sizePrice*Number(l.length));l.pieces,l.incomingpriceuzs,l.pieces,l.incomingprice;l.totalpriceuzs=t}Jl(l),he((e=>e.map((e=>e.newID===l.newID?{...l}:e)))),-1!==l.pieces&&Yl(isNaN(parseFloat(l.pieces))?"":parseFloat(l.pieces))}else if("forWhat"===t){const l={...Hl,[t]:e};Jl(l),he((e=>e.map((e=>e.newID===l.newID?{...l}:e))))}}else if(l.test(e)||""===e){const l={...Hl,[t]:e};if("size"===t){const t=e;l.size=t,""!==e&&(l.piece=parseFloat((l.width/t).toFixed(2)))}else if("piece"===t){const t=e;l.piece=t,""!==e&&(l.size=parseFloat((l.width/t).toFixed(2)))}else if("length"===t){const t=e;if(l.lengthAmout=t,l.length=t,""!==e){let e=t/l.piece;l.pieces=parseFloat(e.toFixed(2))}}else if("sizePrice"===t){const t=Number(l.lengthAmout)||Number(l.fromFilial)||0;l.priceFromLengthAmout=e;const a=fl(t*e);l.pieces,l.incomingpriceuzs,l.pieces,l.incomingprice;l.totalpriceuzs=a}Jl(l),he((e=>e.map((e=>e.newID===l.newID?{...l}:e)))),-1!==l.pieces&&Yl(parseFloat(l.pieces))}else if("forWhat"===t){const l={...Hl,[t]:e};Jl(l),he((e=>e.map((e=>e.newID===l.newID?{...l}:e))))}};console.log(pe);const ea=e=>{C({visible:!1,mode:e})};return(0,b.jsxs)("div",{className:"flex grow relative overflow-auto",children:[ie&&(0,b.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[100] left-0 top-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,b.jsx)(u.A,{})}),(0,b.jsx)(p(),{style:{content:{width:"700px"}},isOpen:z.visible,onRequestClose:()=>ea("1"),children:(0,b.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),"1"===z.mode){const e=pe.map((e=>{if(e.newID===Hl.newID){const t=Hl.columns.reduce(((e,t)=>e+t.result),0),l=vl((t+Number(e.fromFilial))*($t&&e.tradeprice||e.unitprice)),a=fl((t+Number(e.fromFilial))*($t&&e.tradepriceuzs||e.unitpriceuzs));return{...e,pieces:parseFloat(t),totalprice:l,totalpriceuzs:a}}return e}));he(e),ea("1")}else ea("2")},children:[(0,b.jsx)("span",{className:"absolute top-3 font-medium text-lg left-[45%] transform -translate-x-1/2     w-full text-center",children:null===Hl||void 0===Hl?void 0:Hl.product.name}),(0,b.jsxs)("div",{className:"flex gap-x-2 items-center pb-4",children:[(0,b.jsx)("span",{children:m("Sotish turini o'zgaritirish")})," ",(0,b.jsx)("input",{type:"checkbox",label:"Bo'lib sotish turi - ".concat(z.mode),onChange:e=>C((t=>({...t,mode:e.target.checked?"1":"2"})))})]}),(0,b.jsxs)("div",{style:{display:"1"===z.mode?"none":"block"},className:"flex gap-x-2 items-center pb-4",children:[(0,b.jsx)("span",{children:m("Uzunligi")})," ",(0,b.jsx)("input",{type:"checkbox",label:"Bo'lib sotish turi - ".concat(z.mode),checked:G,onChange:e=>H(e.target.checked)})]}),(0,b.jsx)("button",{type:"button",onClick:()=>(C({visible:!1,mode:"1"}),pe.forEach((e=>{(null===e||void 0===e?void 0:e.newID)===(null===Hl||void 0===Hl?void 0:Hl.newID)&&(delete e.columns,delete e.size,delete e.piece,delete e.length,delete e.forWhat,delete e.sizePrice,delete e.priceFromLengthAmout,delete e.lengthAmout,delete e.sizePrice,e.pieces=1)})),Jl(null),Yl(""),void he([...pe])),className:"absolute border border-error-500 w-7 h-7 flex justify-center items-center  rounded-full top-2 right-2 text-lg ",children:"x"}),"1"===z.mode?(0,b.jsx)("div",{className:"max-h-80 overflow-y-auto px-2",children:null===Hl||void 0===Hl||null===(e=Hl.columns)||void 0===e?void 0:e.map(((e,t)=>(0,b.jsxs)("div",{className:"flex items-center justify-between gap-x-3 mt-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 ",children:[(0,b.jsx)(s.A,{type:"text",step:"0.11",label:0===t&&"O'lcham",value:e.col1,placeholder:"O'lcham",onChange:e=>{let{target:l}=e;return Xl(l.value,t,"col1")}}),(0,b.jsx)(s.A,{type:"text",label:0===t&&"Soni",value:e.col2,placeholder:"Soni",step:"0.11",onChange:e=>{let{target:l}=e;return Xl(l.value,t,"col2")}}),(0,b.jsx)(s.A,{step:"0.11",type:"text",value:e.result,placeholder:"Umumiy",label:0===t&&"Umumiy",onChange:e=>{let{target:l}=e;return Xl(l.value,t,"result")}})]}),(0,b.jsx)("button",{onClick:()=>(e=>{const t=Hl.columns.filter(((t,l)=>l!==e)),l={...Hl,columns:t};Jl(l),he((e=>e.map((e=>e.newID===l.newID?l:e))))})(t),type:"button",className:"".concat(0==t?"mt-6":"","  text-error-500 border w-9 h-9 rounded-full flex justify-center items-center"),children:(0,b.jsx)(R.qbC,{})})]})))}):G?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{type:"text",placeholder:"Bo'yi",label:"Bo'yi",heigth:!0,value:null===Hl||void 0===Hl?void 0:Hl.height}),(0,b.jsx)(s.A,{type:"text",placeholder:"Eni",label:"Eni",value:null===Hl||void 0===Hl?void 0:Hl.width})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{placeholder:"O'lchami",type:"text",label:"O'lchami",onChange:e=>{let{target:t}=e;return $l(t.value,"size")},value:null===Hl||void 0===Hl?void 0:Hl.size}),(0,b.jsx)(s.A,{placeholder:m("Uzunligi"),type:"text",label:m("Uzunligi"),onChange:e=>{let{target:t}=e;return $l(t.value,"length")},value:null===Hl||void 0===Hl?void 0:Hl.length})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{placeholder:m("Bo`lak"),type:"text",label:m("Bo`lak"),onChange:e=>{let{target:t}=e;return $l(t.value,"piece")},value:null===Hl||void 0===Hl?void 0:Hl.piece}),(0,b.jsx)(s.A,{placeholder:m("Maxsulot miqdori"),label:m("Maxsulot miqdori"),type:"text",value:Kl,onChange:e=>{let{target:t}=e;return $l(t.value,"product_piece")}})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{placeholder:m("Maxsulot"),label:m("Maxsulot"),type:"text",onChange:e=>{let{target:t}=e;return $l(t.value,"forWhat")},value:null===Hl||void 0===Hl?void 0:Hl.forWhat}),(0,b.jsx)(s.A,{placeholder:m("Narxi"),label:m("Narxi"),type:"text",onChange:e=>{let{target:t}=e;return $l(t.value,"sizePrice")},value:null===Hl||void 0===Hl?void 0:Hl.sizePrice})]})]}):(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{type:"text",placeholder:"Eni",label:"Eni",value:null===Hl||void 0===Hl?void 0:Hl.width}),(0,b.jsx)(s.A,{placeholder:"O'lchami",type:"text",label:"O'lchami",onChange:e=>{let{target:t}=e;return $l(t.value,"size")},value:null===Hl||void 0===Hl?void 0:Hl.size})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{placeholder:m("Uzunligi"),type:"text",label:m("Uzunligi"),onChange:e=>{let{target:t}=e;return $l(t.value,"length")},value:null===Hl||void 0===Hl?void 0:Hl.length}),(0,b.jsx)(s.A,{placeholder:m("Bo`lak"),type:"text",label:m("Bo`lak"),onChange:e=>{let{target:t}=e;return $l(t.value,"piece")},value:null===Hl||void 0===Hl?void 0:Hl.piece})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[(0,b.jsx)(s.A,{placeholder:m("Maxsulot miqdori"),label:m("Maxsulot miqdori"),type:"text",value:Kl}),(0,b.jsx)(s.A,{placeholder:m("Maxsulot"),label:m("Maxsulot"),type:"text",onChange:e=>{let{target:t}=e;return $l(t.value,"forWhat")},value:null===Hl||void 0===Hl?void 0:Hl.forWhat})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-x-2",children:(0,b.jsx)(s.A,{placeholder:m("Narxi"),label:m("Narxi"),type:"text",onChange:e=>{let{target:t}=e;return $l(t.value,"sizePrice")},value:null===Hl||void 0===Hl?void 0:Hl.sizePrice})})]}),"1"===z.mode&&(0,b.jsx)("button",{onClick:()=>{const e={...Hl,columns:[...Hl.columns,{col1:0,col2:0,result:0}]};Jl(e),he((t=>t.map((t=>t.newID===e.newID?e:t))))},type:"button",className:"text-success-500 mt-2 border w-9 h-9 rounded-full flex justify-center items-center",children:(0,b.jsx)(R.OiG,{className:"text-white"})}),(0,b.jsxs)("div",{className:"flex justify-between items-center absolute bottom-2 w-[86%]",children:["1"===z.mode?(0,b.jsxs)("h5",{className:"text-lg font-medium",children:[" ","Umumiy:",null===Hl||void 0===Hl?void 0:Hl.columns.reduce(((e,t)=>e+t.result),0)]}):(0,b.jsx)("span",{}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 text-center text-white-900 text-base bg-success-500 rounded-sm",children:"Saqlash"})]})]})}),(0,b.jsx)(I.A,{hasDiscountBtn:!0,clickdelay:zl,returned:!!Pt.length,type:qe,showPayEndDate:sl,hasCalendar:!0,active:Te,payEndDate:al,handlePayEndDateChange:e=>{il(e)},togglePaymentModal:bl,changePaymentType:e=>{const t=xt-Number($e),l=ft-Number(tt),a=Pt.reduce(((e,t)=>vl(e+t.totalprice)),0),i=Pt.reduce(((e,t)=>fl(e+t.totalpriceuzs)),0),s=vl(qt-Wt-a),r=fl(Lt-Zt-i);if(qe!==e)switch(Qe(e),e){case"cash":Pt.length>0?s<=0?(gt(s),Nt(r),Re(Math.abs(s)),Be(Math.abs(r)),yt(Math.abs(s)),zt(Math.abs(r))):(Re(0),Be((0,U.IQ)(0,Gt)),mt(vl(s)),ht(fl(r)),gt(a),Nt(i),yt(a),zt(i)):(Re(t),Be(l),Ve(""),He(""),Ke(""),Xe(""),yt(t),zt(l),mt(0),ht(0));break;case"card":Pt.length>0?s<=0?(gt(s),Nt(r),Ve(Math.abs(s)),He(Math.abs(r)),yt(Math.abs(s)),zt(Math.abs(r))):(Ve(0),He((0,U.IQ)(0,Gt)),mt(vl(s)),ht(fl(r)),gt(a),Nt(i),yt(a),zt(i)):(Ve(t),He(l),Re(""),Be(""),Ke(""),Xe(""),yt(t),zt(l),mt(0),ht(0)),Re(""),Be(""),Ke(""),Xe("");break;case"transfer":Pt.length>0?s<=0?(gt(s),Nt(r),Ke(Math.abs(s)),Xe(Math.abs(r)),yt(Math.abs(s)),zt(Math.abs(r))):(Ke(0),Xe((0,U.IQ)(0,Gt)),mt(vl(s)),ht(fl(r)),gt(a),Nt(i),yt(a),zt(i)):(Ke(t),Xe(l),Re(""),Be(""),Ve(""),He(""),yt(t),zt(l),mt(0),ht(0)),Re(""),Be(""),Ve(""),He("");break;default:Re(""),Be(""),Ve(""),He(""),Ke(""),Xe(""),yt(0),zt(0),mt(xt-Number($e)),ht(ft-Number(tt))}},onChange:(e,t)=>{((e,t)=>{const l=Math.abs(xt)-Number($e),a=Math.abs(ft)-Number(tt);if("USD"===Y)if("cash"===t){const t=Number(e)+Number(Ze)+Number(Je),i=Number((0,U.IQ)(e,Gt))+Number(Ge)+Number(Ye);t<=l?(Re(e),Be((0,U.IQ)(e,Gt)),rl(vl(l-t)>0||fl(l-i)>0),mt(vl(l-t)),ht(fl(a-i)),yt(t),zt(i)):(0,P.OC)()}else if("card"===t){const t=Number(e)+Number(Le)+Number(Je),i=Number(We)+Number((0,U.IQ)(e,Gt))+Number(Ye);t<=l?(Ve(e),He((0,U.IQ)(e,Gt)),rl(vl(l-t)>0||fl(a-i)>0),mt(vl(l-t)),ht(fl(a-i)),yt(t),zt(i)):(0,P.OC)()}else{const t=Number(e)+Number(Le)+Number(Ze),i=Number(We)+Number(Ge)+Number((0,U.IQ)(e,Gt));t<=l?(Ke(e),Xe((0,U.IQ)(e,Gt)),rl(vl(l-t)>0||fl(a-i)>0),mt(vl(l-t)),ht(fl(a-i)),yt(t),zt(i)):(0,P.OC)()}else if("cash"===t){const t=Number(e)+Number(Ge)+Number(Ye),i=Number((0,U.Ch)(e,Gt))+Number(Ze)+Number(Je);t<=a?(Be(e),Re((0,U.Ch)(e,Gt)),rl(vl(l-i)>0||fl(a-t)>0),mt(vl(l-i)),ht(fl(a-t)),yt(i),zt(t)):(0,P.OC)()}else if("card"===t){const t=Number(e)+Number(We)+Number(Ye),i=Number(Le)+Number((0,U.Ch)(e,Gt))+Number(Je);t<=a?(Ve((0,U.Ch)(e,Gt)),He(e),rl(vl(l-i)>0||fl(a-t)>0),mt(vl(l-i)),ht(fl(a-t)),yt((0,U.Ch)(t,Gt)),zt(t)):(0,P.OC)()}else{const t=Number(e)+Number(We)+Number(Ge),i=Number(Le)+Number(Ze)+Number((0,U.Ch)(e,Gt));t<=a?(Ke((0,U.Ch)(e,Gt)),Xe(e),mt(vl(l-i)),ht(fl(a-t)),rl(vl(l-i)>0||fl(a-t)>0),yt(i),zt(t)):(0,P.OC)()}})(e,t)},client:Fe||De.label||we.label,allPayment:"USD"===Y?xt:ft,card:"USD"===Y?Ze:Ge,cash:"USD"===Y?Le:We,debt:"USD"===Y?ut:pt,discount:"USD"===Y?"USD"===nt.value?$e:at:"UZS"===nt.value?tt:at,handleChangeDiscount:e=>{const t=Math.round(30*xt/100*1e3)/1e3,l=Math.round(30*ft/100*1)/1;if("USD"===nt.value)e>t?(0,P.nN)("".concat(t," USD")):(et(e),lt((0,U.IQ)(e,Gt)),it(0),mt(xt-e),ht((0,U.IQ)(xt-e,Gt)));else if("UZS"===nt.value)e>l?(0,P.nN)("".concat(l," UZS")):(lt(e),et((0,U.Ch)(e,Gt)),it(0),mt((0,U.Ch)(ft-e,Gt)),ht(ft-e));else if(e>30)(0,P.nN)("30%");else{const t=Math.round(xt*e/100*1e3)/1e3,l=Math.round(ft*e/100*1)/1;it(e),et(t),lt(l),mt(vl(xt-t)),ht(fl(ft-l)),yt(xt-t),zt(ft-l)}Re(""),Be(""),Ve(""),He(""),Ke(""),Xe(""),yt(0),zt(0)},hasDiscount:st,transfer:"USD"===Y?Je:Ye,handleClickDiscountBtn:()=>{rt(!st),"cash"===qe?(Re(xt),Be(ft),yt(xt),zt(ft)):"card"===qe?(Ve(xt),He(ft),yt(xt),zt(ft)):"transfer"===qe?(Ke(xt),Xe(ft),yt(xt),zt(ft)):(Re(""),Be(""),Ve(""),He(""),Ke(""),Xe(""),yt(0),zt(0),mt(xt),ht(ft)),et(""),lt(""),it("")},discountSelectOption:nt,handleChangeDiscountSelectOption:e=>{nt.value!==e.value&&(ot(e),et(""),lt(""),it(""),Re(""),Be(""),Ve(""),He(""),Ke(""),Xe(""),mt(xt),ht(ft),yt(0),zt(0))},paid:"USD"===Y?jt:wt,handleClickPay:()=>{Pt.length?kl():Sl()},changeComment:e=>{Kt(e)},saleComment:Jt,onDoubleClick:()=>{window.clearTimeout(ul),ul=null,Pt.length>0?kl():Sl()}}),(0,b.jsx)(F.A,{body:Ct,toggleModal:"complete"===Ct?wl:()=>{Ie(!Pe),St(""),At(null)},approveFunction:"complete"===Ct?Pt.length?kl:Sl:()=>{},isOpen:Pe,product:kt,headers:hl,headerText:"complete"===Ct&&m("To'lovni amalga oshirishni tasdiqlaysizmi ?"),title:"complete"===Ct&&m("To'lovni amalga oshirgach bu ma`lumotlarni o`zgaritirb bo`lmaydi !"),changeProduct:(e,t)=>{switch(t){case"unitprice":(e=>{Oe({...Me,unitprice:"USD"===Y?e:(0,U.Ch)(e,Gt),unitpriceuzs:"UZS"===Y?e:(0,U.IQ)(e,Gt),totalprice:"USD"===Y?e*Me.pieces:(0,U.Ch)(e*Me.pieces,Gt),totalpriceuzs:"UZS"===Y?e*Me.pieces:(0,U.IQ)(e*Me.pieces,Gt)})})(e);break;case"pieces":(e=>{Oe({...Me,pieces:e,totalprice:e*Me.unitprice,totalpriceuzs:e*Me.unitpriceuzs})})(e);break;default:return null}}}),cl?null:(0,b.jsxs)("div",{className:"flex flex-col grow gap-[1.25rem] overflow-auto",children:[(0,b.jsxs)("div",{className:"mainPadding flex flex-col gap-[1.25rem]",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.A,{id:"register-selling",onChange:Fl,value:ue,label:m("Mijoz")}),(0,b.jsxs)("div",{className:"flex gap-[1.25rem] mt-[1rem]",children:[(0,b.jsx)(s.A,{placeholder:m("Agentlar"),maxWidth:"w-[14.676875rem]",disabled:!ue,border:!0,select:!0,value:we,options:je,onChange:Ml}),(0,b.jsx)(s.A,{placeholder:m("Xaridor"),maxWidth:"w-[14.676875rem]",disabled:!ue,border:!0,select:!0,value:De,options:ke,onChange:Ol}),(0,b.jsx)(s.A,{placeholder:m("Amaldagi xaridor"),disabled:!ue,value:Fe,onChange:Tl}),(0,b.jsx)(s.A,{placeholder:m("Telefon"),disabled:!ue,value:tl,onChange:e=>{let{target:t}=e;return ll(t.value)}})]})]}),!Pt.length&&(0,b.jsxs)("div",{className:"flex flex-col gap-[1.25rem]",children:[(0,b.jsx)(s.A,{select:!0,placeholder:m("misol: kompyuter"),value:ce,label:m("Maxsulotlar"),onChange:Il,options:ne}),(0,b.jsx)("div",{className:"flex justify-end items-start",children:(0,b.jsxs)("div",{className:"checkbox-card sale-toggle-container",children:[(0,b.jsxs)("p",{className:"toggleText",children:[m("Optom narxida hisoblash")," :"]}),(0,b.jsx)("input",{type:"checkbox",checked:$t,onChange:Zl})]})})]})]}),(0,b.jsx)("div",{className:"tableContainerPadding mt-[-20px]",children:Pt.length?(0,b.jsx)(r.A,{page:"backproduct",data:Pt,headers:gl,currency:Y,changeHandler:Wl}):pe.length?(0,b.jsx)(r.A,{page:"registersale",data:pe,headers:te.length>1?hl:xl,handleClickProduct:e=>{C({visible:!0,mode:"1"}),Jl({...e,columns:(null===e||void 0===e?void 0:e.columns)||[],size:(null===e||void 0===e?void 0:e.size)||"",piece:(null===e||void 0===e?void 0:e.piece)||"",length:(null===e||void 0===e?void 0:e.length)||"",forWhat:e.forWhat||"",sizePrice:e.sizePrice||"",lengthAmout:e.lengthAmout||"",priceFromLengthAmout:e.priceFromLengthAmout||""})},currency:Y,Delete:_l,changeHandler:Dl,footer:"registersale",increment:Ll,decrement:Rl,lowUnitpriceProducts:Yt,wholeSale:$t,selectedFilial:nl}):(0,b.jsx)(d.A,{text:m("Sotuvda mahsulotlar qo'shilmagan!")})})]}),cl&&t?(0,b.jsx)("div",{className:"fixed w-[100%] h-[100vh] bg-[white] top-0 right-0 z-[60] ",children:(0,b.jsx)(v,{data:pe,headers:te.length>1?hl:xl,currency:Y,productId:ct,Delete:_l,productModal:l,changeHandler:Dl,footer:"registersale",increment:Ll,decrement:Rl,lowUnitpriceProducts:Yt,wholeSale:$t,selectedFilial:nl})}):null,cl?(0,b.jsxs)("div",{className:"flex mt-[-20px] flex-col grow gap-[1.25rem] overflow-auto",children:[(0,b.jsxs)("div",{className:"flex gap-2 p-4 lg:justify-start mt-4 justify-evenly",children:[cl?(0,b.jsxs)("button",{onClick:()=>w(!0),className:" hover:bg-blue-200  bg-blue-400 focus-visible:outline-none w-[150px] lg:h-[33px] h=[40px] createElement ",children:[(0,b.jsx)(R.VGZ,{}),m("Mijoz")]}):null,cl?(0,b.jsxs)("button",{onClick:()=>K(!0),className:" hover:bg-green-200  bg-green-400 focus-visible:outline-none w-[150px] lg:h-[33px] h=[40px] createElement ",children:[(0,b.jsx)(W.M1j,{})," ",m("Kategoriya")]}):null]}),(0,b.jsx)("div",{className:" flex justify-center",children:!Pt.length&&(0,b.jsx)("div",{className:"flex flex-col w-[90vw] gap-[1.25rem]",children:(0,b.jsx)(s.A,{select:!0,placeholder:m("misol: kompyuter"),value:ce,onChange:e=>{Il(e),l(!0),dt(e.value)},options:ne})})}),(0,b.jsx)("div",{className:"ml-[20px] mb-[-20px] flex justify-between mr-[20px]",children:(0,b.jsx)("div",{className:"flex justify-end items-start",children:(0,b.jsxs)("div",{className:"checkbox-card  sale-toggle-container",children:[(0,b.jsxs)("p",{className:"toggleText ",children:[m("Optom narxida hisoblash")," :"]}),(0,b.jsx)("input",{className:"z-0",type:"checkbox",checked:$t,onChange:Zl})]})})}),y?(0,b.jsxs)("div",{className:"fixed w-[100%] h-[100vh] bg-[white] top-0 right-0 z-50 ",children:[(0,b.jsx)(B.hvQ,{onClick:()=>w(!1),className:" absolute right-[20px]  top-[20px]  text-4xl cursor-pointer"}),(0,b.jsxs)("div",{className:"mainPadding ps-[20px] mt-[50px] flex flex-col gap-[1.25rem]",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-[1.25rem] mt-[1rem]",children:[(0,b.jsx)(i.A,{id:"register-selling",onChange:Fl,value:ue,label:m("Mijoz")}),(0,b.jsx)(s.A,{placeholder:m("Agentlar"),maxWidth:"lg:w-[14.676875rem] w-[90vw]",disabled:!ue,border:!0,select:!0,value:we,options:je,onChange:Ml}),(0,b.jsx)(s.A,{placeholder:m("Xaridor"),maxWidth:"lg:w-[14.676875rem] w-[90vw]",disabled:!ue,border:!0,select:!0,value:De,options:ke,onChange:Ol}),(0,b.jsx)(s.A,{placeholder:m("Amaldagi xaridor"),disabled:!ue,value:Fe,onChange:Tl})]})}),(0,b.jsx)("div",{className:"flex mt-[30px] justify-center ",children:(0,b.jsxs)("button",{onClick:()=>w(!1),className:" hover:bg-blue-200  bg-blue-400 focus-visible:outline-none w-[150px] lg:h-[33px] h=[40px] createElement ",children:[(0,b.jsx)(R.YsJ,{})," ",m("izlash")]})})]})]}):null,(0,b.jsx)("div",{className:"mb-[100px] mt-[20px]",children:Pt.length?cl?(0,b.jsx)(L.A,{page:"backproduct",data:Pt,headers:gl,currency:Y,changeHandler:Wl}):(0,b.jsx)(r.A,{page:"backproduct",data:Pt,headers:gl,currency:Y,changeHandler:Wl}):pe.length?cl?(0,b.jsx)(L.A,{page:"registersale",productModal:l,productId:dt,data:pe,headers:te.length>1?hl:xl,currency:Y,Delete:_l,changeHandler:Dl,footer:"registersale",increment:Ll,decrement:Rl,lowUnitpriceProducts:Yt,wholeSale:$t,selectedFilial:nl}):(0,b.jsx)(r.A,{page:"registersale",data:pe,headers:te.length>1?hl:xl,currency:Y,Delete:_l,changeHandler:Dl,footer:"registersale",increment:Ll,decrement:Rl,lowUnitpriceProducts:Yt,wholeSale:$t,selectedFilial:nl}):(0,b.jsx)(d.A,{text:m("Sotuvda mahsulotlar qo'shilmagan!")})}),cl?(0,b.jsxs)("div",{className:"flex justify-center p-[5vw] gap-1 fixed bottom-0 left-0",children:[(0,b.jsx)("button",{type:"button",className:"lg:w-[200px] lg:ms-4 w-[70vw] register-selling-right-accept-btn",onClick:Pt.length?Bl:jl,children:m("To'lov")}),!Pt.length&&(0,b.jsx)("button",{type:"button",onClick:Al,className:"lg:w-[50px] flex justify-center w-[20vw] register-selling-right-deny-btn",children:(0,b.jsx)(o.WiF,{size:"1.5rem"})})]}):null]}):null,J?(0,b.jsxs)("div",{className:"fixed w-[100%] h-[100vh] bg-[white] top-0 right-0 z-50 register-selling-right min-w-[20.25rem] bg-white-400 backdrop-blur-[3.125rem] rounded-[0.25rem] flex flex-col gap-[1.25rem]",children:[(0,b.jsx)(B.hvQ,{onClick:()=>K(!1),className:" absolute right-[20px]  top-[20px]  text-4xl cursor-pointer"}),(0,b.jsxs)("div",{className:"flex mt-[50px] flex-col grow gap-[1.25rem]",children:[(0,b.jsx)(_.A,{placeholder:m("kategoriyani qidirish..."),value:fe,onChange:Pl,onKeyUp:()=>{}}),(0,b.jsx)("div",{className:"grow relative overflow-auto",children:(0,b.jsx)("div",{className:"cards-container absolute left-0 right-[0.125rem] top-0 bottom-0",children:ee?(0,b.jsx)("div",{className:"tableContainerPadding",children:(0,b.jsx)(u.A,{})}):xe.length>0?(0,x.map)(xe,(e=>(0,b.jsx)(c.A,{id:e._id,activeCategory:e._id===be,title:e.name,code:e.code,products:e.products.length,onClick:Ul},e._id))):(0,b.jsx)(d.A,{text:m("Kategoriya mavjud emas")})})})]}),(0,b.jsx)("div",{className:"flex gap-[0.625rem]",children:(0,b.jsx)("button",{type:"button",className:"register-selling-right-accept-btn",onClick:()=>K(!1),children:m("Saqlash")})})]}):null,cl?null:(0,b.jsxs)("div",{className:"register-selling-right min-w-[20.25rem] bg-white-400 backdrop-blur-[3.125rem] rounded-[0.25rem] flex flex-col gap-[1.25rem]",children:[(0,b.jsxs)("div",{className:"flex flex-col grow gap-[1.25rem]",children:[(0,b.jsx)(_.A,{placeholder:m("kategoriyani qidirish..."),value:fe,onChange:Pl,onKeyUp:()=>{}}),(0,b.jsx)("div",{className:"grow relative overflow-auto",children:(0,b.jsx)("div",{className:"cards-container absolute left-0 right-[0.125rem] top-0 bottom-0",children:ee?(0,b.jsx)("div",{className:"tableContainerPadding",children:(0,b.jsx)(u.A,{})}):xe.length>0?(0,x.map)(xe,(e=>(0,b.jsx)(c.A,{id:e._id,activeCategory:e._id===be,title:e.name,code:e.code,products:e.products.length,onClick:Ul},e._id))):(0,b.jsx)(d.A,{text:m("Kategoriya mavjud emas")})})})]}),(0,b.jsxs)("div",{className:"flex gap-[0.625rem]",children:[(0,b.jsx)("button",{type:"button",className:"register-selling-right-accept-btn",onClick:Pt.length?Bl:jl,children:m("To'lov")}),!Pt.length&&(0,b.jsx)("button",{type:"button",onClick:Al,className:"register-selling-right-deny-btn",children:(0,b.jsx)(o.WiF,{size:"1.5rem"})})]})]}),(0,b.jsx)(O.A,{onError:()=>{(0,P.lY)(m("Mahsulot kodi o'qilmadi!"),"warning")},onScan:e=>{Il({barcode:e})}}),(0,b.jsx)("div",{className:"hidden",children:(0,b.jsx)(Z.E,{ref:ml,product:kt})})]})}}}]);
//# sourceMappingURL=2660.41ec92c2.chunk.js.map