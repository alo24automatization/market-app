"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7388,1181],{77275:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);const s=a.p+"static/media/Excel.3a5a1731280185e0e4ae99ee0a4eebfc.svg"},23237:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(77275),l=a(49092),n=a(70579);const r=function(e){let{onClick:t}=e;const{t:a}=(0,l.B)(["common"]);return(0,n.jsxs)("button",{className:"exportButton ",onClick:t,children:[a("Eksport"),(0,n.jsx)("span",{className:"btn-icon bg-white-900 p-[8px]",children:(0,n.jsx)("img",{src:s.A,alt:"excel icon"})})]})}},31204:(e,t,a)=>{a.d(t,{A:()=>r});a(65043);var s=a(35475),l=a(90221),n=a(70579);const r=e=>{let{link:t}=e;return(0,n.jsx)(s.N_,{to:t,className:"lg:mt-[10px] lg:ms-[20px] mt-[50px] ms-[30px] linktoback",children:(0,n.jsx)(l.feN,{className:"mt-[]"})})}},70126:(e,t,a)=>{a.d(t,{A:()=>v});var s=a(90221),l=a(26441),n=(a(65043),a(79456)),r=a(2364),i=a(57290),o=a(70579);const c=e=>(0,o.jsx)(i.c.DropdownIndicator,{...e,children:(0,o.jsx)(s.QDT,{size:"0.625rem"})}),u={control:e=>({...e,borderTopRightRadius:".125rem",borderBottomRightRadius:".125rem",borderTopLeftRadius:"0",borderBottomLeftRadius:"0",fontSize:"0.75rem",fontWeight:"400",padding:"0.375rem 0.3125rem",color:"#071F45",outline:"none",border:"none",boxShadow:"none",cursor:"pointer",height:"100%",backgroundColor:"#F79009",minHeight:"100%","&:hover":{backgroundColor:"#DC6803"}}),container:e=>({...e,height:"100%",position:"absolute",right:0,width:"3rem",top:0,bottom:0}),option:(e,t)=>{let{isFocused:a,isSelected:s}=t;return{...e,fontSize:".75rem",fontWeight:"400",color:s||a?"#ffffff":"#071F45",backgroundColor:s?"#0090A3":a?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer",textAlign:"center"}},menu:e=>({...e,overflow:"hidden"}),singleValue:e=>({...e,fontSize:".75rem",fontWeight:"400",color:"#ffffff",margin:0,textAlign:"center"}),valueContainer:e=>({...e,padding:0}),indicatorsContainer:e=>({...e}),dropdownIndicator:e=>({...e,padding:0,color:"#ffffff"})};var d=a(72096);const m=function(e){let{value:t,onChange:a,option:s,onSelect:l}=e;const{currencyType:i}=(0,n.d4)((e=>e.currency)),m=[{value:i,label:i},{value:"%",label:"%"}];return(0,o.jsxs)("div",{className:"flex w-[11.75rem] border border-warning-500 rounded-[0.25rem] outline outline-transparent outline-0 focus-within:outline-2 focus-within:outline-warning-500 transition-all ease-in-out duration-100 relative",children:[(0,o.jsx)("input",{className:"w-[8.6875rem] placeholder-blue-200 py-[0.3125rem] px-[.3125rem] rounded-l-[0.25rem] outline-0 text-sm text-right transition-all ease-in-out duration-100",placeholder:"".concat((0,d.t)("misol"),": 100 000 000"),type:"number",value:t,onChange:e=>{a(e.target.value)},onWheel:e=>e.target.blur(),min:0}),(0,o.jsx)(r.Ay,{onChange:l,styles:u,isSearchable:!1,value:s,options:m,components:{IndicatorSeparator:()=>null,DropdownIndicator:c}})]})},p=e=>{let{value:t,onChange:a,option:s,onSelect:l}=e;return(0,o.jsxs)("div",{className:"flex justify-between w-full items-center mb-[1rem]",children:[(0,o.jsxs)("div",{className:"text-black-700 text-[0.875rem]",children:[(0,d.t)("Chegirma")," :"]}),(0,o.jsx)(m,{onChange:a,onSelect:l,value:t,option:s})]})};var h=a(66899);const x=e=>{let{onClick:t}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{onClick:t,className:"exitbtn",children:(0,o.jsx)(s.FyX,{size:"0.75rem"})})})};const b=function(e){let{mix:t,value:a,onChange:s,label:l,onClose:n,keyInput:r,placeholder:i,type:c,disabled:u}=e;return(0,o.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[l," :"]}),(0,o.jsxs)("div",{className:"flex items-center w-[11.75rem] gap-[0.625rem]",children:[(0,o.jsx)(h.A,{placeholder:i||"".concat((0,d.t)("misol"),": 100 000 000"),type:c||"number",value:a,disabled:u,onChange:e=>{s(e.target.value,r)}}),t&&(0,o.jsx)(x,{onClick:()=>n(r)})]})]})};var g=a(73216),f=a(9762);const v=function(e){let{returned:t,active:a,togglePaymentModal:r,hasCalendar:i,hiddenDebt:c,type:u="cash",showPayEndDate:m,cash:h="",card:x="",transfer:v="",hiddenMixed:y,discount:N,hasDiscount:j,hasDiscountBtn:C,debt:k,allPayment:S,paid:w=0,client:z="",onChange:D,onClose:A,changePaymentType:P,discountSelectOption:U,handleClickDiscountBtn:T,handleChangeDiscountSelectOption:I,handleChangeDiscount:B,handleClickPay:q,clickdelay:L,disableInputsCashCard:R,payEndDate:E,handlePayEndDateChange:_,disablePayButton:O}=e;const M=(0,g.zy)(),Q=()=>{switch(u){case"card":return(0,o.jsx)(b,{value:x,keyInput:u,onChange:D,onClose:A,disabled:R,label:(0,d.t)("Plastik")},"sale-card1");case"transfer":return(0,o.jsx)(b,{value:v,keyInput:u,onChange:D,onClose:A,disabled:R,label:(0,d.t)("O`tkazma")},"sale-transfer");case"mixed":return[{label:(0,d.t)("Naqd"),key:"cash",value:h},{label:(0,d.t)("Plastik"),key:"card",value:x},{label:(0,d.t)("O`tkazma"),key:"transfer",value:v}].map((e=>(0,o.jsx)(b,{value:e.value,keyInput:e.key,onChange:D,onClose:A,label:(0,d.t)(e.label)},"sale-".concat(e.key))));default:return(0,o.jsx)(b,{disabled:R,value:h,onChange:D,keyInput:u,onClose:A,label:(0,d.t)("Naqd")},"sale-cash")}},{currencyType:F}=(0,n.d4)((e=>e.currency));return(0,o.jsxs)("section",{className:"fixed transition-all left-0 top-0 right-0 bottom-0 overflow-hidden duration-200 ease-out bg-black-300 backdrop-blur-[3px] z-20 ".concat(a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:r,children:[(0,o.jsx)("h3",{className:"text-white-900 text-lg leading-[1.875rem absolute top-[50%] left-[35%] -translate-x-[50%]",children:(0,d.t)("")}),(0,o.jsxs)("div",{className:"customerPay-head-style transition-all duration-200 ease-linear h-full overflow-auto absolute top-0 bottom-0 right-0 ".concat(a?"translate-x-0":"translate-x-full"),onClick:e=>e.stopPropagation(),autoFocus:!0,children:[(0,o.jsxs)("div",{className:"top-payment w-full",children:[z&&(0,o.jsxs)("div",{className:"customer-head-icon",children:[(0,o.jsxs)("div",{className:"flex items-center custom-payment-text-style",children:[(0,o.jsx)(s.uSr,{className:"mr-[0.75rem]"}),(0,o.jsxs)("span",{children:[(0,d.t)("Mijoz")," : "]})]}),(0,o.jsx)("h3",{className:"text-[0.875rem]",children:z})]}),(0,o.jsxs)("div",{className:"mb-[1.25rem] font-medium text-[1.25rem] text-center leading-[23.44px]",children:[null===S||void 0===S?void 0:S.toLocaleString("ru-Ru")," ",F]}),(0,o.jsxs)("ul",{className:"w-full pb-[1.25rem]",children:[!t&&Q(),(M.pathname.includes("/kassa/debts")||M.pathname.includes("/qarzdorlar")||M.pathname.includes("/maxsulotlar/qabul/qabulqilish")||M.pathname.includes("/maxsulotlar/qabul/qabullar"))&&Q(),j&&(0,o.jsx)(p,{value:N,onChange:B,option:U,onSelect:I}),m&&(0,o.jsxs)("li",{className:"custom-payment-ul-li justify-between flex gap-x-5",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[(0,d.t)("To'lov sanasi"),":"]}),(0,o.jsx)(f.A,{onChange:_,value:E,placeholder:"To'lov sanasi",disableIcon:!0})]}),c?null:(0,o.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[(0,d.t)("Qarzlar")," :"," "]}),(0,o.jsxs)("h3",{className:"text-error-500 text-[1rem]",children:[k.toLocaleString("ru-Ru")," ",F]})]}),(0,o.jsxs)("li",{className:"custom-payment-ul-li",children:[(0,o.jsxs)("span",{className:"custom-payment-text-style",children:[S<0?(0,d.t)("Qaytarilayotgan"):(0,d.t)("To`lanayotgan")," ",":"," "]}),(0,o.jsxs)("h3",{className:"text-[1rem] text-loginButton",children:[null===w||void 0===w?void 0:w.toLocaleString("ru-Ru")," ",F]})]})]})]}),(0,o.jsxs)("div",{className:"bottom-payment w-full flex flex-col gap-[1.25rem] border-t-[1px] border-black-200 pt-[1.25rem]",children:[(0,o.jsxs)("div",{className:"custom-paymet-btn",children:[(0,o.jsx)(l.Gv,{text:(0,d.t)("Naqd"),type:"cash",active:"cash"===u,onClick:P}),(0,o.jsx)(l.Gv,{text:(0,d.t)("Plastik"),type:"card",active:"card"===u,onClick:P}),(0,o.jsx)(l.Gv,{text:(0,d.t)("O'tkazma"),type:"transfer",active:"transfer"===u,onClick:P}),!t||y&&(0,o.jsx)(l.Gv,{text:(0,d.t)("Aralash"),type:"mixed",active:"mixed"===u,onClick:P}),M.pathname.includes("/kassa/debts")&&(0,o.jsx)(l.Gv,{text:(0,d.t)("Aralash"),type:"mixed",active:"mixed"===u,onClick:P})]}),!t&&C&&(0,o.jsx)(l.eV,{text:(0,d.t)("Chegirma"),onClick:T}),(0,o.jsx)(l.p2,{text:(0,d.t)("To'lash"),disablePayButton:L,loading:L,onClick:L?()=>console.log("wait"):q})]})]})]})}},12008:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var s=a(49092),l=a(70579);const n=e=>{let{connectors:t,styles:a,currencyType:n}=e;const{t:r}=(0,s.B)(["common"]);return(0,l.jsxs)("div",{className:"productTypeBlock ".concat(a),children:[(0,l.jsxs)("div",{className:"productType",children:[r("Maxsulotlar soni"),":"," ",(0,l.jsx)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:t.reduce(((e,t)=>e+t.products),0).toLocaleString("ru-RU")})]}),(0,l.jsxs)("div",{className:"productSumAll",children:[r("Jami")," :"," ",(0,l.jsxs)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:[t.length>0?"USD"===n?t.reduce(((e,t)=>e+t.totalprice),0).toLocaleString("ru-RU"):t.reduce(((e,t)=>e+t.totalpriceuzs),0).toLocaleString("ru-RU"):0," ",n]})]})]})}},85526:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});var s=a(65043),l=a(79456),n=a(73216),r=a(23237),i=a(72096),o=a(70579);const c=e=>{let{products:t,deliver:a,date:s,pieces:n,onClick:r,debt:c=0,debtUzs:u=0,paid:d=0,paidUzs:m=0,all:p=0,allUzs:h=0,onClickPayDebt:x,id:b,time:g}=e;const{currencyType:f}=(0,l.d4)((e=>e.currency));return(0,o.jsxs)("div",{onClick:r,className:"flex-[0_0_23.5%] cardStyle",children:[(0,o.jsx)("h1",{className:"headerStyle",children:a}),(0,o.jsxs)("div",{className:"text-[.875rem] mt-[1rem] text-center",children:[(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Maxsulot turlari"),":"]}),(0,o.jsx)("p",{children:t.toLocaleString("ru-Ru")})]}),(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsx)("p",{className:"paragrafCardBtn",children:(0,i.t)("Maxsulotlar soni")}),(0,o.jsx)("p",{children:n.toLocaleString("ru-Ru")})]}),(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Sana"),":"]}),(0,o.jsx)("p",{children:s})]}),(0,o.jsxs)("div",{className:"numberCard",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Vaqti"),":"]}),(0,o.jsx)("p",{className:"text-warning-200",children:g})]}),(0,o.jsx)("span",{className:"block h-[1px] bg-white-400 my-[0.5rem]"}),(0,o.jsxs)("div",{className:"numberCard items-center",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Umumiy")," :"]}),(0,o.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-blue-600",children:["UZS"===f?h:p," ",(0,o.jsx)("span",{children:f})]})]}),(0,o.jsxs)("div",{className:"numberCard items-center",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("To'langan")," :"]}),(0,o.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-success-500",children:["UZS"===f?m:d," ",(0,o.jsx)("span",{children:f})]})]}),0!==c&&(0,o.jsxs)("div",{className:"numberCard items-center",children:[(0,o.jsxs)("p",{className:"paragrafCard",children:[(0,i.t)("Qarzlar")," :"]}),(0,o.jsxs)("span",{className:"block p-[0.2rem_0.5rem] rounded-[4px] bg-error-500",children:["UZS"===f?u.toLocaleString("ru-Ru"):c.toLocaleString("ru-Ru")," ",(0,o.jsx)("span",{children:f})]})]}),0!==c&&(0,o.jsx)("button",{className:"mt-[1rem] p-[.5rem_1rem] rounded-[1rem] text-center bg-error-500 text-white-900 hover:bg-warning-500 duration-200 active:scale-95 shadow-[0_0_10px_rgba(255,255,255,0.2)] active:shadow-none",onClick:e=>{x({debt:c,debtUzs:u,deliver:a,id:b}),e.stopPropagation()},children:(0,i.t)("Qarzni to'lash")})]})]})};var u=a(31204),d=a(54964),m=a(12008),p=a(37919),h=a(30200),x=a(37424),b=a(53536),g=a(12602),f=a(49092),v=a(70126),y=a(73734),N=a(78054),j=a(18446),C=a(4235);const k=()=>{const{t:e}=(0,f.B)(["common"]),t=(0,l.wA)(),{market:{_id:a},user:i}=(0,l.d4)((e=>e.login)),{incomings:k,incomingscount:S,incomingconnectors:w,successUpdate:z,successDelete:D,loadingExcel:A}=(0,l.d4)((e=>e.incoming)),{currencyType:P,currency:U}=(0,l.d4)((e=>e.currency)),{state:{date:T,supplier:I}}=(0,n.zy)();let B=new Date(new Date(T).setHours(3,0,0,0)).toISOString(),q=new Date(new Date(T).setHours(26,59,59,59)).toISOString();const[L,R]=(0,s.useState)(0),[E,_]=(0,s.useState)(10),[O,M]=(0,s.useState)({name:"",code:"",supplier:I}),[Q,F]=(0,s.useState)({name:"",code:"",supplier:I}),[H,K]=(0,s.useState)({filter:"",sort:"",count:0}),[Y,W]=(0,s.useState)([]),[Z,G]=(0,s.useState)([]),[J,V]=(0,s.useState)([]),[X,$]=(0,s.useState)([]),[ee,te]=(0,s.useState)({}),[ae,se]=(0,s.useState)(""),[le,ne]=(0,s.useState)(!1),[re,ie]=(0,s.useState)("cash"),[oe,ce]=(0,s.useState)(""),[ue,de]=(0,s.useState)(""),[me,pe]=(0,s.useState)(""),[he,xe]=(0,s.useState)(""),[be,ge]=(0,s.useState)(""),[fe,ve]=(0,s.useState)(""),[ye,Ne]=(0,s.useState)(0),[je,Ce]=(0,s.useState)(0),[ke,Se]=(0,s.useState)(0),[we,ze]=(0,s.useState)(0),[De,Ae]=(0,s.useState)(0),[Pe,Ue]=(0,s.useState)(0),[Te,Ie]=(0,s.useState)("approve"),[Be,qe]=(0,s.useState)(!1),[Le,Re]=(0,s.useState)(U),[Ee,_e]=(0,s.useState)(""),[Oe,Me]=(0,s.useState)(""),[Qe,Fe]=(0,s.useState)("");let He=null;const Ke=(0,s.useCallback)((e=>{let t=[];for(let s of e){let e={_id:s._id,createdAt:new Date(s.createdAt).toLocaleDateString(),time:new Date(s.createdAt).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit",hourCycle:"h24"}),supplier:{...s.supplier},products:s.incoming.length,pieces:(a=s.incoming,a.reduce(((e,t)=>e+t.pieces),0)),totalprice:s.total,totalpriceuzs:s.totaluzs,totalpayment:s.totalpayment,totalpaymentuzs:s.totalpaymentuzs,debt:s.debt,debtuzs:s.debtuzs};t.push(e)}var a;W(t)}),[]),Ye=()=>{J.some((e=>e.pieces===ee.pieces&&e.unitprice===ee.unitprice&&e.sellingprice===ee.sellingprice))?te({}):t((0,p.AH)({market:a,startDate:B,endDate:q,product:{...ee}}))},We=(0,s.useCallback)((()=>{t((0,p.qQ)({market:a,beginDay:B,endDay:q,currentPage:L,countPage:E,search:O}))}),[t,a,B,q,L,E,O]),Ze=(0,s.useCallback)((()=>{t((0,p.Hu)({market:a,beginDay:B,endDay:q}))}),[t,a,B,q]),Ge=()=>{qe(!Be),setTimeout((()=>{Ie(""),se({})}),500)},Je=e=>Math.round(1e3*e)/1e3,Ve=e=>Math.round(e),Xe=e=>{ne(e?!le:e),ie("cash"),Ne(0),Ce(0)},$e=(e,t)=>{const a=Math.abs(ke),s=Math.abs(we);if("USD"===P)if("cash"===t){const t=Number(e)+Number(me)+Number(be),l=Number((0,h.IQ)(e,Le))+Number(he)+Number(fe);t<=a?(ce(e),de((0,h.IQ)(e,Le)),Ne(Je(a-t)),Ce(Ve(s-l)),Ae(t),Ue(l)):(0,y.OC)()}else if("card"===t){const t=Number(e)+Number(oe)+Number(be),l=Number(ue)+Number((0,h.IQ)(e,Le))+Number(fe);t<=a?(pe(e),xe((0,h.IQ)(e,Le)),Ne(Je(a-t)),Ce(Ve(s-l)),Ae(t),Ue(l)):(0,y.OC)()}else{const t=Number(e)+Number(oe)+Number(me),l=Number(ue)+Number(he)+Number((0,h.IQ)(e,Le));t<=a?(ge(e),ve((0,h.IQ)(e,Le)),Ne(Je(a-t)),Ce(Ve(s-l)),Ae(t),Ue(l)):(0,y.OC)()}else if("cash"===t){const t=Number(e)+Number(he)+Number(fe),l=Number((0,h.Ch)(e,Le))+Number(me)+Number(be);t<=s?(de(e),ce((0,h.Ch)(e,Le)),Ne(Je(a-l)),Ce(Ve(s-t)),Ae(l),Ue(t)):(0,y.OC)()}else if("card"===t){const t=Number(e)+Number(ue)+Number(fe),l=Number(oe)+Number((0,h.Ch)(e,Le))+Number(be);t<=s?(pe((0,h.Ch)(e,Le)),xe(e),Ne(Je(a-l)),Ce(Ve(s-t)),Ae((0,h.Ch)(t,Le)),Ue(t)):(0,y.OC)()}else{const t=Number(e)+Number(ue)+Number(he),l=Number(oe)+Number(me)+Number((0,h.Ch)(e,Le));t<=s?(ge((0,h.Ch)(e,Le)),ve(e),Ne(Je(a-l)),Ce(Ve(s-t)),Ae(l),Ue(t)):(0,y.OC)()}},et=e=>{const t=e.debt,a=e.debtUzs;Me(e.deliver),Fe(e.id),Se(t),ze(a),ce(t),de(a),Ae(t),Ue(a),ne(!0),Re(Ve(a/t)),ne(!0)},tt=()=>{const e=e=>e<0&&e||-1*e,s={payment:{payment:Number(ke<0?e(oe):oe)+Number(ke<0?e(me):me)+Number(ke<0?e(be):be),paymentuzs:Number(ke<0?e(ue):ue)+Number(ke<0?e(he):he)+Number(ke<0?be<0&&e(fe):fe),type:re,cash:Number(ke<0?e(oe):oe),cashuzs:Number(we<0?e(ue):ue),card:Number(ke<0?e(me):me),carduzs:Number(ke<0?e(he):he),transfer:Number(ke<0?e(be):be),transferuzs:Number(ke<0?e(fe):fe),comment:Ee},user:i._id,incomingconnectorid:Qe};t((0,p.IH)(s)).then((e=>{let{error:s}=e;s||(t((0,p.Hu)({market:a,beginDay:B,endDay:q})),qe(!1),Ie(""),Xe())}))};(0,s.useEffect)((()=>{We()}),[We]),(0,s.useEffect)((()=>{z&&(We(),Ze(),te({}),t((0,p.KC)()))}),[t,We,Ze,z]),(0,s.useEffect)((()=>{D&&(We(),t((0,p.FT)()))}),[t,We,D]),(0,s.useEffect)((()=>{Ze()}),[Ze]),(0,s.useEffect)((()=>{Ke(w)}),[w,Ke]),(0,s.useEffect)((()=>{(e=>{let t=(0,b.map)(e,(e=>({...e,sellingprice:e.product.price.sellingprice,sellingpriceuzs:e.product.price.sellingpriceuzs})));G(t),V(t),$(t)})(k)}),[k]);const at=[{title:"\u2116"},{title:e("Yetkazuvchi"),styles:"w-[10%]"},{title:e("Kodi"),filter:"product.productdata.code",styles:"w-[7%]"},{title:e("Nomi"),filter:"product.productdata.name"},{title:e("Soni"),styles:"w-[10%]"},{title:e("Kelish"),styles:"w-[10%]"},{title:e("Jami"),styles:"w-[15%]"},{title:e("Sotish"),styles:"w-[10%]"},{title:"",styles:"w-[5%]"}];return(0,o.jsxs)("div",{className:"relative grow overflow-hidden",children:[A&&(0,o.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[100] left-0 top-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,o.jsx)(C.A,{})}),(0,o.jsx)(v.A,{returned:!0,type:re,active:le,togglePaymentModal:Xe,changePaymentType:e=>{if(re!==e)switch(ie(e),e){case"cash":ce(ke),de(we),pe(""),xe(""),ge(""),ve(""),Ae(ke),Ue(we),Ne(0),Ce(0);break;case"card":pe(ke),xe(we),ce(""),de(""),ge(""),ve(""),Ae(ke),Ue(we),Ne(0),Ce(0);break;case"transfer":ge(ke),ve(we),ce(""),de(""),pe(""),xe(""),Ae(ke),Ue(we),Ne(0),Ce(0);break;default:ce(""),de(""),pe(""),xe(""),ge(""),ve(""),Ae(0),Ue(0),Ne(ke),Ce(we)}},onChange:(e,t)=>{$e(e,t)},client:Oe,allPayment:"USD"===P?ke:we,card:"USD"===P?me:he,cash:"USD"===P?oe:ue,debt:"USD"===P?ye:je,hasDiscount:!1,transfer:"USD"===P?be:fe,paid:"USD"===P?De:Pe,handleClickPay:()=>{null===He&&(He=window.setTimeout((()=>{He=null,Ie("complete"),qe(!0)}),300))},changeComment:e=>{_e(e)},saleComment:Ee,onDoubleClick:()=>{window.clearTimeout(He),He=null,tt()}}),(0,o.jsxs)("div",{className:"absolute left-0 right-0 top-0 bottom-0 overflow-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mainPadding",children:[(0,o.jsx)(u.A,{link:"/maxsulotlar/qabul/qabullar"}),(0,o.jsx)(m.A,{connectors:Y,currencyType:P})]}),(0,o.jsx)("div",{className:"flex flex-wrap gap-[2.5rem_2%] mainPadding",children:Y.length>0&&(0,b.map)(Y,(e=>(0,o.jsx)(c,{date:e.createdAt,time:e.time,deliver:e.supplier.name,products:e.products,pieces:e.pieces,debt:e.debt,debtUzs:e.debtuzs,paid:e.totalpayment,paidUzs:e.totalpaymentuzs,all:e.totalprice,allUzs:e.totalpriceuzs,onClickPayDebt:et,id:e._id,onClick:()=>(e=>{const t=(0,b.filter)(Z,(t=>t.incomingconnector===e));V(t),$(t)})(e._id)},(0,b.uniqueId)("card"))))}),J.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"mainPadding flex items-center justify-between",children:[(0,o.jsx)(r.A,{onClick:()=>{let a="Maxsulotlar-qabul-qabullar - ".concat((new Date).toLocaleDateString());const s=["\u2116",e("Yetkazuvchi"),e("Kodi"),e("Nomi"),e("Soni"),e("Kelish UZS"),e("Kelish USD"),e("Jami UZS"),e("Jami USD")],l={beginDay:B,endDay:q};t((0,p.FW)(l)).then((e=>{let{error:t,payload:l}=e;if(!t)if((null===l||void 0===l?void 0:l.length)>0){const e=(0,b.map)(l,((e,t)=>{var a,s,l,n,r,i;return{nth:t+1,supplier:(null===e||void 0===e||null===(a=e.supplier)||void 0===a?void 0:a.name)||"",code:(null===e||void 0===e||null===(s=e.product)||void 0===s||null===(l=s.productdata)||void 0===l?void 0:l.code)||"",name:(null===e||void 0===e||null===(n=e.product)||void 0===n||null===(r=n.productdata)||void 0===r?void 0:r.name)||"",count:(null===e||void 0===e?void 0:e.pieces)+" "+(null===e||void 0===e||null===(i=e.unit)||void 0===i?void 0:i.name)||"",unit:(null===e||void 0===e?void 0:e.unitpriceuzs)||"",unitusd:(null===e||void 0===e?void 0:e.unitprice)||"",all:(null===e||void 0===e?void 0:e.totalpriceuzs)||"",allusd:(null===e||void 0===e?void 0:e.totalprice)||""}}));(0,h.m1)(e,a,s)}else(0,y.lY)("Jadvalda ma'lumot mavjud emas !","warning")}))}}),(0,o.jsx)("span",{children:e("Ro`yxat")}),(0,o.jsx)(d.A,{currentPage:L,setCurrentPage:R,countPage:E,totalDatas:S})]}),(0,o.jsx)(x.A,{filterBy:["total","code","name"],filterByName:e=>{let t=e.target.value.toLowerCase();V([...(0,b.filter)([...X],(e=>{let{product:a}=e;return a.productdata.name.toLowerCase().includes(t)}))]),F({...Q,name:t})},filterByTotal:e=>_(e.value),filterByCode:e=>{let t=e.target.value.toLowerCase();V([...(0,b.filter)([...X],(e=>{let{product:a}=e;return a.productdata.code.includes(t)}))]),F({...Q,code:t})},filterByCodeAndNameAndCategoryWhenPressEnter:e=>{"Enter"===e.key&&M(Q)}}),(0,o.jsx)("div",{className:"tableContainerPadding",children:(0,o.jsx)(j.A,{page:"incomings",headers:at,data:J,currentPage:L,countPage:E,currency:P,editedIncoming:ee,Edit:e=>{te(e)},changeHandler:(e,t)=>{let a=Number(e.target.value),s={...ee};const l=e=>t===e,n="USD"===P?a:(0,h.Ch)(a,U),r="UZS"===P?a:(0,h.IQ)(a,U);l("pieces")&&(s.pieces=a,s.totalprice=a*s.unitprice,s.totalpriceuzs=a*s.unitpriceuzs),l("unitprice")&&(s.unitprice=n,s.unitpriceuzs=r,s.totalprice=n*s.pieces,s.totalpriceuzs=r*s.pieces),l("sellingprice")&&(s.sellingprice=n,s.sellingpriceuzs=r),te(s)},saveEditIncoming:Ye,Delete:e=>(e=>{se(e),qe(!0),Ie("approve")})(e),Sort:e=>{if(e===H.filter)switch(H.count){case 1:K({filter:e,sort:"1",count:2}),(0,h.Yc)(J,V,e,1,X);break;case 2:K({filter:e,sort:"",count:0}),(0,h.Yc)(J,V,e,"",X);break;default:K({filter:e,sort:"-1",count:1}),(0,h.Yc)(J,V,e,-1,X)}else K({filter:e,sort:"-1",count:1}),(0,h.Yc)(J,V,e,-1,X)},onKeyUp:e=>{"Enter"===e.key&&Ye()},sortItem:H})})]}):(0,o.jsx)(N.A,{text:"".concat(e("Qabullar mavjud emas..."))}),(0,o.jsx)(g.A,{body:Te,isOpen:Be,headerText:e("complete"===Te?"To'lovni amalga oshirishni tasdiqlaysizmi ?":"Mahsulotni o`chirishni tasdiqlaysizmi?"),title:e("complete"===Te?"To'lovni amalga oshirgach bu ma`lumotlarni o`zgaritirb bo`lmaydi !":"O`chirilgan mahsulotni tiklashning imkoni mavjud emas!"),approveFunction:"complete"===Te?tt:()=>{t((0,p.om)({market:a,beginDay:B,endDay:q,product:{...ae}})),Ge()},toggleModal:Ge})]})]})}}}]);
//# sourceMappingURL=7388.b93f1450.chunk.js.map