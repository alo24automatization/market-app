(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9126,502],{30200:(e,t,r)=>{"use strict";r.d(t,{Ch:()=>i,D$:()=>p,Df:()=>u,Hl:()=>m,IQ:()=>o,Yc:()=>a,m1:()=>d,py:()=>c,tE:()=>h});var s=r(76694),l=r(53536),n=r(11238);const a=(e,t,r,s,n)=>{const a=r.split(".");t(s?(0,l.orderBy)([...e],(e=>3===a.length?e[a[0]][a[1]][a[2]]:2===a.length?e[a[0]][a[1]]:e[r]),[-1===s?"desc":"asc"]):n)},o=(e,t)=>Math.round(e*t),i=(e,t)=>Math.round(e/t*1e3)/1e3,c=e=>{let t={failed:!1,message:""};for(let r=0;r<e.length;r++)if(s.T.test(e[r].value)){t={message:e[r].message,failed:!0};break}return t},d=(e,t,r)=>{const s=(l=e,Object.keys(l[0]).map(((e,t)=>{let s=Math.max(...l.map((t=>t[e].toString().length)));return{wch:r[t].length>s?r[t].length+1:s+4}})));var l;const a=n.Wp.book_new(),o=n.Wp.json_to_sheet([]);o["!cols"]=s,n.Wp.sheet_add_aoa(o,[r]),n.Wp.sheet_add_json(o,e,{origin:"A2",skipHeader:!0}),n.Wp.book_append_sheet(a,o,"Maxsulotlar"),n._h(a,"".concat(t,"-").concat((new Date).toLocaleDateString(),".xlsx"))},u=e=>Math.round(1*e)/1,h=e=>Math.round(1e3*e)/1e3,p=(e,t)=>(0,l.reduce)(e,((e,r)=>e+r[t]),0),m=(e,t)=>u(e/t)},47630:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(67623),l=r(80502),n=r(70579);const a=function(e){let{star:t,maxWidth:r,value:a,onChange:o,label:i,placeholder:c,type:d,select:u,disabled:h,options:p,border:m,onKeyUp:f,autoComplete:g,step:x}=e;return(0,n.jsx)("div",{className:r?"".concat(r,"   ").concat(""):"grow",children:u?(0,n.jsx)(l.A,{placeholder:c,onSelect:o,label:i,isDisabled:h,options:p,value:a}):(0,n.jsx)(s.A,{step:x,star:t,type:d||"text",value:a,onChange:o,label:i,placeholder:c,onKeyUp:f,disabled:h,autoComplete:g})})}},94526:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(65043),l=r(27706),n=r.n(l),a=(r(89576),r(90221)),o=r(22963),i=r.n(o),c=r(70579);const d=function(e){let{approve:t,output:r,modalIsOpen:l,setIsOpen:o}=e;const[d,u]=(0,s.useState)(null),[h,p]=(0,s.useState)({unit:"%",width:100,height:100,x:0,y:0,aspect:1}),[m,f]=(0,s.useState)(null);function g(){o(!1)}const x=(e,r)=>{let s=e.split(","),l=s[0].match(/:(.*?);/)[1],n=atob(s[1]),a=n.length,o=new Uint8Array(a);for(;a--;)o[a]=n.charCodeAt(a);let i=new File([o],r,{type:l});t(i)};return(0,c.jsxs)("div",{className:"w-full mb-[2.5rem]",children:[(0,c.jsxs)("center",{children:[(0,c.jsx)("label",{htmlFor:"fileId",className:"relative transition-all w-[6.25rem] h-[6.25rem] rounded-full flex justify-center items-center shadow-[0px_5px_5px_rgba(0,0,0,0.15)] bg-white-900 cursor-pointer hover:bg-white-700 duration-200",children:r?(0,c.jsx)("div",{className:"w-full h-full",children:(0,c.jsxs)("div",{className:"group w-full h-full rounded-full",children:[(0,c.jsx)("img",{src:r,alt:"user",className:"object-cover w-full h-full rounded-full"}),(0,c.jsx)("div",{className:"absolute duration-75 delay-[0] top-0 left-0 right-0 bottom-0 w-full h-full rounded-full hover:bg-black-500 duration-200 invisible group-hover:visible",children:(0,c.jsx)(a.gKJ,{size:"2.1875rem",className:"text-white-900 w-[2.1875rem] absolute top-1/3 right-1/3"})})]})}):(0,c.jsx)("div",{className:"absolute w-full h-full rounded-full hover:bg-black-500 duration-200",children:(0,c.jsx)(a.gKJ,{size:"2.1875rem",className:"text-black-200 w-[2.1875rem] absolute top-1/3 right-1/3"})})}),(0,c.jsx)("input",{onClick:e=>(e=>{e.target.value=null})(e),className:"hidden",type:"file",accept:"image/*",onChange:e=>(e=>{const t=new FileReader;t.onloadend=()=>{o(!0),u(t.result)},t.readAsDataURL(e.target.files[0])})(e),id:"fileId"})]}),d&&(0,c.jsx)(i(),{isOpen:l,onRequestClose:g,style:{content:{width:"90%",height:"85%",padding:"1.25rem",transform:"auto"}},appElement:document.getElementById("root")||void 0,children:(0,c.jsxs)("div",{className:"h-full",children:[(0,c.jsx)("div",{className:"flex items-center justify-end",children:(0,c.jsx)("button",{type:"button",className:"text-[1.8rem] text-black-500 transition-all ease-in duration-100 hover:text-error-500 active:scale-75",onClick:g,children:(0,c.jsx)(a.$8F,{size:"1.8rem",className:"pointer-events-none"})})}),(0,c.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,c.jsx)(n(),{className:"object-cover",src:d,onImageLoaded:f,crop:h,keepSelection:!0,circularCrop:!0,onChange:p})}),(0,c.jsx)("div",{className:"flex mt-[2.5rem] items-center justify-center gap-[1.5rem]",children:(0,c.jsx)("button",{className:"approveBtn bg-blue-600 hover:bg-blue-700",onClick:()=>{const e=document.createElement("canvas"),t=m.naturalWidth/m.width,r=m.naturalHeight/m.height;e.width=h.width,e.height=h.height;e.getContext("2d").drawImage(m,h.x*t,h.y*r,h.width*t,h.height*r,0,0,h.width,h.height);const s=new FileReader;e.toBlob((e=>{s.readAsDataURL(e),s.onloadend=()=>{x(s.result,"cropped.jpg")}}))},children:"Yuklash"})})]})})]})}},76694:(e,t,r)=>{"use strict";r.d(t,{C:()=>s,T:()=>l});const s=/^\d*\.?\d*$/,l=/^\s*$/},71874:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,F:()=>a});r(65043);var s=r(57290),l=r(90221),n=r(70579);const a=e=>(0,n.jsx)(s.c.DropdownIndicator,{...e,children:(0,n.jsx)(l.QDT,{size:"0.625rem",color:"#86A7E9"})}),o={container:e=>({...e,height:"100%"}),control:(e,t)=>{let{isDisabled:r}=t;return{...e,width:"100%",height:"100%",padding:".625rem .58rem",borderRadius:".25rem",fontSize:".875rem",fontWeight:"400",color:"#86A7E9",outline:"none",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.05)",cursor:"pointer","&:hover":{backgroundColor:"#EAEAEA"},"&:focus-within":{outline:"4px solid #A9C0EF",backgroundColor:"#ffffff"},backgroundColor:r?"rgba(28, 28, 28, 0.2)":"#fff",border:r?"none":"1px solid #86A7E9"}},option:(e,t)=>{let{isFocused:r,isSelected:s}=t;return{...e,fontSize:".875rem",fontWeight:"400",color:s||r?"#ffffff":"#071F45",backgroundColor:s?"#0090A3":r?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer"}},menu:e=>({...e,zIndex:30}),singleValue:e=>({...e,color:"#1c1c1c",fontSize:".875rem",lineHeight:"1.25rem",fontWeight:"400",margin:0}),valueContainer:e=>({...e,padding:0}),dropdownIndicator:(e,t)=>{let{isFocused:r}=t;return{...e,padding:0,paddingRight:".625rem",color:r?"#193F8A":"#071F45"}},placeholder:(e,t)=>{let{isDisabled:r}=t;return{...e,margin:0,color:r?"rgba(28, 28, 28, 0.2)":"#86A7E9"}},input:e=>({...e,padding:0,display:"flex",lineHeight:"1.25rem",margin:0})}},80502:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});r(65043);var s=r(2364),l=r(71874),n=r(70579);const a=e=>{let{onSelect:t,options:r,isDisabled:a,label:o,placeholder:i,value:c}=e;return(0,n.jsxs)("div",{className:"grow ",children:[o&&(0,n.jsx)("label",{className:"w-[90%] text-blue-700 block leading-[1.125rem] mb-[.625rem]",children:o}),(0,n.jsx)(s.Ay,{onChange:t,styles:l.A,value:c,defaultValue:"",options:r,isDisabled:a,placeholder:i,components:{IndicatorSeparator:()=>null,DropdownIndicator:l.F}})]})}},4235:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(70579);const l=function(){return(0,s.jsx)("div",{className:"flex items-center justify-center mt-14",children:(0,s.jsx)("div",{className:"clock-loader"})})}},5711:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(65043),l=r(94526),n=r(79456),a=(r(47630),r(84012)),o=r(3900),i=r(73734),c=(r(30200),r(4235)),d=r(72096),u=r(70579);const h=function(){const e=(0,n.wA)(),{user:t,loading:r,market:h}=(0,n.d4)((e=>e.login)),[p,m]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),[x,b]=(0,s.useState)({...h}),[v,j]=(0,s.useState)(0);return(0,s.useEffect)((()=>{v||(b({...h}),j(1))}),[t,v]),(0,u.jsxs)("section",{className:"mainPadding h-full overflow-y-auto",children:[r&&(0,u.jsx)("div",{className:"fixed backdrop-blur-[2px] left-0 right-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,u.jsx)(c.A,{})}),(0,u.jsx)("div",{className:"flex justify-around items-center gap-6",children:(0,u.jsx)("div",{children:(0,u.jsx)(l.A,{output:x.qrcode,modalIsOpen:p,setIsOpen:m,approve:t=>{const r=new FormData;r.append("file",t),e((0,o.$q)(r)).then((e=>{let{error:t,payload:r}=e;t||((0,i.E_)(),b({...x,qrcode:r}),m(!1))}))}})})}),(0,u.jsxs)("div",{className:"max-w-[15.625rem] mx-auto flex gap-4 pt-4",children:[(0,u.jsx)(a.A,{text:(0,d.t)("Saqlash"),edit:!0,onClick:()=>{var t;const r={market:x._id,qrcode:null===x||void 0===x||null===(t=x.qrcode)||void 0===t?void 0:t.replace(/\s+/g," ").trim()};e((0,o.ve)(r))}}),(0,u.jsx)(a.A,{onClick:()=>{const t={market:x._id};e((0,o.ye)(t)).then((e=>{let{error:t}=e;t||b({...h,qrcode:""})}))},text:(0,d.t)("Tozalash")})]})]})}},41497:(e,t,r)=>{"use strict";var s=r(13218);function l(){}function n(){}n.resetWarningCache=l,e.exports=function(){function e(e,t,r,l,n,a){if(a!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:l};return r.PropTypes=r,r}},65173:(e,t,r)=>{e.exports=r(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},96440:e=>{"use strict";var t=function(){};e.exports=t}}]);
//# sourceMappingURL=9126.3b6be2cf.chunk.js.map