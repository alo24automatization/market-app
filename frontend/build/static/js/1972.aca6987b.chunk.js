"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1972,502],{9762:(e,t,a)=>{a.d(t,{A:()=>c});a(65043);var r=a(31899),s=a.n(r),l=a(90221),n=(a(25015),a(70579));const c=function(e){let{value:t,onChange:a,placeholder:r,maxWidth:c,disableIcon:o}=e;return(0,n.jsxs)("div",{className:"group relative ".concat(c||"grow"),children:[(0,n.jsx)(s(),{selected:t,placeholderText:r,onChange:a,className:"datePickerStyle",dateFormat:"dd.MM.yyyy"}),!o&&(0,n.jsx)(l.ib,{size:"20px",className:"datePickerIcon group-hover:text-blue-500"})]})}},42926:(e,t,a)=>{a.d(t,{A:()=>s});a(65043);var r=a(70579);const s=function(e){let{label:t,element:a,grow:s}=e;return(0,r.jsxs)("div",{className:" ".concat(s?"grow ":""),children:[t&&(0,r.jsxs)("h3",{className:" font-light mb-[10px]  text-blue-700 leading-[1rem] text-sm",children:[t,":"]}),a]})}},71874:(e,t,a)=>{a.d(t,{A:()=>c,F:()=>n});a(65043);var r=a(57290),s=a(90221),l=a(70579);const n=e=>(0,l.jsx)(r.c.DropdownIndicator,{...e,children:(0,l.jsx)(s.QDT,{size:"0.625rem",color:"#86A7E9"})}),c={container:e=>({...e,height:"100%"}),control:(e,t)=>{let{isDisabled:a}=t;return{...e,width:"100%",height:"100%",padding:".625rem .58rem",borderRadius:".25rem",fontSize:".875rem",fontWeight:"400",color:"#86A7E9",outline:"none",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.05)",cursor:"pointer","&:hover":{backgroundColor:"#EAEAEA"},"&:focus-within":{outline:"4px solid #A9C0EF",backgroundColor:"#ffffff"},backgroundColor:a?"rgba(28, 28, 28, 0.2)":"#fff",border:a?"none":"1px solid #86A7E9"}},option:(e,t)=>{let{isFocused:a,isSelected:r}=t;return{...e,fontSize:".875rem",fontWeight:"400",color:r||a?"#ffffff":"#071F45",backgroundColor:r?"#0090A3":a?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer"}},menu:e=>({...e,zIndex:30}),singleValue:e=>({...e,color:"#1c1c1c",fontSize:".875rem",lineHeight:"1.25rem",fontWeight:"400",margin:0}),valueContainer:e=>({...e,padding:0}),dropdownIndicator:(e,t)=>{let{isFocused:a}=t;return{...e,padding:0,paddingRight:".625rem",color:a?"#193F8A":"#071F45"}},placeholder:(e,t)=>{let{isDisabled:a}=t;return{...e,margin:0,color:a?"rgba(28, 28, 28, 0.2)":"#86A7E9"}},input:e=>({...e,padding:0,display:"flex",lineHeight:"1.25rem",margin:0})}},80502:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var r=a(2364),s=a(71874),l=a(70579);const n=e=>{let{onSelect:t,options:a,isDisabled:n,label:c,placeholder:o,value:i}=e;return(0,l.jsxs)("div",{className:"grow ",children:[c&&(0,l.jsx)("label",{className:"w-[90%] text-blue-700 block leading-[1.125rem] mb-[.625rem]",children:c}),(0,l.jsx)(r.Ay,{onChange:t,styles:s.A,value:i,defaultValue:"",options:a,isDisabled:n,placeholder:o,components:{IndicatorSeparator:()=>null,DropdownIndicator:s.F}})]})}},12008:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var r=a(49092),s=a(70579);const l=e=>{let{connectors:t,styles:a,currencyType:l}=e;const{t:n}=(0,r.B)(["common"]);return(0,s.jsxs)("div",{className:"productTypeBlock ".concat(a),children:[(0,s.jsxs)("div",{className:"productType",children:[n("Maxsulotlar soni"),":"," ",(0,s.jsx)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:t.reduce(((e,t)=>e+t.products),0).toLocaleString("ru-RU")})]}),(0,s.jsxs)("div",{className:"productSumAll",children:[n("Jami")," :"," ",(0,s.jsxs)("span",{className:"ml-[0.5rem] font-[400] text-black-900",children:[t.length>0?"USD"===l?t.reduce(((e,t)=>e+t.totalprice),0).toLocaleString("ru-RU"):t.reduce(((e,t)=>e+t.totalpriceuzs),0).toLocaleString("ru-RU"):0," ",l]})]})]})}},51972:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var r=a(65043),s=a(72096),l=a(35475),n=a(70579);const c=e=>{let{totalprice:t,pieces:a,suppliers:r,createdAt:c,currencyType:o,path:i,totalpriceuzs:d,state:u,debt:p,debtUzs:m,paid:h,paidUzs:g}=e;return(0,n.jsx)(l.N_,{to:i,className:"flex-[0_0_23.5%]",state:u,children:(0,n.jsxs)("div",{className:"w-full h-full cardStyle",children:[(0,n.jsxs)("h1",{className:"headerStyle",children:[("USD"===o?t:d).toLocaleString("ru-Ru"),(0,n.jsx)("span",{className:"cardSpan",children:o})]}),(0,n.jsxs)("div",{className:"text-[.875rem] mt-[1rem]",children:[(0,n.jsxs)("div",{className:"numberCard",children:[(0,n.jsxs)("p",{className:"paragrafCard",children:[(0,s.t)("Maxsulot"),":"]}),(0,n.jsx)("p",{children:a.toLocaleString("ru-Ru")})]}),(0,n.jsxs)("div",{className:"numberCard",children:[(0,n.jsx)("p",{className:"paragrafCard",children:(0,s.t)("Yetkazuvchilar")}),(0,n.jsx)("p",{children:r.toLocaleString("ru-Ru")})]}),(0,n.jsxs)("div",{className:"numberCard",children:[(0,n.jsxs)("p",{className:"paragrafCard",children:[(0,s.t)("Sana"),":"]}),(0,n.jsx)("p",{children:new Date(c).toLocaleDateString("ru-RU")})]}),(0,n.jsx)("span",{className:"block h-[1px] bg-white-400 my-[0.5rem]"}),(0,n.jsxs)("div",{className:"numberCard items-center",children:[(0,n.jsxs)("p",{className:"paragrafCard",children:[(0,s.t)("To'langan")," :"]}),(0,n.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-success-500",children:["UZS"===o?g.toLocaleString("ru-Ru"):h.toLocaleString("ru-Ru")," ",(0,n.jsx)("span",{children:o})]})]}),p>0&&(0,n.jsxs)("div",{className:"numberCard items-center",children:[(0,n.jsxs)("p",{className:"paragrafCard",children:[(0,s.t)("Qarzlar")," :"]}),(0,n.jsxs)("span",{className:"block p-[0.1rem_0.5rem] rounded-[4px] bg-error-500",children:["UZS"===o?m.toLocaleString("ru-Ru"):p.toLocaleString("ru-Ru")," ",(0,n.jsx)("span",{children:o})]})]})]})]})})};var o=a(79456),i=a(53536),d=a(37919),u=a(9762),p=a(80502),m=a(42926),h=a(12008),g=a(49092);const x=function(){const{t:e}=(0,g.B)(["common"]),t=(0,o.wA)(),{market:{_id:a}}=(0,o.d4)((e=>e.login)),{currencyType:s}=(0,o.d4)((e=>e.currency)),{incomingconnectors:l,suppliers:x}=(0,o.d4)((e=>e.incoming)),[b,f]=(0,r.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString()),[j,y]=(0,r.useState)(new Date((new Date).setHours(23,59,59,0)).toISOString()),[S,v]=(0,r.useState)([]),[z,w]=(0,r.useState)([]),[N,A]=(0,r.useState)(""),D=(0,r.useCallback)((e=>{let t=[];const a=e=>new Date(e.createdAt).toLocaleDateString();for(let r of e){let e=(0,i.filter)(t,(e=>a(e)===a(r)));e.length>0?k(e,r):_(t,r)}C(t)}),[]),C=e=>{const t=e=>{let t=[];return e.reduce(((e,a)=>{let{_id:r}=a;return t.includes(r)?e:(t.push(r),e+1)}),0)},a=e=>e.reduce(((e,t)=>e+t),0),r=(0,i.map)(e,(e=>({createdAt:e.createdAt,products:e.incoming.length,suppliers:t(e.supplier),totalprice:a(e.total),totalpriceuzs:a(e.totaluzs),totalpayment:a(e.totalpayment),totalpaymentuzs:a(e.totalpaymentuzs),debt:a(e.debt),debtuzs:a(e.debtuzs)})));w(r)},k=(e,t)=>{e[0].incoming.push(...t.incoming),e[0].supplier.push(t.supplier),e[0].total.push(t.total),e[0].totaluzs.push(t.totaluzs),e[0].totalpayment.push(t.totalpayment),e[0].totalpaymentuzs.push(t.totalpaymentuzs),e[0].debt.push(t.debt),e[0].debtuzs.push(t.debtuzs),e[0]._id=t._id},_=(e,t)=>{let a={createdAt:t.createdAt,incoming:[...t.incoming],total:[t.total],totaluzs:[t.totaluzs],totalpayment:[t.totalpayment],totalpaymentuzs:[t.totalpaymentuzs],debt:[t.debt],debtuzs:[t.debtuzs],supplier:[t.supplier],_id:t._id};e.push(a)},I=(e,t)=>{"beginDay"===t&&f(new Date(e).toISOString()),"endDay"===t&&y(new Date(e).toISOString())};return(0,r.useEffect)((()=>{(e=>{const t=(0,i.map)(e,(e=>({label:e.name,value:e._id})));v(t)})(x)}),[x]),(0,r.useEffect)((()=>{D(l)}),[l,D]),(0,r.useEffect)((()=>{t((0,d.Hu)({market:a,beginDay:b,endDay:j}))}),[t,a,b,j]),(0,r.useEffect)((()=>{t((0,d.Jr)({_id:a}))}),[t,a]),(0,n.jsxs)("section",{className:"grow overflow-auto",children:[(0,n.jsxs)("div",{className:"flex items-center gap-[1.25rem] mainPadding",children:[(0,n.jsx)(u.A,{label:e("dan"),value:new Date(b),onChange:e=>I(e,"beginDay"),maxWidth:"max-w-[9.6875rem]"}),(0,n.jsx)(u.A,{label:e("gacha"),value:new Date(j),onChange:e=>I(e,"endDay"),maxWidth:"max-w-[9.6875rem]"}),(0,n.jsx)(m.A,{element:(0,n.jsx)(p.A,{isSearchable:!0,options:[{label:e("Yetkazib beruvchilar"),value:"all"},...S],onSelect:e=>{let t=e.value;if("all"===t)D(l),A("");else{const a=(0,i.filter)(l,(e=>{let{supplier:a}=e;return a._id===t}));D(a),A(e.label)}}}),grow:!0,label:e("Yetkazuvchi")})]}),(0,n.jsx)(h.A,{currencyType:s,connectors:z,styles:"mainPadding"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-[1.25rem] mainPadding",children:(0,i.map)(z,(e=>(0,n.jsx)(c,{totalprice:e.totalprice,totalpriceuzs:e.totalpriceuzs,currencyType:s,pieces:e.products,suppliers:e.suppliers,createdAt:e.createdAt,debt:e.debt,debtUzs:e.debtuzs,paid:e.totalpayment,paidUzs:e.totalpaymentuzs,path:"/maxsulotlar/qabul/qabullar/".concat((0,i.uniqueId)()),state:{date:e.createdAt,supplier:N}},(0,i.uniqueId)("card"))))})]})}}}]);
//# sourceMappingURL=1972.aca6987b.chunk.js.map