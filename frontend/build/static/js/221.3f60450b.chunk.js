"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[221],{26441:(e,l,t)=>{t.d(l,{Gv:()=>i,eV:()=>n,p2:()=>r});t(65043);var s=t(90221),a=(t(63270),t(70579));const i=e=>{let{onClick:l,text:t,type:i,active:n}=e;const r={cash:(0,a.jsx)(s.iS_,{className:"paymentsstyle",size:"1.3125rem"}),card:(0,a.jsx)(s.dBf,{className:"paymentsstyle",size:"1.3125rem"}),transfer:(0,a.jsx)(s.whc,{className:"paymentsstyle",size:"1.3125rem"}),mixed:(0,a.jsx)(s.m_O,{className:"paymentsstyle",size:"1.3125rem"})};return(0,a.jsxs)("button",{onClick:()=>l(i),className:"salestyle ".concat(n?"bg-blue-600 text-white-900":"bg-[#E9ECEB]"),children:[r[i],t]})},n=e=>{let{onClick:l,text:t}=e;return(0,a.jsxs)("button",{onClick:l,className:"discountstyle w-full h-[3.25rem] bg-warning-500 text-white-900 duration-200 shadow-lg",children:[(0,a.jsx)(s.YbJ,{className:"discstyle",size:"1.5rem"}),t]})},r=e=>{let{onClick:l,text:t,onDoubleClick:i,disablePayButton:n,loading:r}=e;return(0,a.jsx)("button",{onClick:l,onDoubleClick:i,className:"paymentstyle grow px-3 ".concat(n?"cursor-not-allowed":""),disabled:n,children:r?(0,a.jsx)("div",{className:" w-full h-full justify-center flex items-center",children:(0,a.jsx)("div",{className:"pay_loader"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.SXw,{className:"paystyle",size:"1.3125rem"}),t]})})}},94526:(e,l,t)=>{t.d(l,{A:()=>o});var s=t(65043),a=t(27706),i=t.n(a),n=(t(89576),t(90221)),r=t(22963),c=t.n(r),d=t(70579);const o=function(e){let{approve:l,output:t,modalIsOpen:a,setIsOpen:r}=e;const[o,u]=(0,s.useState)(null),[m,x]=(0,s.useState)({unit:"%",width:100,height:100,x:0,y:0,aspect:1}),[h,v]=(0,s.useState)(null);function p(){r(!1)}const j=(e,t)=>{let s=e.split(","),a=s[0].match(/:(.*?);/)[1],i=atob(s[1]),n=i.length,r=new Uint8Array(n);for(;n--;)r[n]=i.charCodeAt(n);let c=new File([r],t,{type:a});l(c)};return(0,d.jsxs)("div",{className:"w-full mb-[2.5rem]",children:[(0,d.jsxs)("center",{children:[(0,d.jsx)("label",{htmlFor:"fileId",className:"relative transition-all w-[6.25rem] h-[6.25rem] rounded-full flex justify-center items-center shadow-[0px_5px_5px_rgba(0,0,0,0.15)] bg-white-900 cursor-pointer hover:bg-white-700 duration-200",children:t?(0,d.jsx)("div",{className:"w-full h-full",children:(0,d.jsxs)("div",{className:"group w-full h-full rounded-full",children:[(0,d.jsx)("img",{src:t,alt:"user",className:"object-cover w-full h-full rounded-full"}),(0,d.jsx)("div",{className:"absolute duration-75 delay-[0] top-0 left-0 right-0 bottom-0 w-full h-full rounded-full hover:bg-black-500 duration-200 invisible group-hover:visible",children:(0,d.jsx)(n.gKJ,{size:"2.1875rem",className:"text-white-900 w-[2.1875rem] absolute top-1/3 right-1/3"})})]})}):(0,d.jsx)("div",{className:"absolute w-full h-full rounded-full hover:bg-black-500 duration-200",children:(0,d.jsx)(n.gKJ,{size:"2.1875rem",className:"text-black-200 w-[2.1875rem] absolute top-1/3 right-1/3"})})}),(0,d.jsx)("input",{onClick:e=>(e=>{e.target.value=null})(e),className:"hidden",type:"file",accept:"image/*",onChange:e=>(e=>{const l=new FileReader;l.onloadend=()=>{r(!0),u(l.result)},l.readAsDataURL(e.target.files[0])})(e),id:"fileId"})]}),o&&(0,d.jsx)(c(),{isOpen:a,onRequestClose:p,style:{content:{width:"90%",height:"85%",padding:"1.25rem",transform:"auto"}},appElement:document.getElementById("root")||void 0,children:(0,d.jsxs)("div",{className:"h-full",children:[(0,d.jsx)("div",{className:"flex items-center justify-end",children:(0,d.jsx)("button",{type:"button",className:"text-[1.8rem] text-black-500 transition-all ease-in duration-100 hover:text-error-500 active:scale-75",onClick:p,children:(0,d.jsx)(n.$8F,{size:"1.8rem",className:"pointer-events-none"})})}),(0,d.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,d.jsx)(i(),{className:"object-cover",src:o,onImageLoaded:v,crop:m,keepSelection:!0,circularCrop:!0,onChange:x})}),(0,d.jsx)("div",{className:"flex mt-[2.5rem] items-center justify-center gap-[1.5rem]",children:(0,d.jsx)("button",{className:"approveBtn bg-blue-600 hover:bg-blue-700",onClick:()=>{const e=document.createElement("canvas"),l=h.naturalWidth/h.width,t=h.naturalHeight/h.height;e.width=m.width,e.height=m.height;e.getContext("2d").drawImage(h,m.x*l,m.y*t,m.width*l,m.height*t,0,0,m.width,m.height);const s=new FileReader;e.toBlob((e=>{s.readAsDataURL(e),s.onloadend=()=>{j(s.result,"cropped.jpg")}}))},children:"Yuklash"})})]})})]})}},51655:(e,l,t)=>{t.d(l,{E:()=>c});var s=t(65043),a=t(53536),i=t(79456),n=t(72096),r=t(70579);const c=(0,s.forwardRef)(((e,l)=>{var t,s,c,d,o,u,m,x,h,v,p,j;const{selled:b,returned:f,selledDiscounts:N,returnedDiscounts:g,selledPayments:k,returnedPayments:y,product:S,userInfo:w,isReturned:D,totalOfBackAndDebt:R}=e,{market:z}=(0,i.d4)((e=>e.login)),{currencyType:L}=(0,i.d4)((e=>e.currency)),U=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)).toLocaleString("ru-Ru")},C=e=>e&&e?null===e||void 0===e?void 0:e.reduce(((e,l)=>e+l["USD"===L?"discount":"discountuzs"]),0):0,q=e=>{var l;return S&&"payment"in S?null===(l=S.payment)||void 0===l?void 0:l.paymentuzs:e?e.reduce(((e,l)=>e+l["USD"===L?"payment":"paymentuzs"]),0):0},A=e=>{var l;return e?Array.isArray(e)?null===e||void 0===e?void 0:e.reduce(((e,l)=>e+l["USD"===L?"totalprice":"totalpriceuzs"]),0):null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.reduce(((e,l)=>e+l["USD"===L?"totalprice":"totalpriceuzs"]),0):0};return(0,r.jsxs)("div",{ref:l,className:"px-2",children:[(0,r.jsxs)("div",{className:"flex pb-2 flex-col text-center justify-center border-b-[0.8px] border-black-700",children:[(0,r.jsx)("div",{className:"py-4 object-contain flex items-center justify-center",children:(0,r.jsx)("img",{src:null===z||void 0===z?void 0:z.image,alt:"logo",className:"w-[170px] mx-auto  object-contain h-full"})}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Telefon"),":",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:z.phone1})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Manzil"),":",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:null===z||void 0===z?void 0:z.address})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Sana"),":",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:new Date(null===S||void 0===S?void 0:S.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:(null===S||void 0===S||null===(t=S.client)||void 0===t?void 0:t.name)||(null===S||void 0===S||null===(s=S.packman)||void 0===s?void 0:s.name)||""})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Mijoz telefoni"),":"," ",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:(null===S||void 0===S||null===(c=S.client)||void 0===c?void 0:c.phoneNumber)||""})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Sotuv")," ",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:null===S||void 0===S||null===(d=S.saleconnector)||void 0===d?void 0:d.id})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,n.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"text-[12px] text-black-900 font-bold",children:[null===S||void 0===S||null===(o=S.user)||void 0===o?void 0:o.firstname," ",null===S||void 0===S||null===(u=S.user)||void 0===u?void 0:u.lastname]})]})]}),(null===S||void 0===S?void 0:S.products.length)>0&&(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[14px] text-black-900 mb-5 font-bold",children:[D?(0,n.t)("Qaytarilgan"):(0,n.t)("Sotilganlar")," :"]}),(0,r.jsx)("div",{children:(0,a.map)(null===S||void 0===S?void 0:S.products.filter((e=>e.pieces>0)),((e,l)=>{var t,s,a,i,c,d,o,u,m,x,h,v,p,j,b,f,N,g,k;return e.more_parameters1&&0!==(null===e||void 0===e||null===(t=e.more_parameters1)||void 0===t?void 0:t.length)&&0!==(null===e||void 0===e||null===(s=e.more_parameters1)||void 0===s?void 0:s.size)&&0!==(null===e||void 0===e||null===(a=e.more_parameters1)||void 0===a?void 0:a.piece)?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(c=e.product)||void 0===c||null===(d=c.productdata)||void 0===d?void 0:d.name]}),""!==(null===e||void 0===e?void 0:e.forWhat)||e.forWhat?(0,r.jsxs)("div",{className:"flex justify-between text-[12px] border  border-b-0 !text-black-900 p-1 pr-3 border-slate-400",children:[(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.forWhat})," ",(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.pieces})," "]}):null,(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("O`lcham")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Uzunligi")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Narxi")})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"check-table-body text-center",children:[null===e||void 0===e||null===(o=e.more_parameters1)||void 0===o?void 0:o.size," "]}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===e||void 0===e||null===(u=e.more_parameters1)||void 0===u?void 0:u.length}),(0,r.jsxs)("td",{className:"check-table-body text-center",children:["USD"===L?null===e||void 0===e||null===(m=e.sizePrice)||void 0===m?void 0:m.toLocaleString("ru-Ru"):null===e||void 0===e||null===(x=e.sizePrice)||void 0===x?void 0:x.toLocaleString("ru-Ru"),L]})]})})]}),(0,r.jsxs)("div",{className:"text-end text-[12px] border font-bold border-t-0 !text-black-900 p-1 pr-3 border-slate-400",children:["Umumiy: ",null===e||void 0===e||null===(h=e.more_parameters1)||void 0===h?void 0:h.length," *"," ","USD"===L?null===e||void 0===e||null===(v=e[""===(null===e||void 0===e?void 0:e.sizePrice)||void 0===(null===e||void 0===e?void 0:e.sizePrice)?"unitprice":"sizePrice"])||void 0===v?void 0:v.toLocaleString("ru-Ru"):null===e||void 0===e||null===(p=e[""===(null===e||void 0===e?void 0:e.sizePrice)||void 0===(null===e||void 0===e?void 0:e.sizePrice)?"unitpriceuzs":"sizePrice"])||void 0===p?void 0:p.toLocaleString("ru-Ru")," ","="," ","USD"===L?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",L]}),(0,r.jsx)("br",{})]},l):(null===e||void 0===e||null===(i=e.more_parameters2)||void 0===i?void 0:i.length)>0?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-left  text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(j=e.product)||void 0===j||null===(b=j.productdata)||void 0===b?void 0:b.name]}),(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("O`lcham")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Soni")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Umumiy")})]})}),(0,r.jsx)("tbody",{children:e.more_parameters2&&(null===e||void 0===e||null===(f=e.more_parameters2)||void 0===f?void 0:f.map((e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-body text-center",children:e.col1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:e.col2}),(0,r.jsx)("td",{className:"check-table-body text-center",children:e.result})]}))))})]}),(0,r.jsxs)("div",{className:"text-end text-[12px] border border-t-0 !text-black-900 p-1 pr-3 font-bold border-slate-400",children:[(0,n.t)("Umumiy"),": ",null===e||void 0===e||null===(N=e.more_parameters2)||void 0===N?void 0:N.reduce(((e,l)=>e+l.result),0)]}),(0,r.jsx)("div",{className:"text-end text-[12px] mt-4 font-bold",children:(0,r.jsxs)("h1",{children:[null===e||void 0===e?void 0:e.more_parameters2.reduce(((e,l)=>e+l.result),0)," "," ","* "," ","USD"===L?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ","="," ","USD"===L?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",L]})}),(0,r.jsx)("br",{})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(g=e.product)||void 0===g||null===(k=g.productdata)||void 0===k?void 0:k.name]}),(0,r.jsxs)("div",{className:"text-right text-[12px] text-black-900 font-bold",children:[null===e||void 0===e?void 0:e.pieces," *"," ","USD"===L?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ","="," ","USD"===L?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",L]}),(0,r.jsx)("br",{})]})}))})]}),(null===f||void 0===f?void 0:f.length)>0&&(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[14px] text-black-900 mb-5 font-bold",children:[(0,n.t)("Qaytarilgan")," :"]}),(0,r.jsx)("div",{children:(0,a.map)(f,((e,l)=>{var t,s,a,i,c,d,o,u,m,x,h,v,p,j,b,f,N,g,k;return e.more_parameters1&&0!==(null===e||void 0===e||null===(t=e.more_parameters1)||void 0===t?void 0:t.length)&&0!==(null===e||void 0===e||null===(s=e.more_parameters1)||void 0===s?void 0:s.size)&&0!==(null===e||void 0===e||null===(a=e.more_parameters1)||void 0===a?void 0:a.piece)?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(c=e.product)||void 0===c||null===(d=c.productdata)||void 0===d?void 0:d.name]}),""!==(null===e||void 0===e?void 0:e.forWhat)||e.forWhat?(0,r.jsxs)("div",{className:"text-start text-[12px] border  border-b-0 !text-black-900 p-1 pr-3 border-slate-400",children:[(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.forWhat})," "]}):null,(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("O`lcham")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Uzunligi")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Narxi")})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"check-table-body text-center",children:[null===e||void 0===e||null===(o=e.more_parameters1)||void 0===o?void 0:o.size," "]}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===e||void 0===e||null===(u=e.more_parameters1)||void 0===u?void 0:u.length}),(0,r.jsxs)("td",{className:"check-table-body text-center",children:["USD"===L?null===e||void 0===e||null===(m=e.sizePrice)||void 0===m?void 0:m.toLocaleString("ru-Ru"):null===e||void 0===e||null===(x=e.sizePrice)||void 0===x?void 0:x.toLocaleString("ru-Ru"),L]})]})})]}),(0,r.jsxs)("div",{className:"text-end text-[12px] border font-bold border-t-0 !text-black-900 p-1 pr-3 border-slate-400",children:["Umumiy: ",null===e||void 0===e||null===(h=e.more_parameters1)||void 0===h?void 0:h.length," *"," ","USD"===L?null===e||void 0===e||null===(v=e[""===(null===e||void 0===e?void 0:e.sizePrice)||void 0===(null===e||void 0===e?void 0:e.sizePrice)?"unitprice":"sizePrice"])||void 0===v?void 0:v.toLocaleString("ru-Ru"):null===e||void 0===e||null===(p=e[""===(null===e||void 0===e?void 0:e.sizePrice)||void 0===(null===e||void 0===e?void 0:e.sizePrice)?"unitpriceuzs":"sizePrice"])||void 0===p?void 0:p.toLocaleString("ru-Ru")," ","="," ","USD"===L?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",L]}),(0,r.jsx)("br",{})]}):(null===e||void 0===e||null===(i=e.more_parameters2)||void 0===i?void 0:i.length)>0?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-left  text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(j=e.product)||void 0===j||null===(b=j.productdata)||void 0===b?void 0:b.name]}),(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("O`lcham")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Soni")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,n.t)("Umumiy")})]})}),(0,r.jsx)("tbody",{children:e.more_parameters2&&(null===e||void 0===e||null===(f=e.more_parameters2)||void 0===f?void 0:f.map((e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-body text-center",children:e.col1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:e.col2}),(0,r.jsx)("td",{className:"check-table-body text-center",children:e.result})]}))))})]}),(0,r.jsxs)("div",{className:"text-end text-[12px] border border-t-0 !text-black-900 p-1 pr-3 font-bold border-slate-400",children:[(0,n.t)("Umumiy"),": ",null===e||void 0===e||null===(N=e.more_parameters2)||void 0===N?void 0:N.reduce(((e,l)=>e+l.result),0)]}),(0,r.jsx)("div",{className:"text-end text-[12px] mt-4 font-bold",children:(0,r.jsxs)("h1",{children:[null===e||void 0===e?void 0:e.more_parameters2.reduce(((e,l)=>e+l.result),0)," "," ","* "," ","USD"===L?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ","="," ","USD"===L?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",L]})}),(0,r.jsx)("br",{})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(g=e.product)||void 0===g||null===(k=g.productdata)||void 0===k?void 0:k.name]}),(0,r.jsxs)("div",{className:"text-right text-[12px] text-black-900 font-bold",children:[null===e||void 0===e?void 0:e.pieces," *"," ","USD"===L?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ","="," ","USD"===L?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",L]}),(0,r.jsx)("br",{})]})}))})]}),(0,r.jsxs)("div",{className:"border-t-[0.8px] border-black-700 w-full mt-4 mb-4 text-left",children:[(0,r.jsxs)("h3",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold pt-4",children:[(0,n.t)("Jami")," :"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:[A(S).toLocaleString("ru-Ru")," ",L]})]}),(0,r.jsxs)("h3",{style:{fontWeight:"bolder",display:D?"none":"block"},className:"text-black-900 text-[12px] font-bold pt-4",children:[" ",(0,n.t)("Chegirma"),":"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:[S&&"payment"in S?null!==S&&void 0!==S&&S.hasOwnProperty("discount")?"USD"===L?null===S||void 0===S?void 0:S.discount.discount:null===S||void 0===S?void 0:S.discount.discountuzs:0:(C(N)+C(g)).toLocaleString("ru-Ru")," ",L]})]}),(0,r.jsxs)("h3",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold pt-4",children:[" ",(0,n.t)("To'langan"),":"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:[S&&"payment"in S?q():(q(k)+q(y)).toLocaleString("ru-Ru")," ",L]})]}),(0,r.jsxs)("h3",{style:{fontWeight:"bolder",display:(null===f||void 0===f?void 0:f.length)>0?"block":"none"},className:"text-black-900 text-[12px] font-bold pt-4",children:[" ",(0,n.t)("Qarzdan qaytarilganlar"),":"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:[null===R||void 0===R?void 0:R.toLocaleString("ru-Ru")," ",L]})]}),(0,r.jsxs)("h3",{style:{fontWeight:"bolder",display:D?"none":"block"},className:"text-black-900 text-[12px] font-bold pt-4",children:[" ",(0,n.t)("Qarz"),":"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:["USD"===L?U(null===S||void 0===S||null===(m=S.payment)||void 0===m?void 0:m.totalprice,null===S||void 0===S||null===(x=S.payment)||void 0===x?void 0:x.payment,null===S||void 0===S||null===(h=S.discount)||void 0===h?void 0:h.discount):S&&"payment"in S?U(null===S||void 0===S||null===(v=S.payment)||void 0===v?void 0:v.totalpriceuzs,null===S||void 0===S||null===(p=S.payment)||void 0===p?void 0:p.paymentuzs,null===S||void 0===S||null===(j=S.discount)||void 0===j?void 0:j.discountuzs):(A(b)+A(f)-(q(k)+q(y))-(C(N)+C(g))).toLocaleString("ru-Ru")," ",L]})]}),(0,r.jsxs)("h3",{style:{fontWeight:"bolder",display:D?"none":"block"},className:"text-black-900 text-[12px] font-bold pt-4",children:[" ",(0,n.t)("Umumiy qarz"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 text-[12px] font-bold",children:[("USD"===L?(null===S||void 0===S?void 0:S.totaldebtusd)||0:(null===S||void 0===S?void 0:S.totaldebtuzs)||0).toLocaleString("ru-Ru")," ",L]})]})]}),z.qrcode&&(0,r.jsx)("div",{className:"w-[120px] h-[120px] mx-auto",children:(0,r.jsx)("img",{src:z.qrcode,alt:"qrcode"})})]})}))},12602:(e,l,t)=>{t.d(l,{A:()=>Re});var s=t(22963),a=t.n(s),i=t(65043),n=t(90221),r=t(70579);const c=function(e){let{toggleModal:l}=e;return(0,r.jsx)("div",{className:"flex items-center justify-end",children:(0,r.jsx)("button",{type:"button",className:"text-[1.8rem] text-black-500 transition-all ease-in duration-100 hover:text-error-500 active:scale-75",onClick:l,children:(0,r.jsx)(n.$8F,{size:"1.8rem",className:"pointer-events-none"})})})};var d=t(49092);const o=function(e){let{toggleModal:l,approveFunction:t,headerText:s,title:a}=e;const{t:i}=(0,d.B)(["common"]);return(0,r.jsxs)("div",{className:"modalContent text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(n.LwM,{className:"modalIcon text-error-500",size:"6rem"})}),(0,r.jsx)("p",{className:"text-[1.125rem] text-black-700 font-medium mt-5",children:s}),(0,r.jsx)("p",{className:"text-black-700 font-light mt-3 text-[0.8rem]",children:i(a)}),(0,r.jsxs)("div",{className:"flex mt-7 items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:l,children:i("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-error-500 hover:bg-error-700",onClick:t,children:i("O`chirish")})]})]})};var u=t(80502),m=t(79456),x=t(4235),h=t(53536),v=t(72096);const p=function(e){let{excelData:l,headers:t,createdData:s,setCreatedData:a,approveFunction:n,toggleModal:c}=e;const{loading:d}=(0,m.d4)((e=>e.products)),[o,p]=(0,i.useState)([]),[j,b]=(0,i.useState)([]),f=(e,l,t)=>{const s=(a=e,Object.assign({},a));var a;return s[t]=s[l],s};return(0,i.useEffect)((()=>{const e=[];let s=t.length;for(;s--;)e.push("");b([...e]),a([...l]);const i=(0,h.map)(Object.keys(l[0]),(e=>({label:e,value:e})));p(i)}),[l]),(0,r.jsxs)("div",{className:"modalContent mt-10",children:[d&&(0,r.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[50] top-0 left-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full",children:(0,r.jsx)(x.A,{})}),(0,r.jsxs)("table",{className:"overflow-x-auto w-full",children:[(0,r.jsx)("thead",{className:"rounded-t-lg",children:(0,r.jsx)("tr",{className:"bg-blue-700 rounded-t-lg",children:(0,h.map)(t,((e,l)=>(0,r.jsx)("th",{scope:"col",className:"th w-[6rem]",children:(0,r.jsxs)("div",{className:"ml-1",children:[(0,r.jsx)("span",{className:"mb-4 block text-xs",children:e.name}),(0,r.jsx)(u.A,{onSelect:t=>((e,l,t)=>{j[e]={label:t.label,value:t.value},b([...j]),p([...o]);const i=(0,h.map)(s,(e=>f(e,t.value,l)));a([...i])})(l,e.value,t),options:o,value:j[l],placeholder:"Bo`limni tanlang ..."})]})},(0,h.uniqueId)("header"))))})}),(0,r.jsx)("tbody",{children:(0,r.jsx)("tr",{className:"tr",children:(0,h.map)(j,((e,t)=>{var s;return(0,r.jsx)("td",{className:"td text-center py-4",children:e?l[0][null===e||void 0===e?void 0:e.value]:l[0][null===(s=o[j.length>o.length?t-1:j.length<o.length?t+1:t])||void 0===s?void 0:s.value]},(0,h.uniqueId)("column"))}))})})]}),(0,r.jsxs)("div",{className:"flex mt-12 items-center justify-end gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:c,children:(0,v.t)("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-success-500 hover:bg-blue-600",onClick:n,children:(0,v.t)("Tasdiqlash")})]})]})};var j=t(66899);const b=function(e){var l,t;let{product:s,changeProduct:a,approveFunction:c,toggleModal:o}=e;const{t:u}=(0,d.B)(["common"]),{currencyType:x}=(0,m.d4)((e=>e.currency)),h=(0,i.useCallback)((e=>{"Enter"===e.key&&c()}),[c]),[v,p]=(0,i.useState)(!1);return(0,i.useEffect)((()=>(document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)})),[h]),(0,r.jsxs)("div",{className:"modal-content pt-[1.25rem] text-center",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl text-black-900 mb-[1rem]",children:null===s||void 0===s||null===(l=s.product)||void 0===l?void 0:l.code}),(0,r.jsx)("h2",{className:"text-xl text-black-900 mb-[2rem]",children:null===s||void 0===s||null===(t=s.product)||void 0===t?void 0:t.name})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("table",{className:"overflow-x-auto w-[50rem]",children:[(0,r.jsx)("thead",{className:"rounded-t-lg",children:(0,r.jsxs)("tr",{className:"bg-blue-700 rounded-t-lg",children:[(0,r.jsx)("th",{scope:"col",className:"th w-[20%]",children:(0,r.jsx)("span",{children:u("Soni")})}),(0,r.jsx)("th",{scope:"col",className:"th w-[30%]",children:(0,r.jsx)("span",{children:u("Narxi")})}),(0,r.jsx)("th",{scope:"col",className:"th",children:(0,r.jsx)("span",{children:u("Jami")})}),(0,r.jsx)("th",{scope:"col",className:"th",children:(0,r.jsx)("span",{})})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{className:"tr",children:[(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>a(e.target.value,"pieces"),type:"number",value:null===s||void 0===s?void 0:s.pieces})}),(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>a(e.target.value,"unitprice"),type:"number",value:"UZS"!==x?null===s||void 0===s?void 0:s.unitprice:null===s||void 0===s?void 0:s.unitpriceuzs})}),(0,r.jsxs)("td",{className:"py-0 td text-right text-success-600 font-medium",children:["UZS"!==x?null===s||void 0===s?void 0:s.totalprice.toLocaleString("ru-Ru"):null===s||void 0===s?void 0:s.totalpriceuzs.toLocaleString("ru-Ru")," ",x]}),(0,r.jsx)("td",{className:"py-0 td text-right text-success-600 font-medium border-r-0 ",children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{onClick:()=>p(!v),children:v?(0,r.jsx)(n.GNz,{}):(0,r.jsx)(n.Xyd,{})}),(0,r.jsx)("span",{children:v?"UZS"===x?s.incomingpriceuzs.toLocaleString("ru-Ru")+" UZS":s.incomingprice.toLocaleString("ru-Ru")+" UZS":""})]})})]})})]})}),(0,r.jsxs)("div",{className:"flex mt-12 items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:o,children:u("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-success-500 hover:bg-blue-600",onClick:c,children:u("Tasdiqlash")})]})]})};const f=function(e){let{toggleModal:l,approveFunction:t,headerText:s,title:a}=e;const{t:c}=(0,d.B)(["common"]),[o,u]=(0,i.useState)(!1);return(0,r.jsxs)("div",{className:"modalContent text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(n.KYr,{className:"modalIcon text-primary-800",size:"6rem"})}),(0,r.jsx)("p",{className:"text-[1.125rem] text-black-700 font-medium mt-5",children:c(s)}),(0,r.jsx)("p",{className:"text-black-700 font-light mt-3 text-[0.8rem]",children:c(a)}),(0,r.jsxs)("div",{className:"flex mt-7  items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500  hover:bg-black-700",onClick:l,children:c("Bekor qilish")}),(0,r.jsx)("button",{className:"".concat(o?"pointer-events-none":""," approveBtn bg-blue-600 hover:bg-blue-700"),onClick:()=>{t(),u(!0),setTimeout((()=>{u(!1)}),15e3)},children:c("Tasdiqlash")})]})]})},N=e=>{let{product:l,changeProduct:t,approveFunction:s,currency:a}=e;const i=(e,l)=>"USD"===a?e:l,{t:n}=(0,d.B)(["common"]);return(0,r.jsxs)("div",{className:"pt-[1.25rem] text-center",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl text-black-900 mb-[20px]",children:l.product.code}),(0,r.jsx)("h2",{className:"text-2xl text-black-900 mb-[20px]",children:l.product.name})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("table",{className:"overflow-x-auto max-w-[700px]",children:[(0,r.jsx)("thead",{className:"rounded-t-lg",children:(0,r.jsxs)("tr",{className:"bg-blue-700 rounded-t-lg",children:[(0,r.jsx)("th",{scope:"col",className:"th w-[15%]",children:(0,r.jsx)("span",{children:n("Soni")})}),(0,r.jsx)("th",{scope:"col",className:"th w-[15%]",children:(0,r.jsx)("span",{children:n("Kelish")})}),(0,r.jsx)("th",{scope:"col",className:"th",children:(0,r.jsx)("span",{children:n("Avvalgi")})}),(0,r.jsx)("th",{scope:"col",className:"th",children:(0,r.jsx)("span",{children:n("Jami")})}),(0,r.jsx)("th",{scope:"col",className:"th w-[15%]",children:(0,r.jsx)("span",{children:n("Sotish")})}),(0,r.jsx)("th",{scope:"col",className:"th w-[15%]",children:(0,r.jsxs)("span",{children:[n("Sotish")," %"]})}),(0,r.jsx)("th",{scope:"col",className:"th w-[15%]",children:(0,r.jsx)("span",{children:n("Optom narx")})})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{className:"tr",children:[(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>t(e,"pieces"),type:"number",value:l.pieces||""})}),(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>t(e,"unitprice"),type:"number",value:i(l.unitprice,l.unitpriceuzs)||""})}),(0,r.jsxs)("td",{className:"py-0 td text-error-500 text-right",children:[i(l.oldprice.toLocaleString("ru-Ru"),l.oldpriceuzs.toLocaleString("ru-Ru"))," ",a]}),(0,r.jsxs)("td",{className:"py-0 td text-right",children:[i(l.totalprice.toLocaleString("ru-Ru"),l.totalpriceuzs.toLocaleString("ru-Ru"))," ",a]}),(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>t(e,"sellingprice"),type:"number",value:i(l.sellingprice,l.sellingpriceuzs)||""})}),(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>t(e,"procient"),type:"number",value:l.procient})}),(0,r.jsx)("td",{className:"py-1 td",children:(0,r.jsx)(j.A,{onChange:e=>t(e,"tradeprice"),type:"number",value:i(l.tradeprice,l.tradepriceuzs)||""})})]})})]})}),(0,r.jsx)("div",{className:"pt-[15px]",children:(0,r.jsx)("button",{onClick:s,className:"approveBtn bg-blue-600 hover:bg-blue-700",children:n("Qo'shish")})})]})};var g=t(60126);const k=(0,i.forwardRef)(((e,l)=>{var t,s,a,i,n,c,d,o,u,x,p,j,b,f;const{product:N}=e,{products:g}=N,{market:k}=(0,m.d4)((e=>e.login)),{currencyType:y}=(0,m.d4)((e=>e.currency)),S=function(e,l){return(e-l-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)).toLocaleString("ru-Ru")};return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:["Do'kon:",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:k.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:["Telefon:",(0,r.jsx)("span",{className:"text-black check-ul-li-span ",children:k.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:["Manzil:",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:null===k||void 0===k?void 0:k.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:new Date(null===N||void 0===N?void 0:N.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:["Mijoz:"," ",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:(null===N||void 0===N||null===(t=N.client)||void 0===t?void 0:t.name)||(null===N||void 0===N||null===(s=N.packman)||void 0===s?void 0:s.name)||""})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:"w-[200px]",src:null===k||void 0===k?void 0:k.image,alt:"logo"})}),(0,r.jsxs)("div",{className:"check-ul-li flex-col",children:[(0,r.jsxs)("div",{className:"grow text-center",children:[(0,r.jsxs)("h2",{className:"check-text-style mb-5",children:["Sotuv:"," ",(0,r.jsx)("span",{className:"ml-2 font-bold",children:null===N||void 0===N?void 0:N.saleconnector.id})]}),(0,r.jsxs)("h2",{className:"check-text-style font-bold",children:["Chek: ",null===N||void 0===N?void 0:N.id]})]}),(0,r.jsx)("div",{className:"check-ul-li justify-end font-bold",children:(0,r.jsxs)("p",{children:["Sotuvchi:"," ",(0,r.jsxs)("span",{className:"check-ul-li-span font-bold",children:[null===N||void 0===N||null===(a=N.user)||void 0===a?void 0:a.firstname," ",null===N||void 0===N||null===(i=N.user)||void 0===i?void 0:i.lastname]})]})})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(null===N||void 0===N?void 0:N.products.some((e=>e.fromFilial>0)))&&(0,r.jsx)("td",{style:{backgroundColor:"grey"},className:"check-table-rtr",children:(0,v.t)("Ombordan")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi")," (",(0,v.t)("dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)([...g].sort(((e,l)=>{var t,s,a,i,n,r,c,d;return(null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code.localeCompare(null===(a=l.product)||void 0===a||null===(i=a.category)||void 0===i?void 0:i.code))||(null===(n=e.product)||void 0===n||null===(r=n.productdata)||void 0===r?void 0:r.code)-(null===(c=l.product)||void 0===c||null===(d=c.productdata)||void 0===d?void 0:d.code)})),((e,l)=>{var t,s,a,i,n,c;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsxs)("td",{className:"check-table-body text-center",children:[null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code," ",null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.code]}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(n=e.product)||void 0===n||null===(c=n.productdata)||void 0===c?void 0:c.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),(null===N||void 0===N?void 0:N.products.some((e=>e.fromFilial>0)))&&(0,r.jsx)("td",{style:{background:null!==e&&void 0!==e&&e.fromFilial?"grey":"white"},className:"check-table-body",children:null===e||void 0===e?void 0:e.fromFilial}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===y?null===e||void 0===e?void 0:e.unitprice:null===e||void 0===e?void 0:e.unitpriceuzs," ",y]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===y?null===e||void 0===e?void 0:e.totalprice:null===e||void 0===e?void 0:e.totalpriceuzs," ",y]})]},(0,h.uniqueId)("saleCheck"))}))})]})}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1rem]"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"check-ul-li-foot border-t-0",children:[(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{className:"font-bold",children:["USD"===y?null===N||void 0===N||null===(n=N.payment)||void 0===n?void 0:n.totalprice:null===N||void 0===N||null===(c=N.payment)||void 0===c?void 0:c.totalpriceuzs," ",y]})]}),(0,r.jsxs)("li",{className:"check-ul-li-foot",children:[" ",(0,v.t)("Chegirma"),":"," ",(0,r.jsxs)("span",{className:"font-bold",children:[null!==N&&void 0!==N&&N.hasOwnProperty("discount")?"USD"===y?null===N||void 0===N?void 0:N.discount.discount:null===N||void 0===N?void 0:N.discount.discountuzs:0," ",y]})]}),(0,r.jsxs)("li",{className:"check-ul-li-foot",children:[" ",(0,v.t)("To'langan"),":"," ",(0,r.jsxs)("span",{className:"font-bold",children:["USD"===y?null===N||void 0===N||null===(d=N.payment)||void 0===d?void 0:d.payment:null===N||void 0===N||null===(o=N.payment)||void 0===o?void 0:o.paymentuzs," ",y]})]}),(0,r.jsxs)("li",{className:"check-ul-li-foot",children:[" ",(0,v.t)("Qarz"),":"," ",(0,r.jsxs)("span",{className:"font-bold",children:["USD"===y?S(null===N||void 0===N||null===(u=N.payment)||void 0===u?void 0:u.totalprice,null===N||void 0===N||null===(x=N.payment)||void 0===x?void 0:x.payment,null===N||void 0===N||null===(p=N.discount)||void 0===p?void 0:p.discount):S(null===N||void 0===N||null===(j=N.payment)||void 0===j?void 0:j.totalpriceuzs,null===N||void 0===N||null===(b=N.payment)||void 0===b?void 0:b.paymentuzs,null===N||void 0===N||null===(f=N.discount)||void 0===f?void 0:f.discountuzs)," ",y]})]})]})]})}));var y=t(93141);const S=(0,i.forwardRef)(((e,l)=>{var t,s,a,i;const{product:n}=e,{user:c,market:d}=(0,m.d4)((e=>e.login)),{currencyType:o}=(0,m.d4)((e=>e.currency));return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:d.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:d.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===d||void 0===d?void 0:d.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span",children:(null===n||void 0===n||null===(t=n.client)||void 0===t?void 0:t.name)||(null===n||void 0===n||null===(s=n.packman)||void 0===s?void 0:s.name)||""})]})]}),(0,r.jsxs)("div",{className:"check-ul-li flex-col",children:[(0,r.jsxs)("div",{className:"grow text-center",children:[(0,r.jsxs)("h2",{className:"check-text-style mb-5",children:[(0,v.t)("Sotuv"),":"," ",(0,r.jsx)("span",{className:"ml-2",children:null===n||void 0===n?void 0:n.saleconnector.id})]}),(0,r.jsxs)("h2",{className:"check-text-style",children:[(0,v.t)("Chek"),": ",null===n||void 0===n?void 0:n.id]})]}),(0,r.jsx)("div",{className:"check-ul-li justify-end",children:(0,r.jsxs)("p",{children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[c.firstname," ",c.lastname]})]})})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi")," (",(0,v.t)("dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)(null===n||void 0===n?void 0:n.products,((e,l)=>{var t,s,a,i;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body text-end",children:null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.productdata)||void 0===s?void 0:s.code}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===o?null===e||void 0===e?void 0:e.unitprice:null===e||void 0===e?void 0:e.unitpriceuzs," ",o]}),(0,r.jsxs)("td",{className:"check-table-body",children:[("USD"===o?null===e||void 0===e?void 0:e.totalprice:null===e||void 0===e?void 0:e.totalpriceuzs).toLocaleString("ru-RU")," ",o]})]},(0,h.uniqueId)("sale-check-return"))}))})]})}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1rem]"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"check-ul-li-foot border-t-0",children:[" ",(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{children:[(u=n.products,x="UZS"===o?"totalpriceuzs":"totalprice",u.reduce(((e,l)=>e+l[x]),0)).toLocaleString("ru-RU")," ",o]})]}),(0,r.jsxs)("li",{className:"check-ul-li-foot",children:[" ",(0,v.t)("To'langan"),":"," ",(0,r.jsxs)("span",{children:[("USD"===o?(null===n||void 0===n||null===(a=n.payment)||void 0===a?void 0:a.payment)||0:(null===n||void 0===n||null===(i=n.payment)||void 0===i?void 0:i.paymentuzs)||0).toLocaleString("ru-RU")," ",o]})]})]})]});var u,x})),w=(0,i.forwardRef)(((e,l)=>{var t,s,a,i,n,c;const{payment:d}=e,{user:o,market:u}=(0,m.d4)((e=>e.login)),{currencyType:x}=(0,m.d4)((e=>e.currency));return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 pb-8   rounded-md w-[10.4cm] print:ml-0  mx-auto",children:[(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("div",{className:"w-36 border rounded-full h-36 mx-auto mb-6",children:(0,r.jsx)("img",{src:null===u||void 0===u?void 0:u.image,className:"w-full h-full rounded-full object-cover",alt:"logo"})}),(0,r.jsxs)("ul",{className:"w-full  space-y-4",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:u.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:u.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===u||void 0===u?void 0:u.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:new Date(null===d||void 0===d?void 0:d.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span",children:(null===d||void 0===d||null===(t=d.saleconnector)||void 0===t||null===(s=t.client)||void 0===s?void 0:s.name)||(null===d||void 0===d||null===(a=d.saleconnector)||void 0===a||null===(i=a.packman)||void 0===i?void 0:i.name)||""})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[o.firstname," ",o.lastname]})]}),(0,r.jsxs)("li",{className:"check-ul-li-foot border-t-1 !mt-4 font-bold",children:[(0,v.t)("To'lov"),":"," ",(0,r.jsxs)("span",{children:["USD"===x?null===d||void 0===d||null===(n=d.payment)||void 0===n?void 0:n.toLocaleString():null===d||void 0===d||null===(c=d.paymentuzs)||void 0===c?void 0:c.toLocaleString()," ",x]})]}),(0,r.jsxs)("li",{className:"check-ul-li-foot border-t-0 font-bold",children:[(0,v.t)("To'lov turi"),":"," ",(0,r.jsx)("span",{children:"cash"===d.type?"".concat((0,v.t)("Naqt")):"card"===d.type?"".concat((0,v.t)("Plastik")):"transfer"===d.type?"".concat((0,v.t)("O'tkazma")):"".concat((0,v.t)("Aralash"))})]})]})]}),(0,r.jsx)("div",{className:"border-b-[2px] border-black-900 w-full "})]})})),D=(0,i.forwardRef)(((e,l)=>{var t,s,a,i,n,c,d,o,u,x,p,j,b,f,N,g,k,y,S;const{product:w}=e,{user:D,market:R}=(0,m.d4)((e=>e.login)),{currencyType:z}=(0,m.d4)((e=>e.currency)),L=function(e,l){return(e-l-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)).toLocaleString("ru-Ru")};return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md reciept w-full uppercase text-[7pt]",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Do'kon"),":"]}),(0,r.jsx)("span",{className:"font-bold",children:R.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Sotuvchi"),":"]}),(0,r.jsxs)("span",{className:"font-bold",children:[D.firstname," ",D.lastname]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Mijoz"),":"]}),(0,r.jsx)("span",{children:(null===w||void 0===w||null===(t=w.client)||void 0===t?void 0:t.name)||(null===w||void 0===w||null===(s=w.packman)||void 0===s?void 0:s.name)||""})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("ID"),":"]}),(0,r.jsx)("span",{children:null===w||void 0===w||null===(a=w.saleconnector)||void 0===a?void 0:a.id})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Chek"),":"]}),(0,r.jsxs)("span",{children:[" ",null===w||void 0===w?void 0:w.id]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Vaqt"),": ",new Date(null===w||void 0===w?void 0:w.createdAt).toLocaleTimeString()]}),(0,r.jsxs)("span",{children:[(0,v.t)("Sana"),": ",new Date(null===w||void 0===w?void 0:w.createdAt).toLocaleDateString()]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("hr",{className:"text-opacity-50"}),(0,r.jsx)("br",{}),(0,h.map)(null===w||void 0===w?void 0:w.products,((e,l)=>{var t,s,a,i,n,c,d,o,u,m;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-[7pt] font-bold",children:[l+1,". ",null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code," ",null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.code," ",null===e||void 0===e||null===(n=e.product)||void 0===n||null===(c=n.productdata)||void 0===c?void 0:c.name]}),(0,r.jsxs)("div",{className:"flex justify-between text-[7pt]",children:[(0,r.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pieces,"*","USD"===z?null===e||void 0===e||null===(d=e.unitprice)||void 0===d?void 0:d.toLocaleString("ru-RU"):null===e||void 0===e||null===(o=e.unitpriceuzs)||void 0===o?void 0:o.toLocaleString("ru-RU")," ",z]}),(0,r.jsxs)("span",{children:["USD"===z?null===e||void 0===e||null===(u=e.totalprice)||void 0===u?void 0:u.toLocaleString("ru-RU"):null===e||void 0===e||null===(m=e.totalpriceuzs)||void 0===m?void 0:m.toLocaleString("ru-RU")," ",z]})]})]},(0,h.uniqueId)("sale-check-pos"))})),(0,r.jsx)("br",{}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{children:["USD"===z?null===w||void 0===w||null===(i=w.payment)||void 0===i||null===(n=i.totalprice)||void 0===n?void 0:n.toLocaleString("ru-RU"):null===w||void 0===w||null===(c=w.payment)||void 0===c||null===(d=c.totalpriceuzs)||void 0===d?void 0:d.toLocaleString("ru-RU")," ",z]})]}),(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[(0,v.t)("Chegirma"),":"," ",(0,r.jsxs)("span",{children:[null!==w&&void 0!==w&&w.hasOwnProperty("discount")?"USD"===z?null===w||void 0===w||null===(o=w.discount.discount)||void 0===o?void 0:o.toLocaleString("ru-RU"):null===w||void 0===w||null===(u=w.discount.discountuzs)||void 0===u?void 0:u.toLocaleString("ru-RU"):0," ",z]})]}),(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[" ",(0,v.t)("To'langan"),":"," ",(0,r.jsxs)("span",{children:["USD"===z?null===w||void 0===w||null===(x=w.payment)||void 0===x||null===(p=x.payment)||void 0===p?void 0:p.toLocaleString("ru-RU"):null===w||void 0===w||null===(j=w.payment)||void 0===j||null===(b=j.paymentuzs)||void 0===b?void 0:b.toLocaleString("ru-RU")," ",z]})]}),(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[" ",(0,v.t)("Qarz"),":"," ",(0,r.jsxs)("span",{children:["USD"===z?L(null===w||void 0===w||null===(f=w.payment)||void 0===f?void 0:f.totalprice,null===w||void 0===w||null===(N=w.payment)||void 0===N?void 0:N.payment,null===w||void 0===w||null===(g=w.discount)||void 0===g?void 0:g.discount):L(null===w||void 0===w||null===(k=w.payment)||void 0===k?void 0:k.totalpriceuzs,null===w||void 0===w||null===(y=w.payment)||void 0===y?void 0:y.paymentuzs,null===w||void 0===w||null===(S=w.discount)||void 0===S?void 0:S.discountuzs)," ",z]})]})]})]})})),R=(0,i.forwardRef)(((e,l)=>{var t,s,a,i,n,c,d;const{payment:o}=e,{user:u,market:x}=(0,m.d4)((e=>e.login)),{currencyType:h}=(0,m.d4)((e=>e.currency));return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md reciept w-full uppercase text-[7pt]",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"font-bold",children:[(0,v.t)("Do'kon"),":"]}),(0,r.jsx)("span",{className:"font-bold",children:x.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"font-bold",children:[(0,v.t)("Sotuvchi"),":"]}),(0,r.jsxs)("span",{className:"font-bold",children:[u.firstname," ",u.lastname]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"font-bold",children:[(0,v.t)("Mijoz"),":"]}),(0,r.jsx)("span",{className:"font-bold",children:(null===o||void 0===o||null===(t=o.saleconnector)||void 0===t||null===(s=t.client)||void 0===s?void 0:s.name)||(null===o||void 0===o||null===(a=o.saleconnector)||void 0===a||null===(i=a.packman)||void 0===i?void 0:i.name)||""})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,r.jsxs)("span",{className:"font-bold",children:[(0,v.t)("ID"),":"]}),(0,r.jsx)("span",{className:"font-bold",children:null===o||void 0===o||null===(n=o.saleconnector)||void 0===n?void 0:n.id})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,r.jsxs)("span",{className:"font-bold",children:[(0,v.t)("Vaqt"),": ",new Date(null===o||void 0===o?void 0:o.createdAt).toLocaleTimeString()]}),(0,r.jsxs)("span",{className:"font-bold",children:[(0,v.t)("Sana"),": ",new Date(null===o||void 0===o?void 0:o.createdAt).toLocaleDateString()]})]}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{className:"font-bold",children:["USD"===h?null===o||void 0===o||null===(c=o.payment)||void 0===c?void 0:c.toLocaleString("ru-RU"):null===o||void 0===o||null===(d=o.paymentuzs)||void 0===d?void 0:d.toLocaleString("ru-RU")," ",h]})]}),(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[(0,v.t)("To'lov turi"),":"," ",(0,r.jsx)("span",{className:"font-bold",children:"cash"===o.type?"".concat((0,v.t)("Naqt")):"card"===o.type?"".concat((0,v.t)("Plastik")):"transfer"===o.type?"".concat((0,v.t)("O'tkazma")):"".concat((0,v.t)("Aralash"))})]})]})]})})),z=(0,i.forwardRef)(((e,l)=>{var t,s,a,i;const{order:n}=e,{market:c}=(0,m.d4)((e=>e.login)),{currencyType:d}=(0,m.d4)((e=>e.currency));return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===n||void 0===n||null===(t=n.sender)||void 0===t?void 0:t.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:["INN:",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===n||void 0===n||null===(s=n.sender)||void 0===s?void 0:s.inn.toLocaleString("ru-Ru")})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleTimeString()," ",new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleDateString()]})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Buyurtmachi"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===c||void 0===c?void 0:c.name})]})]}),(0,r.jsx)("div",{className:"check-ul-li flex-col",children:(0,r.jsx)("div",{className:"grow text-center",children:(0,r.jsxs)("h2",{className:"check-text-style mb-5",children:[(0,v.t)("Buyurtma"),":"," ",(0,r.jsx)("span",{className:"ml-2",children:null===n||void 0===n?void 0:n.id})]})})})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kategoriya")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Buyurtma")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Yuborilgan")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Qabul qilingan")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Qaytarilgan")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)(null===n||void 0===n?void 0:n.products,((e,l)=>{var t,s,a,i,n,c,o,u,m,x,v,p,j,b,f,N;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.code}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(n=e.product)||void 0===n||null===(c=n.productdata)||void 0===c?void 0:c.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(o=e.pieces)||void 0===o||null===(u=o.recived)||void 0===u?void 0:u.toLocaleString("ru-RU")}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(m=e.pieces)||void 0===m||null===(x=m.send)||void 0===x?void 0:x.toLocaleString("ru-RU")}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(v=e.pieces)||void 0===v||null===(p=v.delivered)||void 0===p?void 0:p.toLocaleString("ru-RU")}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(j=e.pieces)||void 0===j||null===(b=j.returned)||void 0===b?void 0:b.toLocaleString("ru-RU")}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===d?null===e||void 0===e||null===(f=e.totalprice)||void 0===f?void 0:f.toLocaleString("ru-RU"):null===e||void 0===e||null===(N=e.totalpriceuzs)||void 0===N?void 0:N.toLocaleString("ru-RU")," ",d]})]},(0,h.uniqueId)("saleCheck"))}))})]})}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1rem]"}),(0,r.jsx)("ul",{children:(0,r.jsxs)("li",{className:"check-ul-li-foot border-t-0",children:[(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{children:["USD"===d?null===n||void 0===n||null===(a=n.totalprice)||void 0===a?void 0:a.toLocaleString("ru-RU"):null===n||void 0===n||null===(i=n.totalpriceuzs)||void 0===i?void 0:i.toLocaleString("ru-RU")," ",d]})]})})]})})),L=(0,i.forwardRef)(((e,l)=>{var t,s,a,i,n;const{order:c}=e,{currencyType:d}=(0,m.d4)((e=>e.currency));return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md reciept w-full uppercase text-[7pt]",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Do'kon"),":"]}),(0,r.jsx)("span",{children:null===c||void 0===c||null===(t=c.sender)||void 0===t?void 0:t.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{children:"INN:"}),(0,r.jsx)("span",{children:null===c||void 0===c||null===(s=c.sender)||void 0===s||null===(a=s.inn)||void 0===a?void 0:a.toLocaleString("ru-RU")})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Buyurtma"),":"]}),(0,r.jsxs)("span",{children:[" ",null===c||void 0===c?void 0:c.id]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Vaqt"),": ",new Date(null===c||void 0===c?void 0:c.createdAt).toLocaleTimeString()]}),(0,r.jsxs)("span",{children:[(0,v.t)("Sana"),": ",new Date(null===c||void 0===c?void 0:c.createdAt).toLocaleDateString()]})]}),(0,r.jsx)("br",{}),(0,r.jsx)("hr",{className:"text-opacity-50"}),(0,r.jsx)("br",{}),(0,h.map)(null===c||void 0===c?void 0:c.products,((e,l)=>{var t,s,a,i,n,c,o,u,m,x;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-[7pt] font-bold",children:[l+1,". ",null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code," ",null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.code," ",null===e||void 0===e||null===(n=e.product)||void 0===n||null===(c=n.productdata)||void 0===c?void 0:c.name]}),(0,r.jsxs)("div",{className:"flex justify-between text-[7pt]",children:[(0,r.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pieces.recived,"*","USD"===d?null===e||void 0===e||null===(o=e.unitprice)||void 0===o?void 0:o.toLocaleString("ru-RU"):null===e||void 0===e||null===(u=e.unitpriceuzs)||void 0===u?void 0:u.toLocaleString("ru-RU")," ",d]}),(0,r.jsxs)("span",{children:["USD"===d?null===e||void 0===e||null===(m=e.totalprice)||void 0===m?void 0:m.toLocaleString("ru-RU"):null===e||void 0===e||null===(x=e.totalpriceuzs)||void 0===x?void 0:x.toLocaleString("ru-RU")," ",d]})]})]},(0,h.uniqueId)("sale-check-pos"))})),(0,r.jsx)("br",{}),(0,r.jsx)("ul",{children:(0,r.jsxs)("li",{className:"flex justify-between text-[7pt] border-b border-b-black-300",children:[(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{children:["USD"===d?null===c||void 0===c||null===(i=c.totalprice)||void 0===i?void 0:i.toLocaleString("ru-RU"):null===c||void 0===c||null===(n=c.totalpriceuzs)||void 0===n?void 0:n.toLocaleString("ru-RU")," ",d]})]})})]})}));var U=t(51655);const C=function(e){const{product:l,returned:t,isPayment:s,payment:a,isOrder:c,order:d,noXPrint:o}=e,[u,m]=(0,i.useState)(!1),h=(0,i.useRef)(null),v=(0,i.useRef)(null),p=(0,i.useRef)(null),j=i.useCallback((()=>(m(!0),new Promise((e=>{p.current=e,setTimeout((()=>{m(!1),e()}),2e3)})))),[m]),b=i.useCallback((()=>h.current),[h.current]),f=(0,y.useReactToPrint)({content:b,documentTitle:"Sale Check",onBeforeGetContent:j,removeAfterPrint:!0}),N=(0,i.useRef)(null),C=i.useCallback((()=>N.current),[N.current]),q=(0,y.useReactToPrint)({content:C,documentTitle:"All Checks",onBeforeGetContent:j,removeAfterPrint:!0});return(0,i.useEffect)((()=>{u&&"function"===typeof p.current&&p.current()}),[p.current,u]),(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"w-[27cm] mt-4 mx-auto",children:[u&&(0,r.jsx)("div",{className:"fixed backdrop-blur-[2px] left-0 top-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,r.jsx)(x.A,{})}),t?(0,r.jsx)(S,{product:l,ref:h}):s?(0,r.jsx)(w,{payment:a,ref:h}):c?(0,r.jsx)(z,{ref:h,order:d}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsx)(k,{product:l,ref:h})}),(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(U.E,{ref:N,...e})})]}),t?(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(U.E,{isReturned:!0,product:l,ref:N})}):s?(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(R,{payment:a,ref:v})}):c?(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(L,{ref:v,order:d})}):(0,r.jsx)("div",{className:"hidden",children:(0,r.jsx)(D,{product:l,ref:v})})]}),(0,r.jsxs)("div",{className:"w-[27cm] flex justify-between items-center mt-6 w-[80vw]",children:[(0,r.jsx)("div",{children:!o&&(0,r.jsxs)("button",{className:"group print-btn-style ml-auto min-w-max ".concat(u?"pointer-events-none":"pointer-events-auto"),onClick:q,disabled:u,children:[(0,r.jsx)("span",{className:"print-text-style",children:"Xprinter"}),(0,r.jsx)("span",{className:"print-icon-style",children:(0,r.jsx)(n.wv0,{size:"1.125rem",className:"text-primary-800 text-lg transition-all ease-in-out duration-200 group-hover:text-primary-900"})})]})}),(0,r.jsx)("div",{children:(0,r.jsx)(g.A,{onClick:f,isDisabled:u})})]})]})},q=(0,i.forwardRef)(((e,l)=>{var t,s,a;const{selled:i,returned:n,selledDiscounts:c,returnedDiscounts:d,selledPayments:o,returnedPayments:u,product:x,userInfo:p}=e,{market:j}=(0,m.d4)((e=>e.login)),{currencyType:b}=(0,m.d4)((e=>e.currency)),f=e=>e?e.reduce(((e,l)=>e+l["USD"===b?"totalprice":"totalpriceuzs"]),0):0,N=e=>e?e.reduce(((e,l)=>e+l["USD"===b?"discount":"discountuzs"]),0):0,g=e=>e?e.reduce(((e,l)=>e+l["USD"===b?"payment":"paymentuzs"]),0):0;return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:j.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:j.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:null===j||void 0===j?void 0:j.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[new Date(null===x||void 0===x?void 0:x.createdAt).toLocaleDateString()," ",(0,r.jsx)("span",{className:"ml-3 font-bold",children:new Date(null===x||void 0===x?void 0:x.createdAt).toLocaleTimeString()})]})]}),(0,r.jsxs)("li",{className:"check-ul-li font-bold",children:[(0,v.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:(null===x||void 0===x||null===(t=x.client)||void 0===t?void 0:t.name)||(null===x||void 0===x||null===(s=x.packman)||void 0===s?void 0:s.name)||""})]}),(0,r.jsxs)("li",{className:"check-ul-li font-bold",children:[(0,v.t)("Mijoz telefoni"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:(null===x||void 0===x||null===(a=x.client)||void 0===a?void 0:a.phoneNumber)||""})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:"w-[200px]",src:null===j||void 0===j?void 0:j.image,alt:"logo"})}),(0,r.jsxs)("div",{className:"check-ul-li flex-col",children:[(0,r.jsx)("div",{className:"grow text-center",children:(0,r.jsxs)("h2",{className:"check-text-style mb-5",children:[(0,v.t)("Sotuv"),": ",(0,r.jsx)("span",{className:"ml-2 font-bold",children:null===x||void 0===x?void 0:x.id})]})}),(0,r.jsx)("div",{className:"check-ul-li justify-end",children:(0,r.jsxs)("p",{children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"check-ul-li-span font-bold",children:[null===p||void 0===p?void 0:p.firstname," ",null===p||void 0===p?void 0:p.lastname]})]})})]})]}),(null===i||void 0===i?void 0:i.length)>0&&(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[1.3rem] text-black-900 mb-5 font-bold",children:[(0,v.t)("Sotilganlar")," :"]}),(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Sana")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),i.some((e=>e.fromFilial>0))&&(0,r.jsx)("td",{style:{backgroundColor:"grey"},className:"check-table-rtr",children:(0,v.t)("Ombordan")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi"),"(",(0,v.t)("Dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Sotuvchi")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)([...i].sort(((e,l)=>{var t,s,a,i;return Number(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code)-Number(null===l||void 0===l||null===(a=l.product)||void 0===a||null===(i=a.category)||void 0===i?void 0:i.code)})),((e,l)=>{var t,s,a,n,c,d;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body",children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()}),(0,r.jsxs)("td",{className:"check-table-body text-center",children:[null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code," ",null===e||void 0===e||null===(a=e.product)||void 0===a||null===(n=a.productdata)||void 0===n?void 0:n.code]}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(c=e.product)||void 0===c||null===(d=c.productdata)||void 0===d?void 0:d.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),i.some((e=>e.fromFilial>0))&&(0,r.jsx)("td",{style:{backgroundColor:null!==e&&void 0!==e&&e.fromFilial?"grey":"white"},className:"check-table-body",children:null===e||void 0===e?void 0:e.fromFilial}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===b?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ",b]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===b?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",b]}),(0,r.jsx)("td",{className:"check-table-body",children:null!==e&&void 0!==e&&e.user?e.user.firstname+" "+e.user.lastname[0]:""})]},(0,h.uniqueId)("selled-row"))}))})]})]}),(0,r.jsxs)("div",{className:"border-t-[0.8px] border-black-700 w-full mt-4 mb-4 text-end",children:[(0,r.jsxs)("h3",{className:"text-black-900 text-[1.1rem] text-black-700 font-bold pt-4",children:[(0,v.t)("Sotilganlar jami")," :"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[f(i).toLocaleString("ru-Ru")," ",b]})]}),i.some((e=>e.fromFilial>0))&&(0,r.jsxs)("h3",{className:"text-black-900 text-[14px] text-black-700 font-bold pt-4",children:[(0,v.t)("Ombordagi jami")," :"," ",(0,r.jsxs)("span",{className:" text-black-900 font-bold",children:[(k=i,"USD"===b?k.reduce(((e,l)=>e+(l.fromFilial||0)*l.unitprice),0):k.reduce(((e,l)=>e+(l.fromFilial||0)*l.unitpriceuzs),0)).toLocaleString("ru-Ru")," ",b]})]})]}),(null===n||void 0===n?void 0:n.length)>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[1.3rem] text-black-700 mb-5 font-bold",children:[(0,v.t)("Qaytarilganlar")," :"]}),(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Sana")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi"),"(",(0,v.t)("Dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)(n,((e,l)=>{var t,s,a,i;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body",children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.productdata)||void 0===s?void 0:s.code}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===b?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ",b]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===b?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",b]})]},(0,h.uniqueId)("selled-row"))}))})]})]}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full mt-4 mb-4 text-end",children:(0,r.jsxs)("h3",{className:"text-black-900 text-[1.1rem] text-black-700 font-bold pt-4",children:[(0,v.t)("Qaytarilganlar jami")," :"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[f(n).toLocaleString("ru-Ru")," ",b]})]})})]}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1.5rem]"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot border-t-0",children:[" ",(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[(f(i)+f(n)).toLocaleString("ru-Ru")," ",b]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("Chegirma"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[(N(c)+N(d)).toLocaleString("ru-Ru")," ",b]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("To'langan"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[(g(o)+g(u)).toLocaleString("ru-Ru")," ",b]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("Qarz"),":"," ",(0,r.jsxs)("span",{className:" text-black-900 font-bold",children:[(f(i)+f(n)-(g(o)+g(u))-(N(c)+N(d))).toLocaleString("ru-Ru")," ",b]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("Umumiy qarz"),":"," ",(0,r.jsxs)("span",{className:" text-black-900 font-bold",children:[("USD"===b?(null===x||void 0===x?void 0:x.totaldebtusd)||0:(null===x||void 0===x?void 0:x.totaldebtuzs)||0).toLocaleString("ru-Ru")," ",b]})]})]})]});var k})),A=(0,i.forwardRef)(((e,l)=>{var t,s,a;const{selled:i,returned:n,selledDiscounts:c,returnedDiscounts:d,selledPayments:o,returnedPayments:u,product:x,userInfo:p,totalOfBackAndDebt:j}=e,{market:b}=(0,m.d4)((e=>e.login)),{currencyType:f}=(0,m.d4)((e=>e.currency)),N=e=>e?e.reduce(((e,l)=>e+l["USD"===f?"totalprice":"totalpriceuzs"]),0):0,g=e=>e?e.reduce(((e,l)=>e+l["USD"===f?"discount":"discountuzs"]),0):0,k=e=>e?e.filter((e=>e.totalprice)).reduce(((e,l)=>e+l["USD"===f?"payment":"paymentuzs"]),0):0;return(0,r.jsxs)("div",{ref:l,className:"px-2",children:[(0,r.jsxs)("div",{className:"flex pb-2 flex-col text-center justify-center border-b-[0.8px] border-black-700",children:[(0,r.jsx)("div",{className:"py-4 object-contain flex items-center justify-center",children:(0,r.jsx)("img",{src:null===b||void 0===b?void 0:b.image,alt:"logo",className:"w-[170px] mx-auto  object-contain h-full"})}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:b.phone1})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:null===b||void 0===b?void 0:b.address})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,v.t)("Sana"),":",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:new Date(null===x||void 0===x?void 0:x.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,v.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:(null===x||void 0===x||null===(t=x.client)||void 0===t?void 0:t.name)||(null===x||void 0===x||null===(s=x.packman)||void 0===s?void 0:s.name)||""})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,v.t)("Sotuv")," ",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:null===x||void 0===x?void 0:x.id})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"text-[12px] text-black-900 font-bold",children:[null===p||void 0===p?void 0:p.firstname," ",null===p||void 0===p?void 0:p.lastname]})]})]}),(null===i||void 0===i?void 0:i.length)>0&&(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[14px] text-black-900 mb-5 font-bold",children:[(0,v.t)("Sotilganlar")," :"]}),(0,r.jsx)("div",{children:(0,h.map)(i,((e,l)=>{var t,s;return(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,". ",null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.productdata)||void 0===s?void 0:s.name]}),(0,r.jsxs)("div",{className:"text-right text-[12px] text-black-900 font-bold",children:[null===e||void 0===e?void 0:e.pieces," * ","USD"===f?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," = ","USD"===f?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",f]})]})}))})]}),(null===n||void 0===n?void 0:n.length)>0&&(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[14px] text-black-900 mb-5 font-bold",children:[(0,v.t)("Qaytarilganlar")," :"]}),(0,r.jsx)("div",{children:(0,h.map)(n,((e,l)=>{var t,s;return(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,". ",null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.productdata)||void 0===s?void 0:s.name]}),(0,r.jsxs)("div",{className:"text-right text-[12px] text-black-900 font-bold",children:[null===e||void 0===e?void 0:e.pieces," * ","USD"===f?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," = ","USD"===f?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",f]})]})}))})]}),(0,r.jsxs)("div",{className:"text-black-900  check-ul-li-foot mt-4",children:[(0,v.t)("Jami")," :"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:[N(i).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("div",{className:"text-black-900 border-none check-ul-li-foot",children:[" ",(0,v.t)("Chegirma"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 text-[12px] font-bold",children:[(g(c)+g(d)).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("div",{className:"text-black-900 border-none check-ul-li-foot",children:[" ",(0,v.t)("To'langan"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 text-[12px] font-bold",children:[(k(o)+k(u)).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("div",{className:"text-black-900 border-none check-ul-li-foot",children:[" ",(0,v.t)("Qarz"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 text-[12px] font-bold",children:[(N(i)+N(n)-(k(o)+k(u))-(g(c)+g(d))).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("div",{className:"text-black-900 border-none check-ul-li-foot",children:[" ",(0,v.t)("Qarzdan qaytarilganlar"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 text-[12px] font-bold",children:[null===j||void 0===j?void 0:j.toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("div",{className:"text-black-900 border-none check-ul-li-foot",children:[" ",(0,v.t)("Umumiy qarz"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 text-[12px] font-bold",children:[null===(a="USD"===f?(null===x||void 0===x?void 0:x.totaldebtusd)||0:(null===x||void 0===x?void 0:x.totaldebtuzs)||0)||void 0===a?void 0:a.toLocaleString("ru-Ru")," ",f]})]}),b.qrcode&&(0,r.jsx)("div",{className:"w-[120px] h-[120px] mx-auto",children:(0,r.jsx)("img",{src:b.qrcode,alt:"qrcode"})})]})}));var P=t(65239),T=t.n(P),_=t(37762);const B=(0,i.forwardRef)(((e,l)=>{var t,s,a;const{selled:i,returned:n,selledDiscounts:c,returnedDiscounts:d,selledPayments:o,returnedPayments:u,product:x,userInfo:p,totalOfBackAndDebt:j}=e,{market:b}=(0,m.d4)((e=>e.login)),{currencyType:f}=(0,m.d4)((e=>e.currency)),N=e=>e?e.reduce(((e,l)=>e+l["USD"===f?"totalprice":"totalpriceuzs"]),0):0,g=e=>e?e.reduce(((e,l)=>e+l["USD"===f?"discount":"discountuzs"]),0):0,k=e=>e?e.reduce(((e,l)=>e+l["USD"===f?"payment":"paymentuzs"]),0):0;return(0,r.jsxs)("div",{ref:l,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:b.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:b.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:null===b||void 0===b?void 0:b.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[new Date(null===x||void 0===x?void 0:x.createdAt).toLocaleDateString()," ",(0,r.jsx)("span",{className:"ml-3 font-bold",children:new Date(null===x||void 0===x?void 0:x.createdAt).toLocaleTimeString()})]})]}),(0,r.jsxs)("li",{className:"check-ul-li font-bold",children:[(0,v.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:(null===x||void 0===x||null===(t=x.client)||void 0===t?void 0:t.name)||(null===x||void 0===x||null===(s=x.packman)||void 0===s?void 0:s.name)||""})]}),(0,r.jsxs)("li",{className:"check-ul-li font-bold",children:[(0,v.t)("Mijoz telefoni"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span font-bold",children:(null===x||void 0===x||null===(a=x.client)||void 0===a?void 0:a.phoneNumber)||""})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("img",{className:"w-[200px]",src:null===b||void 0===b?void 0:b.image,alt:"logo"})}),(0,r.jsxs)("div",{className:"check-ul-li flex-col",children:[(0,r.jsx)("div",{className:"grow text-center",children:(0,r.jsxs)("h2",{className:"check-text-style mb-5",children:[(0,v.t)("Sotuv"),": ",(0,r.jsx)("span",{className:"ml-2 font-bold",children:null===x||void 0===x?void 0:x.id})]})}),(0,r.jsx)("div",{className:"check-ul-li justify-end",children:(0,r.jsxs)("p",{children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"check-ul-li-span font-bold",children:[null===p||void 0===p?void 0:p.firstname," ",null===p||void 0===p?void 0:p.lastname]})]})})]})]}),(null===i||void 0===i?void 0:i.length)>0&&(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[1.3rem] text-black-900 mb-5 font-bold",children:[(0,v.t)("Sotilganlar")," :"]}),i.map(((e,l)=>{var t,s,a,i,n,c,d,o,u,m,x;return 0!=e.more_parameters1.length&&0!=e.more_parameters1.size&&0!=e.more_parameters1.piece?(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("div",{className:"text-left text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.productdata)||void 0===s?void 0:s.name]}),""!==(null===e||void 0===e?void 0:e.forWhat)||e.forWhat?(0,r.jsxs)("div",{className:"flex justify-between text-[12px] border  border-b-0 !text-black-900 p-1 pr-3 border-slate-400",children:[(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.forWhat})," "," ",(0,r.jsx)("b",{children:null===e||void 0===e?void 0:e.pieces})," "," "]}):null,(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("th",{className:"check-table-rtr",children:(0,v.t)("O`lchami")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,v.t)("Uzunligi")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,v.t)("Narxi")})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"check-table-body text-center",children:[null===(a=e.more_parameters1)||void 0===a?void 0:a.size," "]}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===(i=e.more_parameters1)||void 0===i?void 0:i.length}),(0,r.jsxs)("td",{className:"check-table-body text-center",children:["USD"===f?null===e||void 0===e||null===(n=e.sizePrice)||void 0===n?void 0:n.toLocaleString("ru-Ru"):null===e||void 0===e||null===(c=e.sizePrice)||void 0===c?void 0:c.toLocaleString("ru-Ru"),f]})]})})]}),(0,r.jsxs)("div",{className:"text-end text-[12px] border font-bold border-t-0 !text-black-900 p-1 pr-3 border-slate-400",children:["Umumiy: ",null===e||void 0===e||null===(d=e.more_parameters1)||void 0===d?void 0:d.length,"  *"," ","USD"===f?null===e||void 0===e||null===(o=e[""===(null===e||void 0===e?void 0:e.sizePrice)||void 0===(null===e||void 0===e?void 0:e.sizePrice)?"unitprice":"sizePrice"])||void 0===o?void 0:o.toLocaleString("ru-Ru"):null===e||void 0===e||null===(u=e[""===(null===e||void 0===e?void 0:e.sizePrice)||void 0===(null===e||void 0===e?void 0:e.sizePrice)?"unitpriceuzs":"sizePrice"])||void 0===u?void 0:u.toLocaleString("ru-Ru")," ","="," ","USD"===f?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",f]})]}):0!==e.more_parameters2.length?(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsxs)("div",{className:"text-left  text-[12px] text-black-900 font-bold",children:[l+1,"."," ",null===e||void 0===e||null===(m=e.product)||void 0===m||null===(x=m.productdata)||void 0===x?void 0:x.name]}),(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("th",{className:"check-table-rtr",children:(0,v.t)("O`lcham")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(0,r.jsx)("th",{className:"check-table-rtr",children:(0,v.t)("Umumiy")})]})}),(0,r.jsx)("tbody",{children:e.more_parameters2.map((e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-body text-center",children:e.col1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:e.col2}),(0,r.jsx)("td",{className:"check-table-body text-center",children:e.result})]})))})]}),(0,r.jsxs)("div",{className:"text-end text-[12px] border border-t-0 !text-black-900 p-1 pr-3 font-bold border-slate-400",children:[(0,v.t)("Umumiy"),": ",e.more_parameters2.reduce(((e,l)=>e+l.result),0)]}),(0,r.jsx)("div",{className:"text-end mt-4 font-bold",children:(0,r.jsxs)("h1",{children:[e.more_parameters2.reduce(((e,l)=>e+l.result),0)," "," ","* "," ","USD"===f?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ","="," ","USD"===f?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",f]})})]}):void 0})),i.some((e=>0===e.more_parameters1.length&&0===e.more_parameters1.size&&0===e.more_parameters1.piece&&0===e.more_parameters2.length))&&(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full mt-2",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Sana")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),i.some((e=>e.fromFilial>0))&&(0,r.jsx)("td",{style:{backgroundColor:"grey"},className:"check-table-rtr",children:(0,v.t)("Ombordan")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi"),"(",(0,v.t)("Dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Sotuvchi")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)([...i].sort(((e,l)=>{var t,s,a,i;return Number(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code)-Number(null===l||void 0===l||null===(a=l.product)||void 0===a||null===(i=a.category)||void 0===i?void 0:i.code)})),((e,l)=>{var t,s,a,n,c,d;if(0==e.more_parameters1.length&&0==e.more_parameters1.size&&0==e.more_parameters1.piece&&0===e.more_parameters2.length)return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body",children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()}),(0,r.jsxs)("td",{className:"check-table-body text-center",children:[null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.category)||void 0===s?void 0:s.code," ",null===e||void 0===e||null===(a=e.product)||void 0===a||null===(n=a.productdata)||void 0===n?void 0:n.code]}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(c=e.product)||void 0===c||null===(d=c.productdata)||void 0===d?void 0:d.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),i.some((e=>e.fromFilial>0))&&(0,r.jsx)("td",{style:{backgroundColor:null!==e&&void 0!==e&&e.fromFilial?"grey":"white"},className:"check-table-body",children:null===e||void 0===e?void 0:e.fromFilial}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===f?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ",f]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===f?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",f]}),(0,r.jsx)("td",{className:"check-table-body",children:null!==e&&void 0!==e&&e.user?e.user.firstname+" "+e.user.lastname[0]:""})]},(0,h.uniqueId)("selled-row"))}))})]})]}),(0,r.jsxs)("div",{className:"border-t-[0.8px] border-black-700 w-full mt-4 mb-4 text-end",children:[(0,r.jsxs)("h3",{className:"text-black-900 text-[1.1rem] text-black-700 font-bold pt-4",children:[(0,v.t)("Sotilganlar jami")," :"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[N(i).toLocaleString("ru-Ru")," ",f]})]}),i.some((e=>e.fromFilial>0))&&(0,r.jsxs)("h3",{className:"text-black-900 text-[14px] text-black-700 font-bold pt-4",children:[(0,v.t)("Ombordagi jami")," :"," ",(0,r.jsxs)("span",{className:" text-black-900 font-bold",children:[(y=i,"USD"===f?y.reduce(((e,l)=>e+(l.fromFilial||0)*l.unitprice),0):y.reduce(((e,l)=>e+(l.fromFilial||0)*l.unitpriceuzs),0)).toLocaleString("ru-Ru")," ",f]})]})]}),(null===n||void 0===n?void 0:n.length)>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mt-5",children:[(0,r.jsxs)("h3",{className:"text-[1.3rem] text-black-700 mb-5 font-bold",children:[(0,v.t)("Qaytarilganlar")," :"]}),(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Sana")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi"),"(",(0,v.t)("Dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)(n,((e,l)=>{var t,s,a,i;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body",children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(t=e.product)||void 0===t||null===(s=t.productdata)||void 0===s?void 0:s.code}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e||null===(a=e.product)||void 0===a||null===(i=a.productdata)||void 0===i?void 0:i.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===f?null===e||void 0===e?void 0:e.unitprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.unitpriceuzs.toLocaleString("ru-Ru")," ",f]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===f?null===e||void 0===e?void 0:e.totalprice.toLocaleString("ru-Ru"):null===e||void 0===e?void 0:e.totalpriceuzs.toLocaleString("ru-Ru")," ",f]})]},(0,h.uniqueId)("selled-row"))}))})]})]}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full mt-4 mb-4 text-end",children:(0,r.jsxs)("h3",{className:"text-black-900 text-[1.1rem] text-black-700 font-bold pt-4",children:[(0,v.t)("Qaytarilganlar jami")," :"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[N(n).toLocaleString("ru-Ru")," ",f]})]})})]}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1.5rem]"}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot border-t-0",children:[" ",(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[N(i).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("Chegirma"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[(g(c)+g(d)).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("To'langan"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[(k(o)+k(u)).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",style:{display:(null===n||void 0===n?void 0:n.length)>0?"flex":"none"},children:[" ",(0,v.t)("Qarzdan qaytarilganlar"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[null===j||void 0===j?void 0:j.toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("Qarz"),":"," ",(0,r.jsxs)("span",{className:"text-black-900 font-bold",children:[(N(i)+N(n)-(k(o)+k(u))-(g(c)+g(d))).toLocaleString("ru-Ru")," ",f]})]}),(0,r.jsxs)("li",{className:"text-black-900 check-ul-li-foot",children:[" ",(0,v.t)("Umumiy qarz"),":"," ",(0,r.jsxs)("span",{className:" text-black-900 font-bold",children:[("USD"===f?(null===x||void 0===x?void 0:x.totaldebtusd)||0:(null===x||void 0===x?void 0:x.totaldebtuzs)||0).toLocaleString("ru-Ru")," ",f]})]})]})]});var y}));const M=function(e){let{product:l,allDetails:t}=e;const[s,a]=(0,i.useState)(window.innerWidth<=768),[c,d]=(0,i.useState)(!1),[o,u]=(0,i.useState)([]),[m,v]=(0,i.useState)([]),[p,j]=(0,i.useState)([]),[b,f]=(0,i.useState)([]),[N,k]=(0,i.useState)([]),[S,w]=(0,i.useState)([]),[D,R]=(0,i.useState)({}),z=(0,i.useRef)(),L=(0,i.useRef)(),C=(0,i.useRef)(),P=(0,i.useRef)(null),[M,I]=(0,i.useState)(0),E=i.useCallback((e=>(d(!0),new Promise((e=>{P.current=e,setTimeout((()=>{d(!1),e()}),2e3)})))),[d]),F=()=>{var e;return null===(e=z.current)||void 0===e?void 0:e.cloneNode(!0)},O=(0,y.useReactToPrint)({content:()=>F(),documentTitle:"All Checks",onBeforeGetContent:E,removeAfterPrint:!1,pageStyle:"@page { size: A4; margin: 0mm; }"}),W=(0,y.useReactToPrint)({content:()=>F(),documentTitle:"All Checks",onBeforeGetContent:E,removeAfterPrint:!1,pageStyle:"@page { size: A4; margin: 0mm; }",print:async e=>{d(!0);try{const t=e.contentDocument.body,s=await T()(t,{useCORS:!0,allowTaint:!0,scrollX:0,scrollY:0,onclone:e=>{const l=e.body;l.style.overflow="hidden",l.style.width="21cm",l.style.height="29.7cm",l.style.padding="0",l.style.margin="0",l.style.border="none"}}),a=s.toDataURL("image/png"),i=new _.Ay({orientation:"portrait",format:"a4"}),n=i.internal.pageSize.getWidth(),r=i.internal.pageSize.getHeight();i.addImage(a,"JPEG",0,0,n,r),await i.save(null!==l&&void 0!==l&&l.client?"".concat(l.client.name,".pdf"):null!==l&&void 0!==l&&l.saleconnector?"".concat(l.saleconnector.id,".pdf"):null!==l&&void 0!==l&&l.id?"".concat(l.id,".pdf"):"".concat((new Date).toISOString(),".pdf"),{returnPromise:!0})}catch(t){console.log(t)}finally{d(!1)}}}),J=(0,y.useReactToPrint)({content:()=>(()=>{var e,l;return t?null===(e=C.current)||void 0===e?void 0:e.cloneNode(!0):null===(l=L.current)||void 0===l?void 0:l.cloneNode(!0)})(),documentTitle:"All Checks",onBeforeGetContent:E,removeAfterPrint:!1});return(0,i.useEffect)((()=>{c&&"function"===typeof P.current&&P.current()}),[P.current,c]),(0,i.useEffect)((()=>{var e;I(null===l||void 0===l||null===(e=l.saleconnector)||void 0===e?void 0:e.totalOfBackAndDebt),u((0,h.filter)(null===l||void 0===l?void 0:l.products,(e=>e.pieces>0))),v((0,h.filter)(null===l||void 0===l?void 0:l.products,(e=>e.pieces<0))),j((0,h.filter)(null===l||void 0===l?void 0:l.discounts,(e=>e.discount>0))),f((0,h.filter)(null===l||void 0===l?void 0:l.discounts,(e=>e.discount<0))),k((0,h.filter)(null===l||void 0===l?void 0:l.payments,(e=>e.payment>0))),w((0,h.filter)(null===l||void 0===l?void 0:l.payments,(e=>e.payment<0))),R(null===l||void 0===l?void 0:l.user)}),[l]),(0,i.useEffect)((()=>{const e=()=>{a(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.jsxs)("section",{className:"w-[27cm] mt-4 mx-auto",children:[c&&(0,r.jsx)("div",{className:"fixed backdrop-blur-[2px] left-0 right-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,r.jsx)(x.A,{})}),(0,r.jsx)("div",{className:"hidden md:block",children:t?(0,r.jsx)(B,{totalOfBackAndDebt:M,ref:z,returned:m,selled:o,selledDiscounts:p,returnedDiscounts:b,selledPayments:N,returnedPayments:S,product:l,userInfo:D}):(0,r.jsx)(q,{totalOfBackAndDebt:M,ref:z,returned:m,selled:o,selledDiscounts:p,returnedDiscounts:b,selledPayments:N,returnedPayments:S,product:l,userInfo:D})}),(0,r.jsxs)("div",{className:"hidden",children:[(0,r.jsx)(U.E,{totalOfBackAndDebt:M,ref:C,returned:m,selled:o,selledDiscounts:p,returnedDiscounts:b,selledPayments:N,returnedPayments:S,product:l,userInfo:D}),(0,r.jsx)(A,{totalOfBackAndDebt:M,ref:L,returned:m,selled:o,selledDiscounts:p,returnedDiscounts:b,selledPayments:N,returnedPayments:S,product:l,userInfo:D})]}),(0,r.jsxs)("div",{className:"flex justify-center md:justify-between items-center mt-6 ",children:[(0,r.jsx)("div",{className:"hidden md:inline",children:(0,r.jsxs)("button",{className:"group print-btn-style ml-auto min-w-max ".concat(c?"pointer-events-none":"pointer-events-auto"),onClick:J,disabled:c,children:[(0,r.jsx)("span",{className:"print-text-style",children:"Xprinter"}),(0,r.jsx)("span",{className:"print-icon-style",children:(0,r.jsx)(n.wv0,{size:"1.125rem",className:"text-primary-800 text-lg transition-all ease-in-out duration-200 group-hover:text-primary-900"})})]})}),(0,r.jsx)("div",{children:(0,r.jsx)(g.A,{onClick:s?W:O,isDisabled:c})})]})]})};var I=t(71605);const E=e=>{let{steps:l,currentStep:t,bgActive:s}=e;const a=(0,h.map)(l,((e,a)=>(0,r.jsxs)("div",{className:a!==l.length-1?"w-full flex items-center":"flex items-center",children:[(0,r.jsx)("div",{className:"flex flex-col items-center relative text-white-900 text-[0.75rem]",children:(0,r.jsx)("div",{className:"rounded-full transition duration-500 ease-in-out  flex justify-center items-center h-[1.875rem] w-[1.875rem] ".concat(e.stepIndex!==t&&s?"bg-[#12B76A]":e.stepIndex===t?" bg-blue-600":" bg-black-200"),children:e.stepIndex!==t&&s?(0,r.jsx)(I.P.span,{className:"text-white-900",animate:{rotate:360},transition:{duration:.25},children:(0,r.jsx)(n.KDk,{size:"1rem"})}):(0,r.jsx)("span",{className:"text-white-900",children:a+1})})}),(0,r.jsx)("div",{className:"border-t-2 flex-auto transition duration-500 ease-in-out  ".concat(e.stepIndex!==t&&s?"border-success-400":"border-black-100")})]},(0,h.uniqueId)("stepper"))));return(0,r.jsxs)("section",{className:"w-[18.75rem] mx-auto mb-[3.75rem]",children:[(0,r.jsx)("div",{className:"px-[2rem] py-[0.625rem]",children:(0,r.jsx)("div",{className:"flex justify-between items-center",children:a})}),(0,r.jsx)("div",{className:"flex justify-between",children:(0,h.map)(l,(e=>(0,r.jsx)("div",{className:"font-[25rem] text-[0.875rem] ".concat(e.stepIndex!==t&&s?"text-[#039855]":e.stepIndex===t?" text-primary-900":" text-[#111] opacity-50"),children:e.title},(0,h.uniqueId)("stepper-2"))))})]})};var F=t(47630),O=t(84012),W=t(30200),J=t(73734);const Q=function(e){let{handleClickFinish:l,director:t}=e;const[s,a]=(0,i.useState)(""),[n,c]=(0,i.useState)(""),[d,o]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[x,h]=(0,i.useState)(""),[v,p]=(0,i.useState)(""),[j,b]=(0,i.useState)("");return(0,i.useEffect)((()=>{t&&(a(t.firstname?null===t||void 0===t?void 0:t.firstname:""),c(t.lastname?null===t||void 0===t?void 0:t.lastname:""),o(t.fathername?null===t||void 0===t?void 0:t.fathername:""),m(t.phone?null===t||void 0===t?void 0:t.phone:""))}),[t]),(0,r.jsxs)(I.P.form,{transition:{duration:.5},initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[(0,r.jsxs)("div",{className:"flex gap-[2.5rem] mb-[2.5rem]",children:[(0,r.jsx)(F.A,{label:"Ismi",maxWidth:"grow",placeholder:"Jasubrek",type:"text",value:s,onChange:e=>a(e.target.value),star:!0}),(0,r.jsx)(F.A,{label:"Familiyasi",maxWidth:"grow",placeholder:"Toshev",type:"text",value:n,star:!0,onChange:e=>c(e.target.value)}),(0,r.jsx)(F.A,{label:"Otasining ismi",maxWidth:"grow",placeholder:"Normurod",type:"text",value:d,onChange:e=>o(e.target.value)}),(0,r.jsx)(F.A,{label:"Telefon raqami",maxWidth:"grow",placeholder:"99 123 45 67",type:"text",value:u,star:!0,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-[2.5rem]",children:[(0,r.jsx)(F.A,{label:"Login",maxWidth:"grow",placeholder:"admin5",type:"text",value:x,star:!0,onChange:e=>h(e.target.value)}),(0,r.jsx)(F.A,{label:"Parol",maxWidth:"grow",placeholder:"Jas12345",type:"password",value:v,star:!0,onChange:e=>p(e.target.value),autoComplete:"new-password"}),(0,r.jsx)(F.A,{label:"Parol takroriy",maxWidth:"grow",placeholder:"Jas12345",type:"password",value:j,star:!0,onChange:e=>b(e.target.value),autoComplete:"new-password"})]}),(0,r.jsx)("div",{className:"flex justify-center mt-[2.5rem]",children:(0,r.jsx)("div",{children:(0,r.jsx)(O.A,{text:"Yakunlash",add:!0,edit:!0,onClick:e=>{e.preventDefault();const{failed:t,message:a}=(0,W.py)([{value:s,message:"Direktor ismi"},{value:n,message:"Direktor familiyasi"},{value:u,message:"Telefon raqami"},{value:x,message:"Login"},{value:v,message:"Parol"},{value:j,message:"Tasdiqlash paroli"}]);if(t)(0,J.EB)(a);else if(v!==j)(0,J.tt)();else{l({login:x,firstname:s,lastname:n,fathername:d,phone:u,password:v})}}})})})]})},Z=e=>{let{onClick:l,text:t,type:s}=e;const a={cash:(0,r.jsx)(n.iS_,{className:"paymentsstyle",size:"0.625rem"}),shop:(0,r.jsx)(n.Lqc,{className:"paymentsstyle ml-[0.25rem]",size:"0.625rem"}),transfer:(0,r.jsx)(n.whc,{className:"paymentsstyle",size:"0.625rem"})};return(0,r.jsxs)("button",{onClick:l,className:"bg-[#0090A3] rounded-lg p-[0.625rem] text-white-900 text-[0.825rem] pr-[0.4375rem] leading-[1.125rem] font-medium w-full shadow-[0_15px_6px_rgba(0,0,0,0.01),0_9px_5px_rgba(0,0,0,0.03),0_4px_4px_rgba(0,0,0,0.04),0_1px_2px_rgba(0,0,0,0.05),0_0_0_rgba(0,0,0,0.05)] active:shadow-none",children:[t,a[s]]})};const K=function(e){let{handleClickNext:l,editedMarket:t}=e;const[s,a]=(0,i.useState)(""),[n,c]=(0,i.useState)(""),[d,o]=(0,i.useState)(""),[u,m]=(0,i.useState)(""),[x,h]=(0,i.useState)(""),[p,j]=(0,i.useState)(""),[b,f]=(0,i.useState)(""),[N,g]=(0,i.useState)(""),[k,y]=(0,i.useState)(""),[S,w]=(0,i.useState)("");return(0,i.useEffect)((()=>{t&&(a(null!==t&&void 0!==t&&t.name?null===t||void 0===t?void 0:t.name:""),c(null!==t&&void 0!==t&&t.organitionName?null===t||void 0===t?void 0:t.organitionName:""),o(null!==t&&void 0!==t&&t.address?null===t||void 0===t?void 0:t.address:""),m(null!==t&&void 0!==t&&t.orientation?null===t||void 0===t?void 0:t.orientation:""),h(null!==t&&void 0!==t&&t.bank?null===t||void 0===t?void 0:t.bank:""),j(null!==t&&void 0!==t&&t.inn?null===t||void 0===t?void 0:t.inn:""),f(null!==t&&void 0!==t&&t.bankNumber?null===t||void 0===t?void 0:t.bankNumber:""),g(null!==t&&void 0!==t&&t.phone1?null===t||void 0===t?void 0:t.phone1:""),y(null!==t&&void 0!==t&&t.phone2?null===t||void 0===t?void 0:t.phone2:""),w(null!==t&&void 0!==t&&t.phone3?null===t||void 0===t?void 0:t.phone3:""))}),[t]),(0,r.jsxs)(I.P.section,{transition:{duration:.5},initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[(0,r.jsxs)("div",{className:"flex gap-[2.5rem] mb-[2.5rem]",children:[(0,r.jsx)(F.A,{label:"".concat((0,v.t)("Do'kon nomi...")),maxWidth:"grow",placeholder:"misol : \u041c\u043e\u0439 \u041f\u0440\u0430\u0439\u0441",type:"text",value:s,star:!0,onChange:e=>a(e.target.value)}),(0,r.jsx)(F.A,{label:"Tashkilot nomi",maxWidth:"grow",placeholder:"misol : \u041c\u043e\u0439 \u041f\u0440\u0430\u0439\u0441",type:"text",value:n,onChange:e=>c(e.target.value)}),(0,r.jsx)(F.A,{label:"Manzil",maxWidth:"grow",placeholder:"misol: Navoiy viloyati",type:"text",value:d,onChange:e=>o(e.target.value)}),(0,r.jsx)(F.A,{label:"Mo'ljal",maxWidth:"grow",placeholder:"misol: Guliston paliklinika yonida",type:"text",value:u,onChange:e=>m(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-[2.5rem] mb-[2.5rem]",children:[(0,r.jsx)(F.A,{label:"Bank nomi",maxWidth:"grow",placeholder:"misol: \u041c\u043e\u0439 \u041f\u0440\u0430\u0439\u0441",type:"text",value:x,onChange:e=>h(e.target.value)}),(0,r.jsx)(F.A,{label:"INN",maxWidth:"grow",placeholder:"misol: 123456789",type:"number",value:p,onChange:e=>j(e.target.value)}),(0,r.jsx)(F.A,{label:"Hisob raqam",maxWidth:"grow",placeholder:"misol: 1234567890",type:"number",value:b,onChange:e=>f(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-[2.5rem]",children:[(0,r.jsx)(F.A,{label:"Telefon raqam 1",maxWidth:"grow",placeholder:"misol : 99 123 45 67",type:"text",value:N,star:!0,onChange:e=>g(e.target.value)}),(0,r.jsx)(F.A,{label:"Telefon raqam 2",maxWidth:"grow",placeholder:"misol : 99 123 45 67",type:"text",value:k,onChange:e=>y(e.target.value)}),(0,r.jsx)(F.A,{label:"Telefon raqam 3",maxWidth:"grow",placeholder:"misol : 99 123 45 67",type:"text",value:S,onChange:e=>w(e.target.value)})]}),(0,r.jsx)("div",{className:"flex justify-center mt-[2.5rem]",children:(0,r.jsx)("div",{children:(0,r.jsx)(Z,{text:"Keyingi qadam",type:"shop",onClick:()=>{const{failed:e,message:t}=(0,W.py)([{value:s,message:"Do`kon nomi"},{value:N,message:"Telefon raqam 1"},{value:n,message:"Tashkilot nomi"}]);if(e)(0,J.EB)(t);else{const e={name:s,organitionName:n,phone1:N,phone2:k,phone3:S,bank:x,bankNumber:b,inn:Number(p),address:d,orientation:u};l(e)}}})})})]})};var G=t(94526),Y=t(3900);const X=function(e){let{addMarket:l}=e;const{currentStep:t,bgActive:s,handleNext:a,handleFinish:n,image:c,setImage:d,editedMarket:o}=l,u=(0,m.wA)(),[x,h]=(0,i.useState)(!1),v=e=>{const l={...e,image:c};a(l)};return(0,r.jsxs)("div",{className:"mainPadding w-full overflow-hidden",children:[(0,r.jsx)(E,{steps:[{title:"Do'kon yaratish",stepIndex:1},{title:"Direktor yaratish",stepIndex:2}],currentStep:t,bgActive:s}),(0,r.jsx)(G.A,{modalIsOpen:x,setIsOpen:h,approve:e=>{const l=new FormData;l.append("file",e),u((0,Y.$q)(l)).then((e=>{let{error:l,payload:t}=e;l||(d(t),h(!1),(0,J.E_)())}))},output:c}),(e=>{switch(e){case 1:return(0,r.jsx)(K,{editedMarket:o,handleClickNext:v});case 2:return(0,r.jsx)(Q,{director:null===o||void 0===o?void 0:o.director,handleClickFinish:n})}})(t)]})};var V=t(37424),H=t(51688),$=t(78054),ee=t(54964);const le=e=>{let{text:l,onchange:t,market:s,value:a}=e;return(0,r.jsxs)("div",{className:"checkbox-card",children:[(0,r.jsx)("div",{className:"checkbox-card-paragraf",children:(0,r.jsxs)("p",{children:[l," :"]})}),(0,r.jsx)("input",{type:"checkbox",checked:a,onChange:e=>t(s,"Aloqa"===l?1:2,e.target.checked)})]})},te=e=>{var l;let{market:t,onchange:s,isBranch:a,isConnected:i}=e;return(0,r.jsxs)("div",{className:"admin-card flex-[0_0_31.55555555%]",children:[(0,r.jsxs)("div",{className:"admin-card-header",children:[(0,r.jsx)("div",{className:"w-[2.5rem] h-[2.5rem] mb-[0.625rem] bg-white-900 rounded-full border-[2px] border-blue-600 flex items-center justify-center p-[2px] shadow-[0_10px_10px_rgba(0,0,0,0.05)]",children:null!==t&&void 0!==t&&t.image?(0,r.jsx)("img",{src:null===t||void 0===t?void 0:t.image,alt:null===t||void 0===t?void 0:t.name,className:"rounded-full"}):null===t||void 0===t?void 0:t.name[0].toUpperCase()}),(0,r.jsx)("div",{className:"admin-header-paragraf",children:(0,r.jsx)("p",{children:null===t||void 0===t?void 0:t.name})})]}),(0,r.jsxs)("div",{className:"admin-users",children:[(0,r.jsxs)("div",{className:"admin-users-data",children:[(0,r.jsx)("p",{children:(0,r.jsx)(n.uSr,{size:"24px",color:"rgba(255, 255, 255, 0.7"})}),(0,r.jsx)("div",{className:"admin-users-name",children:(0,r.jsx)("p",{children:null===t||void 0===t||null===(l=t.director)||void 0===l?void 0:l.firstname})})]}),(0,r.jsxs)("div",{className:"admin-users-data",children:[(0,r.jsx)("p",{children:(0,r.jsx)(n.Su1,{size:"24px",color:"rgba(255, 255, 255, 0.7"})}),(0,r.jsx)("div",{className:"admin-users-name",children:(0,r.jsx)("p",{children:null===t||void 0===t?void 0:t.phone1})})]})]}),(0,r.jsxs)("div",{className:"admin-users-checkbox",children:[(0,r.jsx)(le,{text:"Aloqa",market:t,onchange:s,value:i}),(0,r.jsx)(le,{text:"Filial",market:t,onchange:s,value:a})]})]})};const se=function(e){let{product:l,approveFunction:t}=e;const s=(0,m.wA)(),{branches:a,totalBranches:n,searchedBranches:c,totalSearchedBranches:d,loadingGetBranches:o}=(0,m.d4)((e=>e.adminmarkets)),[u,v]=(0,i.useState)(""),[p,j]=(0,i.useState)([]),[b,f]=(0,i.useState)(""),[N,g]=(0,i.useState)("10"),[k,y]=(0,i.useState)(0),[S,w]=(0,i.useState)(c),[D,R]=(0,i.useState)(n),[z,L]=(0,i.useState)({filials:[],connections:[]}),U=e=>{if("Enter"===e.key){y(0);const e={currentPage:0,countPage:N,marketId:null===l||void 0===l?void 0:l._id,search:{name:u.replace(/\s+/g," ").trim(),director:b.replace(/\s+/g," ").trim()}};s((0,H.wj)(e))}},C=(e,t,a)=>{if(1===t)return!1;if(a){const t=[...z.filials,e._id],a={currentPage:k,countPage:N,market:{...l,filials:t},search:{name:e.name,director:""},filial:{...e,mainmarket:l._id}};s((0,H.zP)(a)).then((e=>{let{error:l}=e;l||L({...z,filials:t})}))}else{const t=(0,h.filter)(z.filials,(l=>l!==e._id));let a={...e};delete a.mainmarket;const i={currentPage:k,countPage:N,market:{...l,filials:[...t]},search:{name:e.name,director:""},filial:{...a}};s((0,H.zP)(i)).then((e=>{let{error:l}=e;l||L({...z,filials:t})}))}};return(0,i.useEffect)((()=>{j(a)}),[a]),(0,i.useEffect)((()=>{R(n)}),[n]),(0,i.useEffect)((()=>{w(c)}),[c]),(0,i.useEffect)((()=>{const e={currentPage:k,countPage:N,marketId:null===l||void 0===l?void 0:l._id,search:{name:u.replace(/\s+/g," ").trim(),director:b.replace(/\s+/g," ").trim()}};s((0,H.p9)(e)),L({filials:l.filials,connections:l.connections})}),[s,N,l,k]),(0,r.jsxs)("section",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mainPadding",children:[(0,r.jsx)("h3",{className:"text-blue-900 text-[xl] leading-[1.875rem]",children:"Filiallar"}),(0!==D||0!==d)&&(0,r.jsx)(ee.A,{countPage:Number(N),totalDatas:d||D,currentPage:k,setCurrentPage:y})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(V.A,{filterBy:["total","marketName","directorName"],filterByMarketName:e=>{let l=e.target.value,t=l.toLowerCase().replace(/\s+/g," ").trim();if(v(l),(S.length>0||d>0)&&s((0,H.Lg)()),""===t)j(a),R(n);else{const e=(0,h.filter)(a,(e=>e.name.toLowerCase().includes(t)));j(e),R(e.length)}},filterByDirectorName:e=>{let l=e.target.value,t=l.toLowerCase().replace(/\s+/g," ").trim();if(f(l),(S.length>0||d>0)&&s((0,H.Lg)()),""===t)j(a),R(n);else{const e=(0,h.filter)(a,(e=>e.director.firstname.toLowerCase().includes(t)||e.director.lastname.toLowerCase().includes(t)));j(e),R(e.length)}},searchByDirectorName:b,searchByMarketName:u,filterByDirectorNameWhenPressEnter:U,filterByMarketNameWhenPressEnter:U,filterByTotal:e=>{let{value:l}=e;g(l),y(0)}}),(0,r.jsx)("div",{className:"min-w-[18rem]",children:(0,r.jsx)(O.A,{text:"Saqlash",edit:!0,onClick:t})})]}),o?(0,r.jsx)(x.A,{}):0===p.length&&0===S.length?(0,r.jsx)($.A,{text:"Do'konlar mavjud emas"}):(0,r.jsx)("div",{className:"flex flex-wrap gap-[2rem] pl-[2.5rem] py-[1.25rem]",children:S.length>0?(0,h.map)(S,(e=>(0,r.jsx)(te,{market:e,isBranch:(0,h.filter)(z.filials,(l=>l===e._id)).length>0,isConnected:(0,h.filter)(z.connections,(l=>l===e._id)).length>0,onchange:C},e._id))):(0,h.map)(p,(e=>(0,r.jsx)(te,{market:e,isBranch:(0,h.filter)(z.filials,(l=>l===e._id)).length>0,isConnected:(0,h.filter)(z.connections,(l=>l===e._id)).length>0,onchange:C},e._id)))})]})};var ae=t(85369);const ie=(0,i.forwardRef)(((e,l)=>{var t,s,a,n;const{product:c}=e,[d,o]=(0,i.useState)(window.innerWidth<=768),u=()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.cloneNode(!0)},{user:x,market:p}=(0,m.d4)((e=>e.login)),{currencyType:j}=(0,m.d4)((e=>e.currency)),[b,f]=(0,i.useState)(!1),N=(0,i.useRef)(null),k=(0,i.useRef)(null),S=i.useCallback((()=>(f(!0),new Promise((e=>{k.current=e,setTimeout((()=>{f(!1),e()}),2e3)})))),[f]),w=(0,y.useReactToPrint)({content:u,documentTitle:"All Checks",onBeforeGetContent:S,removeAfterPrint:!0}),D=(0,y.useReactToPrint)({content:()=>u(),documentTitle:"All Checks",onBeforeGetContent:S,removeAfterPrint:!1,pageStyle:"@page { size: A4; margin: 0mm; }",print:async e=>{f(!0);try{const l=e.contentDocument.body,t=await T()(l,{useCORS:!0,allowTaint:!0,scrollX:0,scrollY:0,onclone:e=>{const l=e.body;l.style.overflow="hidden",l.style.width="21cm",l.style.height="29.7cm",l.style.padding="0",l.style.margin="0",l.style.border="none"}}),s=t.toDataURL("image/png"),a=new _.Ay({orientation:"portrait",format:"a4"}),i=a.internal.pageSize.getWidth(),n=a.internal.pageSize.getHeight();a.addImage(s,"JPEG",0,0,i,n),await a.save("\u0421\u0430\u043a\u043b\u0430\u043d\u0433\u0430\u043d\u043b\u0430\u0440-".concat((new Date).toISOString(),".pdf"),{returnPromise:!0})}catch(l){console.log(l)}finally{f(!1)}}});return(0,i.useEffect)((()=>{b&&"function"===typeof k.current&&k.current()}),[k.current,b]),(0,i.useEffect)((()=>{const e=()=>{o(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsxs)("div",{ref:N,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:p.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===p||void 0===p?void 0:p.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[new Date(null===c||void 0===c?void 0:c.createdAt).toLocaleDateString()," ",(0,r.jsx)("span",{className:"ml-3",children:new Date(null===c||void 0===c?void 0:c.createdAt).toLocaleTimeString()})]})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Mijoz"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span",children:(null===c||void 0===c||null===(t=c.client)||void 0===t?void 0:t.name)||(null===c||void 0===c||null===(s=c.packman)||void 0===s?void 0:s.name)||""})]})]}),p.image&&(0,r.jsx)("div",{className:"w-[100px]",children:(0,r.jsx)("img",{src:"".concat(null===p||void 0===p?void 0:p.image),alt:"logo"})}),(0,r.jsxs)("div",{className:"check-ul-li flex-col items-end",children:[(0,r.jsx)("div",{className:"grow text-center",children:(0,r.jsxs)("span",{className:"check-ul-li-span flex flex-col\titems-start",children:[p.phone1&&(0,r.jsxs)("span",{className:"flex items-center gap-[5px]",children:[(0,r.jsx)(ae.zyo,{style:{fontSize:"12px"}})," ",p.phone1]}),p.phone2&&(0,r.jsxs)("span",{className:"flex items-center gap-[5px]",children:[(0,r.jsx)(ae.dRU,{style:{fontSize:"12px"}})," ",p.phone2]}),p.phone3&&(0,r.jsxs)("span",{className:"flex items-center gap-[5px]",children:[(0,r.jsx)(ae.dRU,{style:{fontSize:"12px"}})," ",null===p||void 0===p?void 0:p.phone3]})]})}),(0,r.jsx)("div",{className:"check-ul-li justify-end",children:(0,r.jsxs)("p",{children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[null===c||void 0===c||null===(a=c.user)||void 0===a?void 0:a.firstname," ",null===c||void 0===c||null===(n=c.user)||void 0===n?void 0:n.lastname]})]})})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi")," (",(0,v.t)("dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)([...c.products].sort(((e,l)=>{var t,s;return(null===e||void 0===e?void 0:e.categorycode.localeCompare(l.categorycode))||(null===(t=e.product)||void 0===t?void 0:t.code)-(null===(s=l.product)||void 0===s?void 0:s.code)})),((e,l)=>{var t,s;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:(null===e||void 0===e?void 0:e.categorycode)+(null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.code)}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name}),(0,r.jsx)("td",{className:"check-table-body",children:null===e||void 0===e?void 0:e.pieces}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===j?null===e||void 0===e?void 0:e.unitprice:null===e||void 0===e?void 0:e.unitpriceuzs," ",j]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===j?null===e||void 0===e?void 0:e.totalprice:null===e||void 0===e?void 0:e.totalpriceuzs," ",j]})]},(0,h.uniqueId)("saved-table-row"))}))})]})}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1rem]",children:(0,r.jsxs)("h3",{className:"text-[1.1rem] text-right text-black-700 font-bold pt-4",children:[(0,v.t)("Saqlanganlar jami")," :"," ",(0,r.jsxs)("span",{children:["USD"===j?null===c||void 0===c?void 0:c.products.reduce(((e,l)=>{let{totalprice:t}=l;return e+t}),0):null===c||void 0===c?void 0:c.products.reduce(((e,l)=>{let{totalpriceuzs:t}=l;return e+t}),0)," ",j]})]})})]})}),(0,r.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,r.jsx)("div",{children:(0,r.jsx)(g.A,{onClick:d?D:w,isDisabled:b})})})]})}));const ne=function(e){let{label:l,type:t,onChange:s,value:a,placeholder:i}=e;return(0,r.jsxs)("div",{className:"flex justify-between gap-[0.9375rem]",children:[(0,r.jsxs)("label",{className:"text-[1rem] text-black-700 font-[300] flex items-center",children:[l," ",(0,r.jsx)("span",{className:"pl-[0.25rem]",children:":"})," "]}),(0,r.jsx)("input",{type:"".concat(t||"text"),className:"w-full px-[0.675rem] py-[0.5rem] bg-white-900 border border-[#A9C0EF] rounded-[0.25rem] outline-0 shadow-[0px_10px_10px_rgba(0,0,0,0.05)] text-[0.875rem] text-end",value:a,placeholder:i,onChange:s})]})};const re=function(e){let{approveFunction:l,toggleModal:t,dataObject:s}=e;const{currencyType:a}=(0,m.d4)((e=>e.currency)),[n,c]=(0,i.useState)(1),[d,o]=(0,i.useState)(null===s||void 0===s?void 0:s.get),[u,x]=(0,i.useState)(null===s||void 0===s?void 0:s.sell),[h,p]=(0,i.useState)(!0),[j,b]=(0,i.useState)(null===s||void 0===s?void 0:s.getUSD),[f,N]=(0,i.useState)(null===s||void 0===s?void 0:s.sellUSD),g={id:null===s||void 0===s?void 0:s.id,categoryId:null===s||void 0===s?void 0:s.categoryId,categoryCode:null===s||void 0===s?void 0:s.categoryCode,get:d||(null===s||void 0===s?void 0:s.get),getUSD:j||(null===s||void 0===s?void 0:s.getUSD),sell:u||(null===s||void 0===s?void 0:s.sell),sellUSD:f||(null===s||void 0===s?void 0:s.sellUSD),unidId:null===s||void 0===s?void 0:s.unidId,unitName:null===s||void 0===s?void 0:s.unitName,code:null===s||void 0===s?void 0:s.code,number:n?Number(n):"",name:null===s||void 0===s?void 0:s.name,productDataId:null===s||void 0===s?void 0:s.productDataId,barcode:s.barcode,tradeprice:s.tradeprice,tradepriceuzs:s.tradepriceuzs,minimumcount:s.minimumcount};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-[2.5rem] text-[1.25rem] text-black-700 leading-[1.5rem] text-center mt-[1.25rem]",children:null===s||void 0===s?void 0:s.name}),(0,r.jsxs)("div",{className:"flex items-center gap-[2.5rem] justify-evenly mb-[2.5rem]",children:[(0,r.jsxs)("div",{className:"product-exchange-modal-text",children:[(0,v.t)("Kodi")," :",(0,r.jsx)("span",{className:"product-exchange-modal-span bg-[#F79009]",children:s?null===s||void 0===s?void 0:s.code:"0"})]}),(0,r.jsxs)("div",{className:"product-exchange-modal-text",children:[(0,v.t)("Soni")," :",(0,r.jsx)("span",{className:"product-exchange-modal-span bg-[#00B4CC]",children:s?((null===s||void 0===s?void 0:s.number)-Math.abs(n)).toLocaleString("ru-Ru"):"0"})]})]}),(0,r.jsx)("div",{className:"flex justify-center gap-[1.25rem] mb-[3.75rem]",children:(0,r.jsx)("div",{children:(0,r.jsx)(ne,{label:"Soni",type:"number",value:n||"",onChange:e=>{return l=e.target.value,Number(l)>s.number||Number(l)<0?p(!1):p(!0),void c(l);var l}})})}),(0,r.jsxs)("div",{className:"flex mt-7 items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:t,children:(0,v.t)("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-success-500 hover:bg-blue-600",onClick:()=>l(g,h),children:(0,v.t)("Tasdiqlash")})]})]})};var ce=t(11108),de=t(97160);const oe=e=>{let{approveFunction:l,toggleModal:t}=e;const{t:s}=(0,d.B)(["common"]),a=(0,m.wA)(),[n,c]=(0,i.useState)(""),[o,u]=(0,i.useState)(""),[x,v]=(0,i.useState)(""),[p,j]=(0,i.useState)([]),{packmans:b}=(0,m.d4)((e=>e.clients)),{clients:f}=(0,m.d4)((e=>e.registerSelling)),[N,g]=(0,i.useState)([]);(0,i.useEffect)((()=>{j([{label:s("Tanlang"),value:""},...b.map((e=>({value:e._id,label:e.name})))])}),[b,s]),(0,i.useEffect)((()=>{g([{label:s("Barchasi"),value:""},...f.map((e=>({value:e._id,label:e.name})))])}),[f,s]);return(0,i.useEffect)((()=>{a((0,ce.YU)()),a((0,de.Lf)())}),[a]),(0,r.jsxs)("div",{children:[(0,r.jsx)("form",{children:(0,r.jsxs)("div",{className:"flex gap-[1.25rem] mt-[1rem]",children:[(0,r.jsx)(F.A,{placeholder:s("Santexniklar"),maxWidth:"w-[14.676875rem]",border:!0,select:!0,value:o,options:p,onChange:e=>{u(e);const l=(0,h.filter)(b,(l=>l._id===e.value))[0];l&&l.hasOwnProperty("clients")?g((0,h.map)(l.clients,(e=>({label:e.name,value:e._id,packman:l})))):g([{label:s("Tanlang"),value:""},...f.map((e=>({label:e.name,value:e._id,packman:null===e||void 0===e?void 0:e.packman})))]),v(""),c("")}}),(0,r.jsx)(F.A,{placeholder:s("Xaridor"),maxWidth:"w-[14.676875rem]",border:!0,select:!0,value:x,options:N,onChange:e=>{v(e);const l=(0,h.filter)(f,(l=>l._id===e.value))[0];l&&l.hasOwnProperty("packman")&&u({label:l.packman.name,value:l.packman._id}),e.value?c(e.label):c("")}}),(0,r.jsx)(F.A,{placeholder:s("Xaridor yaratish"),value:n,onChange:e=>{c(e.target.value),e.target.value!==x&&g([{label:s("Tanlang"),value:""},...f.map((e=>({label:e.name,value:e._id,packman:null===e||void 0===e?void 0:e.packman})))])}})]})}),(0,r.jsxs)("div",{className:"flex mt-12 items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:t,children:s("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-success-500 hover:bg-blue-600",onClick:()=>{let e={client:{name:n}};o.value?e.packmanid=o.value:e.client.name=n,x.value?e.client._id=x.value:e.client.name=n,l(e)},children:s("Tasdiqlash")})]})]})},ue=()=>{const{market:e}=(0,m.d4)((e=>e.login));return(0,r.jsxs)("div",{className:"flex justify-between items-center mainPadding",children:[(0,r.jsx)("p",{className:"text-2xl font-bold",children:(0,v.t)("Moliyaviy hisobot")}),(0,r.jsx)("div",{className:"max-w-[100px] max-h-[100px]",children:e.image&&(0,r.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:"logo"})}),(0,r.jsxs)("div",{className:"flex flex-col text-center leading-[2rem] text-[#00B4CC] font-bold",children:[(0,r.jsx)("p",{className:"text-4xl ",children:(0,v.t)("Hisobot")}),(0,r.jsxs)("div",{className:"text-2xl",children:[new Date((new Date).setMonth((new Date).getMonth()-3)).toLocaleDateString()," ","- ",(new Date).toLocaleDateString()]})]})]})},me=e=>{let{number:l,currency:t,cost:s,plastic:a,transfer:i}=e;return(0,r.jsx)("table",{className:"w-full",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{className:"tr-div",children:[(0,r.jsx)("td",{className:"td-page",children:(0,v.t)("Sotish soni")}),(0,r.jsx)("td",{className:"td-page-two font-bold",children:l})]}),(0,r.jsxs)("tr",{className:"tr-div",children:[(0,r.jsx)("td",{className:"td-page",children:(0,v.t)("Naqd")}),(0,r.jsxs)("td",{className:"td-page-two font-bold",children:[s," ",t]})]}),(0,r.jsxs)("tr",{className:"tr-div",children:[(0,r.jsx)("td",{className:"td-page",children:(0,v.t)("Plastik")}),(0,r.jsxs)("td",{className:"td-page-two font-bold",children:[a," ",t]})]}),(0,r.jsxs)("tr",{className:"tr-div",children:[(0,r.jsx)("td",{className:"td-page",children:(0,v.t)("O`tkazma")}),(0,r.jsxs)("td",{className:"td-page-two font-bold",children:[i," ",t]})]})]})})},xe=e=>{let{label1:l,label2:t,text1:s,text2:a,text3:i,currencycost:n,number1:c,currency:d,number2:o,number3:u,redText:m,head:x,all:h,end:v}=e;return(0,r.jsxs)("div",{className:"mainPadding",children:[(0,r.jsxs)("div",{className:"admin-report-label",children:[(0,r.jsx)("p",{className:"number-paragraf",children:l}),(0,r.jsxs)("p",{className:"text-xl",children:[t," ",(0,r.jsx)("span",{className:"font-bold",children:n})]})]}),(0,r.jsxs)("div",{className:"report-card ".concat(m?"text-xl":"text-lg"),children:[(0,r.jsxs)("div",{className:"cards-number",children:[(0,r.jsxs)("p",{className:"number-paragraf",children:[c," ",h?d:""]}),(0,r.jsx)("p",{className:"text",children:s})]}),(0,r.jsxs)("div",{className:"cards-number",children:[(0,r.jsxs)("p",{className:"number-paragraf",children:[o," ",x?d:""]}),(0,r.jsx)("p",{children:a})]}),(0,r.jsxs)("div",{className:"cards-number",children:[(0,r.jsxs)("p",{className:"number-paragraf ".concat(m?"text-[red]":""),children:[u," ",v?d:""]}),(0,r.jsx)("p",{children:i})]})]})]})},he=e=>{var l,t,s,a,n,c,d,o;let{totalreports:u,productreport:m,incomingreport:x,saleproductsreport:h,currencyType:v}=e;const[p,j]=(0,i.useState)(!1),b=(0,i.useRef)(null),f=(0,i.useRef)(null),N=i.useCallback((()=>(j(!0),new Promise((e=>{f.current=e,setTimeout((()=>{j(!1),e()}),2e3)})))),[j]),k=i.useCallback((()=>b.current),[b.current]),S=(0,y.useReactToPrint)({content:k,documentTitle:"Total",onBeforeGetContent:N,removeAfterPrint:!0});return(0,i.useEffect)((()=>{p&&"function"===typeof f.current&&f.current()}),[f.current,p]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex justify-center items-center mb-6",children:(0,r.jsx)(g.A,{onClick:S,isDisabled:p})}),(0,r.jsx)("div",{className:"lg:w-[100%] w-[90vw] ",children:(0,r.jsxs)("section",{className:"a4 w-[27cm] bg-[white]",ref:b,children:[(0,r.jsx)(ue,{date1:"13.09.22",date2:"13.10.22"}),(0,r.jsx)("div",{className:"mt-[-3rem]",children:(0,r.jsx)(xe,{text1:"Sotilganlar soni",text2:"Umumiy savdo",text3:"Umumiy xarajatlar",redText:!0,number1:null===h||void 0===h?void 0:h.totalpieces,number2:"USD"===v?(1e3*u.sale.sale/1e3).toLocaleString("ru-RU"):(1*u.sale.saleuzs/1).toLocaleString("ru-RU"),number3:"USD"===v?(1e3*u.expenses.expenses/1e3).toLocaleString("ru-RU"):(1*u.expenses.expensesuzs/1).toLocaleString("ru-RU"),currency:v,head:!0,end:!0})}),(0,r.jsxs)("div",{className:"flex mainPadding",children:[(0,r.jsx)("div",{className:"flex-[0_0_60%]",children:(0,r.jsx)(me,{number:null===u||void 0===u||null===(l=u.sale)||void 0===l?void 0:l.salecount,cost:"USD"===v?(Math.round(1e3*(null===u||void 0===u||null===(t=u.cash)||void 0===t?void 0:t.cash))/1e3).toLocaleString("ru-RU"):(Math.round(1*(null===u||void 0===u||null===(s=u.cash)||void 0===s?void 0:s.cashuzs))/1).toLocaleString("ru-RU"),plastic:"USD"===v?(Math.round(1e3*(null===u||void 0===u||null===(a=u.card)||void 0===a?void 0:a.card))/1e3).toLocaleString("ru-RU"):(Math.round(1*(null===u||void 0===u||null===(n=u.card)||void 0===n?void 0:n.carduzs))/1).toLocaleString("ru-RU"),transfer:"USD"===v?(Math.round(1e3*(null===u||void 0===u||null===(c=u.transfer)||void 0===c?void 0:c.transfer))/1e3).toLocaleString("ru-RU"):(Math.round(1*(null===u||void 0===u||null===(d=u.transfer)||void 0===d?void 0:d.transferuzs))/1).toLocaleString("ru-RU"),currency:v})}),(0,r.jsxs)("div",{className:"flex flex-[0_0_40%] flex-col justify-center items-center leading-[2.1rem]",children:[(0,r.jsxs)("p",{className:"text-[36px] text-[#61BD7B] font-bold",children:["USD"===v?(Math.round(1e3*u.income.income)/1e3).toLocaleString("ru-RU"):(Math.round(1*u.income.incomeuzs)/1).toLocaleString("ru-RU")," ",v]}),(0,r.jsx)("p",{className:"text-2xl font-medium text-[#00B4CC]",children:"Sof foyda"})]})]}),(0,r.jsx)(xe,{label1:"Sotilgan maxsulotlar hisoboti",number1:null===u||void 0===u||null===(o=u.sale)||void 0===o?void 0:o.salecount,number2:h.producttypes,number3:h.totalpieces,text1:"Sotish soni",text2:"Tovar turlarining umumiy soni",text3:"Tovarlarning umumiy soni"}),(0,r.jsx)(xe,{label1:"Keltirilgan maxsulotlar hisoboti",label2:"Tushumlar miqdori",currencycost:null===x||void 0===x?void 0:x.totalincomings,number1:"USD"===v?(Math.round(1e3*(null===x||void 0===x?void 0:x.totalprice))/1e3).toLocaleString("ru-RU"):(Math.round(1*(null===x||void 0===x?void 0:x.totalpriceuzs))/1).toLocaleString("ru-RU"),number2:null===x||void 0===x?void 0:x.producttypes,number3:null===x||void 0===x?void 0:x.totalpieces,text1:"Jami tushumlar",text2:"Tovar turlarining umumiy soni",text3:"Tovarlarning umumiy soni",currency:v,all:!0}),(0,r.jsx)(xe,{label1:"Omborxona hisoboti",number1:null===m||void 0===m?void 0:m.producttypes,number2:Math.round(null===m||void 0===m?void 0:m.totalpieces),number3:"USD"===v?(0,W.tE)(null===m||void 0===m?void 0:m.totalprice).toLocaleString("ru-RU"):(0,W.Df)(null===m||void 0===m?void 0:m.totalpriceuzs).toLocaleString("ru-RU"),text1:"Tovar turlarining umumiy soni",text2:"Tovarlarning umumiy soni",text3:"Ombordagi tovarlarning umumiy miqdori",currency:v,end:!0})]})})]})},ve=(0,i.forwardRef)(((e,l)=>{var t;const[s,a]=(0,i.useState)(window.innerWidth<=768),{incomings:n}=e,{user:c,market:d}=(0,m.d4)((e=>e.login)),{currencyType:o}=(0,m.d4)((e=>e.currency)),[u,x]=(0,i.useState)(!1),p=(0,i.useRef)(null),j=(0,i.useRef)(null),b=i.useCallback((()=>(x(!0),new Promise((e=>{j.current=e,setTimeout((()=>{x(!1),e()}),2e3)})))),[x]),f=()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.cloneNode(!0)},N=(0,y.useReactToPrint)({content:f,documentTitle:"All Checks",onBeforeGetContent:b,removeAfterPrint:!0}),k=(0,y.useReactToPrint)({content:()=>f(),documentTitle:"All Checks",onBeforeGetContent:b,removeAfterPrint:!1,pageStyle:"@page { size: A4; margin: 0mm; }",print:async e=>{x(!0);try{const l=e.contentDocument.body,t=await T()(l,{useCORS:!0,allowTaint:!0,scrollX:0,scrollY:0,onclone:e=>{const l=e.body;l.style.overflow="hidden",l.style.width="21cm",l.style.height="29.7cm",l.style.padding="0",l.style.margin="0",l.style.border="none"}}),s=t.toDataURL("image/png"),a=new _.Ay({orientation:"portrait",format:"a4"}),i=a.internal.pageSize.getWidth(),r=a.internal.pageSize.getHeight();a.addImage(s,"JPEG",0,0,i,r),await a.save(null!==n&&void 0!==n&&n.client?"".concat(n.client.name,".pdf"):null!==n&&void 0!==n&&n.saleconnector?"".concat(n.saleconnector.id,".pdf"):null!==n&&void 0!==n&&n.id?"".concat(n.id,".pdf"):"".concat((new Date).toISOString(),".pdf"),{returnPromise:!0})}catch(l){console.log(l)}finally{x(!1)}}});return(0,i.useEffect)((()=>{u&&"function"===typeof j.current&&j.current()}),[j.current,u]),(0,i.useEffect)((()=>{const e=()=>{a(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:p,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsxs)("ul",{className:"w-[35%]",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:d.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:d.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Manzil"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===d||void 0===d?void 0:d.address})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:new Date(null===n||void 0===n?void 0:n.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Yetkazib beruvchi"),":"," ",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===n||void 0===n||null===(t=n.supplier)||void 0===t?void 0:t.name})]})]}),(0,r.jsx)("div",{className:"check-ul-li flex-col",children:(0,r.jsx)("div",{className:"check-ul-li justify-end",children:(0,r.jsxs)("p",{children:[(0,v.t)("Sotuvchi"),":"," ",(0,r.jsxs)("span",{className:"check-ul-li-span",children:[c.firstname," ",c.lastname]})]})})})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsxs)("td",{className:"check-table-rtr",children:[(0,v.t)("Narxi")," (",(0,v.t)("dona"),")"]}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)(null===n||void 0===n?void 0:n.temporaries,((e,l)=>{var t,s,a;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.code}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name}),(0,r.jsxs)("td",{className:"check-table-body",children:[null===e||void 0===e?void 0:e.pieces," ",null===e||void 0===e||null===(a=e.unit)||void 0===a?void 0:a.name]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===o?null===e||void 0===e?void 0:e.unitprice:null===e||void 0===e?void 0:e.unitpriceuzs," ",o]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===o?null===e||void 0===e?void 0:e.totalprice:null===e||void 0===e?void 0:e.totalpriceuzs," ",o]})]},(0,h.uniqueId)("saved-table-row"))}))})]})}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1rem]",children:(0,r.jsxs)("h3",{className:"text-[1.1rem] text-right text-black-700 font-bold pt-4",children:[(0,v.t)("Saqlanganlar jami")," :"," ",(0,r.jsxs)("span",{children:["USD"===o?null===n||void 0===n?void 0:n.temporaries.reduce(((e,l)=>{let{totalprice:t}=l;return e+t}),0):null===n||void 0===n?void 0:n.temporaries.reduce(((e,l)=>{let{totalpriceuzs:t}=l;return e+t}),0)," ",o]})]})})]}),(0,r.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,r.jsx)(g.A,{onClick:s?k:N,isDisabled:u})})]})})),pe=e=>{var l,t,s;let{market:a,toggleModal:i,approveFunction:n}=e;const{t:c}=(0,d.B)(["common"]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("span",{className:"font-bold",children:[c("Do'kon nomi"),": "]}),(0,r.jsx)("span",{children:null===a||void 0===a?void 0:a.name})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsx)("span",{className:"font-bold",children:"INN : "}),(0,r.jsx)("span",{children:null===a||void 0===a?void 0:a.inn})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("span",{className:"font-bold",children:[c("Telefon raqami"),": "]}),(0,r.jsx)("span",{children:null===a||void 0===a?void 0:a.phone1})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("span",{className:"font-bold",children:[c("Direktor"),": "]}),(0,r.jsxs)("span",{children:[null===a||void 0===a||null===(l=a.director)||void 0===l?void 0:l.firstname," ",null===a||void 0===a||null===(t=a.director)||void 0===t?void 0:t.lastname]})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)("span",{className:"font-bold",children:[c("Direktor telefon raqami"),": "]}),(0,r.jsx)("span",{children:null===a||void 0===a||null===(s=a.director)||void 0===s?void 0:s.phone})]}),(0,r.jsxs)("div",{className:"flex mt-7 items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:i,children:c("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-success-600 hover:bg-blue-600",onClick:n,children:c("So'rov jo'natish")})]})]})};const je=function(e){let{incomingRequests:l,handleAcceptRequest:t,handleRejectRequest:s,handleDeleteRequest:a}=e;return(0,r.jsx)("div",{className:"pt-[2rem]",children:l.length>0?(0,h.map)(l,((e,l)=>{var i,c,d,o,u,m,x,v;return(0,r.jsxs)("ul",{className:"request-application-ul",children:[(0,r.jsxs)("li",{className:"font-bold text-lg",children:[l+1,"."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"Shop Name"}),(0,r.jsx)("p",{className:"text-[1rem] text-black-900",children:null===e||void 0===e||null===(i=e.first)||void 0===i?void 0:i.name})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"INN"}),(0,r.jsx)("p",{className:"text-[1rem] text-black-900",children:null===e||void 0===e||null===(c=e.first)||void 0===c?void 0:c.inn})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"Director Name"}),(0,r.jsxs)("p",{className:"request-application-li-p",children:[(0,r.jsx)("span",{children:null===e||void 0===e||null===(d=e.first)||void 0===d||null===(o=d.director)||void 0===o?void 0:o.firstname}),(0,r.jsx)("span",{children:null===e||void 0===e||null===(u=e.first)||void 0===u||null===(m=u.director)||void 0===m?void 0:m.lastName})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"Director Phone"}),(0,r.jsx)("p",{className:"text-[1rem] text-black-900",children:null===e||void 0===e||null===(x=e.first)||void 0===x||null===(v=x.director)||void 0===v?void 0:v.phone})]}),(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"mr-[10px] flex gap-[8px]",children:[(null===e||void 0===e?void 0:e.request)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>t(e),children:(0,r.jsx)(n.enS,{size:"1.5rem",className:"text-success-600"})}),(0,r.jsx)("button",{onClick:()=>s(e),children:(0,r.jsx)(n.Xr4,{size:"1.5rem",className:"text-error-600"})})]}),(null===e||void 0===e?void 0:e.accept)&&(0,r.jsx)(n.VqV,{size:"1.5rem",className:"text-success-700"}),(null===e||void 0===e?void 0:e.rejected)&&(0,r.jsx)(n.sMY,{size:"1.5rem",className:"text-warning-700"}),(0,r.jsx)("button",{className:"request-application-delete-icon",onClick:()=>a(null===e||void 0===e?void 0:e._id),children:(0,r.jsx)(n.dW_,{size:"1rem"})})]})})]},(0,h.uniqueId)("incomingRequest"))})):(0,r.jsx)($.A,{text:"So'rovlar majud emas"})})};const be=function(e){let{sendingRequests:l,handleDeleteRequest:t}=e;return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"pt-[2rem]",children:l.length>0?(0,h.map)(l,((e,l)=>{var s,a,i,c,d,o,u,m;return(0,r.jsxs)("ul",{className:"request-application-ul",children:[(0,r.jsxs)("li",{className:"font-bold text-lg",children:[l+1,"."]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"Shop Name"}),(0,r.jsx)("p",{className:"text-[1rem] text-black-900",children:null===e||void 0===e||null===(s=e.second)||void 0===s?void 0:s.name})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"INN"}),(0,r.jsx)("p",{className:"text-[1rem] text-black-900",children:null===e||void 0===e||null===(a=e.second)||void 0===a?void 0:a.inn})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"Director Name"}),(0,r.jsxs)("p",{className:"request-application-li-p",children:[(0,r.jsx)("span",{children:null===e||void 0===e||null===(i=e.second)||void 0===i||null===(c=i.director)||void 0===c?void 0:c.firstname}),(0,r.jsx)("span",{children:null===e||void 0===e||null===(d=e.second)||void 0===d||null===(o=d.director)||void 0===o?void 0:o.lastName})]})]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("span",{className:"request-application-ul-li",children:"Director Phone"}),(0,r.jsx)("p",{className:"text-[1rem] text-black-900",children:null===e||void 0===e||null===(u=e.second)||void 0===u||null===(m=u.director)||void 0===m?void 0:m.phone})]}),(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"mr-[10px] flex gap-[8px]",children:[(null===e||void 0===e?void 0:e.request)&&(0,r.jsx)(n.$fs,{size:"1.5rem",className:"text-warning-500"}),(null===e||void 0===e?void 0:e.accept)&&(0,r.jsx)(n.VqV,{size:"1.5rem",className:"text-success-700"}),(null===e||void 0===e?void 0:e.rejected)&&(0,r.jsx)(n.sMY,{size:"1.5rem",className:"text-warning-700"}),(0,r.jsx)("button",{className:"request-application-delete-icon",onClick:()=>t(null===e||void 0===e?void 0:e._id),children:(0,r.jsx)(n.dW_,{size:"1rem"})})]})})]},(0,h.uniqueId)("sendingRquest"))})):(0,r.jsx)($.A,{text:"So'rovlar majud emas"})})})},fe=(0,i.forwardRef)(((e,l)=>{var t;const{order:s}=e,{currencyType:a}=(0,m.d4)((e=>e.currency)),[n,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),o=(0,i.useRef)(null),u=i.useCallback((()=>(c(!0),new Promise((e=>{o.current=e,setTimeout((()=>{c(!1),e()}),2e3)})))),[c]),x=i.useCallback((()=>d.current),[d.current]),p=(0,y.useReactToPrint)({content:x,documentTitle:"All Checks",onBeforeGetContent:u,removeAfterPrint:!0});return(0,i.useEffect)((()=>{n&&"function"===typeof o.current&&o.current()}),[o.current,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:d,className:"bg-white-900 p-4 rounded-md",children:[(0,r.jsxs)("div",{className:"flex pb-2 justify-between border-b-[0.8px] border-black-700",children:[(0,r.jsx)("ul",{className:"w-[35%]",children:(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:null===s||void 0===s||null===(t=s.sender)||void 0===t?void 0:t.name})]})}),(0,r.jsx)("div",{className:"check-ul-li flex-col"})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)("table",{className:"border-collapse border border-slate-400 w-full break-inside-auto",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"break-inside-avoid break-after-auto",children:[(0,r.jsx)("td",{className:"check-table-rtr",children:"\u2116"}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Kodi")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Maxsulot")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Soni")}),(0,r.jsx)("td",{className:"check-table-rtr",children:(0,v.t)("Jami")})]})}),(0,r.jsx)("tbody",{children:(0,h.map)(null===s||void 0===s?void 0:s.tableProducts,((e,l)=>{var t,s,i,n;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"p-1 border text-center text-[0.875rem] font-bold",children:l+1}),(0,r.jsx)("td",{className:"check-table-body text-center",children:null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t.code}),(0,r.jsx)("td",{className:"check-table-body text-start",children:null===e||void 0===e||null===(s=e.product)||void 0===s?void 0:s.name}),(0,r.jsxs)("td",{className:"check-table-body",children:[null===e||void 0===e||null===(i=e.pieces)||void 0===i?void 0:i.toLocaleString("ru-RU")," ",null===e||void 0===e||null===(n=e.unit)||void 0===n?void 0:n.name]}),(0,r.jsxs)("td",{className:"check-table-body",children:["USD"===a?null===e||void 0===e?void 0:e.totalprice:null===e||void 0===e?void 0:e.totalpriceuzs," ",a]})]},(0,h.uniqueId)("saleCheck"))}))})]})}),(0,r.jsx)("div",{className:"border-t-[0.8px] border-black-700 w-full my-[1rem]"}),(0,r.jsx)("ul",{children:(0,r.jsxs)("li",{className:"check-ul-li-foot border-t-0",children:[(0,v.t)("Jami"),":"," ",(0,r.jsxs)("span",{children:["USD"===a?null===s||void 0===s?void 0:s.totalPrice:null===s||void 0===s?void 0:s.totalPriceUzs," ",a]})]})})]}),(0,r.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,r.jsx)(g.A,{onClick:p,isDisabled:n})})]})}));var Ne=t(66752);const ge=e=>{let{toggleModal:l}=e;const t=(0,m.wA)(),{debtid:s,debtcomment:a}=(0,m.d4)((e=>e.reports)),[n,c]=(0,i.useState)(""),d=()=>{t((0,Ne.lu)({comment:n,debtid:s})).then((e=>{let{error:t}=e;t||(c(""),l(),(0,J.lY)("Izoh uzgarildi","success"))}))};return(0,i.useEffect)((()=>{a&&c(a)}),[a]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("div",{className:"flex gap-[1.25rem] mx-auto mt-[1rem] max-w-[500px]",children:(0,r.jsx)(F.A,{placeholder:(0,v.t)("Izoh"),label:(0,v.t)("Qarz izohi"),value:n,onChange:e=>c(e.target.value),onKeyUp:e=>{e.preventDefault(),"Enter"===e.key&&d()}})})}),(0,r.jsxs)("div",{className:"flex mt-12 items-center justify-center gap-[1.5rem]",children:[(0,r.jsx)("button",{className:"approveBtn bg-black-500 hover:bg-black-700",onClick:l,children:(0,v.t)("Bekor qilish")}),(0,r.jsx)("button",{className:"approveBtn bg-success-500 hover:bg-blue-600",onClick:d,children:(0,v.t)("Tasdiqlash")})]})]})};var ke=t(46243);const ye=e=>{let{commentText:l,dailyid:t,toggleModal:s}=e;const[a,n]=(0,i.useState)(l);return(0,r.jsxs)("div",{children:[(0,r.jsx)("form",{children:(0,r.jsx)("div",{className:"flex gap-[1.25rem] mt-[1rem]",children:(0,r.jsx)(F.A,{placeholder:"Izoh",value:a,onChange:e=>n(e.target.value)})})}),(0,r.jsx)("div",{className:"flex mt-12 items-center justify-center gap-[1.5rem]",children:(0,r.jsx)("button",{className:"approveBtn bg-success-500 hover:bg-blue-600",onClick:()=>{(async()=>{const{data:e}=await ke.A.post("/sales/comment/update",{comment:a,dailyid:t});return e})().then((e=>{(0,J.lY)(e.message,"success"),s()})).catch((e=>(0,J.lY)(e.message,"error")))},children:"Tasdiqlash"})})]})},Se=(0,i.forwardRef)(((e,l)=>{const{data:t,isSalesList:s}=e,{market:a}=(0,m.d4)((e=>e.login)),{currencyType:c}=(0,m.d4)((e=>e.currency)),[d,o]=(0,i.useState)(!1),u=(0,i.useRef)(null),x=(0,i.useRef)(null),h=i.useCallback((()=>(o(!0),new Promise((e=>{x.current=e,setTimeout((()=>{o(!1),e()}),2e3)})))),[o]),p=i.useCallback((()=>{var e;let l=null===(e=u.current)||void 0===e?void 0:e.cloneNode(!0);return null===l||void 0===l||l.classList.remove("mx-auto"),l}),[u.current]),j=(0,y.useReactToPrint)({content:p,documentTitle:"Daily Sale Check",onBeforeGetContent:h,removeAfterPrint:!0});return(0,i.useEffect)((()=>{d&&"function"===typeof x.current&&x.current()}),[x.current,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{ref:u,className:"bg-white-900 p-4 rounded-md w-[7.5cm] mx-auto",children:[(0,r.jsxs)("div",{className:"flex pb-2 flex-col text-center justify-center",children:[(null===a||void 0===a?void 0:a.image)&&(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("img",{src:null===a||void 0===a?void 0:a.image,alt:"logo",className:"block mx-auto"})}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:["Telefon:",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:a.phone1})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:["Manzil:",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:null===a||void 0===a?void 0:a.address})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-1 text-[12px] font-bold",children:["Sana:",(0,r.jsx)("span",{className:"text-[12px] text-black-900 font-bold",children:null!==t&&void 0!==t&&t.boshsana?"".concat(new Date(t.boshsana).toLocaleDateString("ru-RU")," - ").concat(new Date(t.tugashsana).toLocaleDateString("ru-RU")):(new Date).toLocaleDateString("ru-RU")})]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-wrap",children:["Sotuvlar soni :"," ",(0,r.jsx)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:null===t||void 0===t?void 0:t.sotuvlarsoni})]}),!s&&(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-col items-center gap-2",children:[(0,r.jsx)("p",{children:"Maxsulotlar"}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Sotilgan :"}),(0,r.jsx)("p",{className:"text-[12px]",children:null===t||void 0===t?void 0:t.sotilganmaxsulotlarsoni})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Qolgan (turi):"}),(0,r.jsx)("p",{className:"text-[12px]",children:(0,r.jsx)("p",{className:"text-[12px]",children:null===t||void 0===t?void 0:t.qolganmaxsulotlarsoni})})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Qolgan (umumiy):"}),(0,r.jsx)("p",{className:"text-[12px]",children:(0,r.jsx)("p",{className:"text-[12px]",children:null===t||void 0===t?void 0:t.qolganmaxsulotlarumumiysoni})})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Qolgan (qiymati) :"}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.qolganmaxsulotlarqiymati.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.qolganmaxsulotlarqiymati.dollar).toLocaleString("ru-RU")," ",c]})]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-col items-center gap-2",children:[(0,r.jsx)("p",{children:"Tushumlar"}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Naqd :"}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.tushumlar.naqt.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.tushumlar.naqt.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("Plastik"),":"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.tushumlar.plastik.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.tushumlar.plastik.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("O'tkazma")," :"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.tushumlar.utkazma.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.tushumlar.utkazma.dollar).toLocaleString("ru-RU")," ",c]})]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-col items-center gap-2",children:[(0,r.jsx)("p",{children:"Qaytarilganlar"}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Naqd :"}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.qaytarilganlar.naqt.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.qaytarilganlar.naqt.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("Plastik"),":"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.qaytarilganlar.plastik.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.qaytarilganlar.plastik.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("O'tkazma")," :"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.qaytarilganlar.utkazma.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.qaytarilganlar.utkazma.dollar).toLocaleString("ru-RU")," ",c]})]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-col items-center gap-2",children:[(0,r.jsx)("p",{children:"Xarajatlar"}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Naqd :"}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.xarajatlar.naqt.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.xarajatlar.naqt.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("Plastik")," :"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.xarajatlar.plastik.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.xarajatlar.plastik.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("O'tkazma")," :"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.xarajatlar.utkazma.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.xarajatlar.utkazma.dollar).toLocaleString("ru-RU")," ",c]})]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-col items-center gap-2",children:[(0,r.jsx)("p",{children:(0,v.t)("Kassadagi qoldiq")}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Naqd :"}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.kassaqoldiq.naqt.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.kassaqoldiq.naqt.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("Plastik")," :"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.kassaqoldiq.plastik.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.kassaqoldiq.plastik.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"w-full flex justify-between items-center flex-wrap",children:[(0,r.jsxs)("p",{className:"text-[12px]",children:[(0,v.t)("O'tkazma")," :"]}),(0,r.jsxs)("p",{className:"text-[12px]",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.kassaqoldiq.utkazma.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.kassaqoldiq.utkazma.dollar).toLocaleString("ru-RU")," ",c]})]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-wrap",children:["Chegirmalar :"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.chegirmalar.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.chegirmalar.dollar).toLocaleString("ru-RU")," ",c]})]}),(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-wrap",children:["Qarzlar :"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.qarzlar.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.qarzlar.dollar).toLocaleString("ru-RU")," ",c]})]}),!s&&(0,r.jsxs)("div",{className:"text-black-900 check-ul-li-foot flex-wrap",children:["Sof foyda :"," ",(0,r.jsxs)("span",{style:{fontWeight:"bolder"},className:"text-black-900 text-[12px] font-bold",children:["UZS"===c?(0,W.Df)(null===t||void 0===t?void 0:t.foyda.sum).toLocaleString("ru-RU"):(0,W.tE)(null===t||void 0===t?void 0:t.foyda.dollar).toLocaleString("ru-RU")," ",c]})]})]}),(0,r.jsx)("div",{className:"flex justify-center items-center mt-6",children:(0,r.jsxs)("button",{className:"group print-btn-style ml-auto min-w-max ".concat(d?"pointer-events-none":"pointer-events-auto"),onClick:j,disabled:d,children:[(0,r.jsx)("span",{className:"print-text-style",children:"Xprinter"}),(0,r.jsx)("span",{className:"print-icon-style",children:(0,r.jsx)(n.wv0,{size:"1.125rem",className:"text-primary-800 text-lg transition-all ease-in-out duration-200 group-hover:text-primary-900"})})]})})]})}));t(59491);const we=e=>{var l,t,s,a;let{data:n,type:c}=e;const[d,o]=(0,i.useState)(0),[u,p]=(0,i.useState)(0),[j,b]=(0,i.useState)(0),{user:f,market:N}=(0,m.d4)((e=>e.login)),{currencyType:k}=(0,m.d4)((e=>e.currency)),S=(0,i.useRef)(),[w,D]=(0,i.useState)(!1),R=(0,i.useRef)(null);(0,i.useEffect)((()=>{C()}),[n,c,k]);const z=(0,i.useCallback)((()=>(D(!0),new Promise((e=>{R.current=e,setTimeout((()=>{D(!1),e()}),2e3)})))),[]),L=(0,i.useCallback)((()=>S.current),[S]),U=(0,y.useReactToPrint)({content:L,documentTitle:"All Checks",onBeforeGetContent:z,removeAfterPrint:!1,pageStyle:"@page { size: A4; margin: 0mm; }"});(0,i.useEffect)((()=>{w&&"function"===typeof R.current&&R.current()}),[w]);const C=(0,i.useCallback)((()=>{const e=e=>{var l,t,s,a;return"all"===c?null===(l=(null===n||void 0===n?void 0:n.saleconnector)||n)||void 0===l||null===(t=l.payments)||void 0===t?void 0:t.reduce(((l,t)=>l+t["USD"===k?e:"".concat(e,"uzs")]),0):"debtPayed"===c?n["USD"===k?e:"".concat(e,"uzs")]:null===(s=(null===n||void 0===n?void 0:n.saleconnector)||n)||void 0===s||null===(a=s.payments)||void 0===a?void 0:a.filter((e=>void 0===e.totalpriceuzs)).reduce(((l,t)=>l+t["USD"===k?e:"".concat(e,"uzs")]),0)};o(e("card")),p(e("cash")),b(e("transfer"))}),[n,c,k]),q=(0,i.useCallback)(((e,l)=>e.find((e=>e._id===l))),[]),A=(0,i.useCallback)((e=>{var l;return(0,r.jsx)("li",{className:"border-b mt-3",children:(0,r.jsxs)("span",{className:"check-ul-li",children:[(0,r.jsx)("span",{children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()}),(0,r.jsxs)("span",{children:[null===(l=e.paymentuzs)||void 0===l?void 0:l.toLocaleString("ru-RU")," ",k]})]})},"".concat(e._id))}),[n.products,q]),P=(0,i.useMemo)((()=>{var e,l,t;return null===n||void 0===n||null===(e=n.saleconnector)||void 0===e||null===(l=e.payments)||void 0===l||null===(t=l.filter((e=>void 0===e.totalpriceuzs)))||void 0===t?void 0:t.flatMap((e=>A(e)))}),[n,k,A]),T=e=>e&&0!==e?e%1===0?parseInt(e):Number(parseFloat(e).toFixed(2)):0;return(0,r.jsxs)("div",{children:[w&&(0,r.jsx)("div",{className:"fixed backdrop-blur-[2px] left-0 top-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,r.jsx)(x.A,{})}),(0,r.jsx)("div",{className:"w-full grid",children:(0,r.jsxs)("div",{className:"w-[10.4cm] py-10 rounded-md bg-white-900 h-full mx-auto print:ml-0",ref:S,children:[(0,r.jsx)("div",{className:"w-36 border rounded-full h-36 mx-auto",children:(0,r.jsx)("img",{src:null===N||void 0===N?void 0:N.image,className:"w-full h-full rounded-full object-cover",alt:"logo"})}),(0,r.jsxs)("div",{className:"mx-auto px-3",children:[(0,r.jsxs)("ul",{className:"w-full ",children:[(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Do'kon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:N.name})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Telefon"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:N.phone1})]}),(0,r.jsxs)("li",{className:"check-ul-li",children:[(0,v.t)("Sana"),":",(0,r.jsx)("span",{className:"check-ul-li-span",children:new Date(Array.isArray(n)?null===(l=n[n.length-1])||void 0===l?void 0:l.createdAt:null===n||void 0===n?void 0:n.createdAt).toLocaleDateString()})]})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("h2",{className:"text-center text-lg mt-2 font-medium",children:(0,v.t)("Qarzdan to'lov")}),(0,r.jsx)("ul",{className:"my-4",children:"all"===c?(0,h.map)(null===n||void 0===n?void 0:n.payments,((e,l)=>(0,r.jsx)("li",{className:"border-b mt-3",children:(0,r.jsxs)("span",{className:"check-ul-li",children:[(0,r.jsx)("span",{children:new Date(null===e||void 0===e?void 0:e.createdAt).toLocaleDateString()}),(0,r.jsxs)("span",{children:[T(e["USD"===k?"payment":"paymentuzs"])," ",k]})]})},l))):"debtPayed"===c?(0,r.jsxs)("li",{className:"check-ul-li text-lg",children:[(0,r.jsxs)("span",{className:"font-semibold",children:[(0,v.t)("Umumiy"),":"]}),(0,r.jsxs)("span",{children:[" ",T(n["USD"===k?"payment":"paymentuzs"])," ",k]})]}):P}),(0,r.jsxs)("div",{className:"debtPayed"===c?"border-t space-y-1 mt-1 pt-4":"space-y-1 mt-1",children:[(0,r.jsxs)("div",{className:"font-semibold flex justify-between items-center",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Naqt"),":"]}),(0,r.jsxs)("span",{children:[null===(t=T(u))||void 0===t?void 0:t.toLocaleString("ru-Ru")," ",k]})]}),(0,r.jsxs)("div",{className:"font-semibold flex justify-between items-center",children:[(0,r.jsxs)("span",{children:[(0,v.t)("Plastik"),":"]}),(0,r.jsxs)("span",{children:[null===(s=T(d))||void 0===s?void 0:s.toLocaleString("ru-Ru")," ",k]})]}),(0,r.jsxs)("div",{className:"font-semibold flex justify-between items-center pb-4",children:[(0,r.jsxs)("span",{children:[(0,v.t)("O'tkazma"),":"]}),(0,r.jsxs)("span",{children:[null===(a=T(j))||void 0===a?void 0:a.toLocaleString("ru-Ru")," ",k]})]})]})]}),(0,r.jsx)("hr",{className:"w-full h-[5px] print:h-[10px] mt-[5cm] bg-[#000]"})]})}),(0,r.jsx)("div",{className:"w-full flex justify-end",children:(0,r.jsx)(g.A,{onClick:U})})]})};t(18446);var De=t(26441);const Re=function(e){let{isOpen:l,toggleModal:t,body:s,approveFunction:i,closeModal:n,excelData:u,headers:m,setCreatedData:x,disablePayButton:h,createdData:v,headerText:j,title:g,product:k,changeProduct:y,currency:S,printedSelling:w,printedIncomings:D,printedInventories:R,payment:z,addMarket:L,incomingreport:U,productreport:q,saleproductsreport:A,totalreports:P,dataObject:T,marketByInn:_,sendingRequests:B,handleDeleteRequest:I,incomingRequests:E,handleAcceptRequest:F,handleRejectRequest:O,order:W,commentText:J,dailyid:Q,isSalesList:Z,children:K,payDebt:G=()=>{}}=e;const{t:Y}=(0,d.B)(["common"]);return(0,r.jsxs)(a(),{isOpen:l,style:"checkSell"===s||"allChecks"===s||"addMarket"===s||"filterBranch"===s?{content:{width:"100%",height:"100%",padding:"1rem",transform:"auto"}}:"exchanges"===s?{content:{width:"70%"}}:"approve"===s||"complete"===s||"requestconnection"===s?{}:{content:{width:"90%",height:"85%",padding:"1.25rem",transform:"auto"}},onRequestClose:n||t,closeTimeoutMS:100,contentLabel:"Example Modal",appElement:document.getElementById("root")||void 0,children:[(0,r.jsx)(c,{toggleModal:n||t}),(()=>{switch(s){case"debtsList":case"packmanProfitClients":return K;case"approve":return(0,r.jsx)(o,{headerText:j,title:g,approveFunction:i,toggleModal:t});case"complete":return(0,r.jsx)(f,{headerText:j,title:g,approveFunction:i,toggleModal:t});case"import":return(0,r.jsx)(p,{excelData:u,headers:m,createdData:v,setCreatedData:x,approveFunction:i,toggleModal:t});case"addPlus":return(0,r.jsx)(oe,{headers:m,approveFunction:i,toggleModal:t});case"registerincomingbody":return(0,r.jsx)(N,{product:k,changeProduct:y,approveFunction:i,currency:S});case"sell":return(0,r.jsx)(b,{toggleModal:t,product:k,approveFunction:i,changeProduct:y});case"changeComment":return(0,r.jsx)(ye,{commentText:J,dailyid:Q,toggleModal:t});case"checkSell":return(0,r.jsx)(C,{returned:!1,product:k});case"checkSellReturn":return(0,r.jsx)(C,{returned:!0,product:k});case"checkOrder":return(0,r.jsx)(C,{isOrder:!0,order:W});case"checkPayment":return(0,r.jsx)(C,{payment:z,noXPrint:!0,isPayment:!0});case"allChecks":return(0,r.jsx)(M,{product:w});case"allChecksWithDetails":return(0,r.jsx)(M,{allDetails:!0,product:w});case"addMarket":return(0,r.jsx)(X,{addMarket:L});case"filterBranch":return(0,r.jsx)(se,{product:k,approveFunction:i,toggleModal:t});case"savedsalescheck":return(0,r.jsx)(ie,{product:w});case"savedorderscheck":return(0,r.jsx)(fe,{order:W});case"savedincomingscheck":return(0,r.jsx)(ve,{incomings:D});case"totalReport":return(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(he,{currencyType:S,incomingreport:U,productreport:q,saleproductsreport:A,totalreports:P})});case"exchanges":return(0,r.jsx)(re,{approveFunction:i,toggleModal:t,dataObject:T});case"requestconnection":return(0,r.jsx)(pe,{approveFunction:i,toggleModal:n,market:_});case"sendingApplication":return(0,r.jsx)(be,{sendingRequests:B,handleDeleteRequest:I});case"requestApplication":return(0,r.jsx)(je,{incomingRequests:E,handleDeleteRequest:I,handleAcceptRequest:F,handleRejectRequest:O});case"debtcomment":return(0,r.jsx)(ge,{toggleModal:t});case"dailySaleCheck":return(0,r.jsx)(Se,{data:w,isSalesList:Z});case"oneSaleDebtPayments":return(0,r.jsx)(we,{data:z,type:"one"});case"allSaleDebtPayments":return(0,r.jsx)(we,{data:z,type:"all"});case"allDebtPayedCheck":return(0,r.jsx)(we,{data:z,type:"debtPayed"});default:return Y("Bunday jadval topilmadi")}})(),"debtsList"===s||"packmanProfitClients"===s?(0,r.jsx)("div",{className:"absolute bottom-5 right-5 ",children:(0,r.jsx)(De.p2,{text:Y("To'lovga o'tish"),disablePayButton:h,loading:!1,onClick:G})}):null]})}}}]);
//# sourceMappingURL=221.3f60450b.chunk.js.map