(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2821,502],{30200:(e,t,a)=>{"use strict";a.d(t,{Ch:()=>i,D$:()=>m,Df:()=>u,Hl:()=>p,IQ:()=>o,Yc:()=>n,m1:()=>d,py:()=>c,tE:()=>h});var s=a(76694),r=a(53536),l=a(11238);const n=(e,t,a,s,l)=>{const n=a.split(".");t(s?(0,r.orderBy)([...e],(e=>3===n.length?e[n[0]][n[1]][n[2]]:2===n.length?e[n[0]][n[1]]:e[a]),[-1===s?"desc":"asc"]):l)},o=(e,t)=>Math.round(e*t),i=(e,t)=>Math.round(e/t*1e3)/1e3,c=e=>{let t={failed:!1,message:""};for(let a=0;a<e.length;a++)if(s.T.test(e[a].value)){t={message:e[a].message,failed:!0};break}return t},d=(e,t,a)=>{const s=(r=e,Object.keys(r[0]).map(((e,t)=>{let s=Math.max(...r.map((t=>t[e].toString().length)));return{wch:a[t].length>s?a[t].length+1:s+4}})));var r;const n=l.Wp.book_new(),o=l.Wp.json_to_sheet([]);o["!cols"]=s,l.Wp.sheet_add_aoa(o,[a]),l.Wp.sheet_add_json(o,e,{origin:"A2",skipHeader:!0}),l.Wp.book_append_sheet(n,o,"Maxsulotlar"),l._h(n,"".concat(t,"-").concat((new Date).toLocaleDateString(),".xlsx"))},u=e=>Math.round(1*e)/1,h=e=>Math.round(1e3*e)/1e3,m=(e,t)=>(0,r.reduce)(e,((e,a)=>e+a[t]),0),p=(e,t)=>u(e/t)},47630:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(67623),r=a(80502),l=a(70579);const n=function(e){let{star:t,maxWidth:a,value:n,onChange:o,label:i,placeholder:c,type:d,select:u,disabled:h,options:m,border:p,onKeyUp:g,autoComplete:f,step:x}=e;return(0,l.jsx)("div",{className:a?"".concat(a,"   ").concat(""):"grow",children:u?(0,l.jsx)(r.A,{placeholder:c,onSelect:o,label:i,isDisabled:h,options:m,value:n}):(0,l.jsx)(s.A,{step:x,star:t,type:d||"text",value:n,onChange:o,label:i,placeholder:c,onKeyUp:g,disabled:h,autoComplete:f})})}},94526:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(65043),r=a(27706),l=a.n(r),n=(a(89576),a(90221)),o=a(22963),i=a.n(o),c=a(70579);const d=function(e){let{approve:t,output:a,modalIsOpen:r,setIsOpen:o}=e;const[d,u]=(0,s.useState)(null),[h,m]=(0,s.useState)({unit:"%",width:100,height:100,x:0,y:0,aspect:1}),[p,g]=(0,s.useState)(null);function f(){o(!1)}const x=(e,a)=>{let s=e.split(","),r=s[0].match(/:(.*?);/)[1],l=atob(s[1]),n=l.length,o=new Uint8Array(n);for(;n--;)o[n]=l.charCodeAt(n);let i=new File([o],a,{type:r});t(i)};return(0,c.jsxs)("div",{className:"w-full mb-[2.5rem]",children:[(0,c.jsxs)("center",{children:[(0,c.jsx)("label",{htmlFor:"fileId",className:"relative transition-all w-[6.25rem] h-[6.25rem] rounded-full flex justify-center items-center shadow-[0px_5px_5px_rgba(0,0,0,0.15)] bg-white-900 cursor-pointer hover:bg-white-700 duration-200",children:a?(0,c.jsx)("div",{className:"w-full h-full",children:(0,c.jsxs)("div",{className:"group w-full h-full rounded-full",children:[(0,c.jsx)("img",{src:a,alt:"user",className:"object-cover w-full h-full rounded-full"}),(0,c.jsx)("div",{className:"absolute duration-75 delay-[0] top-0 left-0 right-0 bottom-0 w-full h-full rounded-full hover:bg-black-500 duration-200 invisible group-hover:visible",children:(0,c.jsx)(n.gKJ,{size:"2.1875rem",className:"text-white-900 w-[2.1875rem] absolute top-1/3 right-1/3"})})]})}):(0,c.jsx)("div",{className:"absolute w-full h-full rounded-full hover:bg-black-500 duration-200",children:(0,c.jsx)(n.gKJ,{size:"2.1875rem",className:"text-black-200 w-[2.1875rem] absolute top-1/3 right-1/3"})})}),(0,c.jsx)("input",{onClick:e=>(e=>{e.target.value=null})(e),className:"hidden",type:"file",accept:"image/*",onChange:e=>(e=>{const t=new FileReader;t.onloadend=()=>{o(!0),u(t.result)},t.readAsDataURL(e.target.files[0])})(e),id:"fileId"})]}),d&&(0,c.jsx)(i(),{isOpen:r,onRequestClose:f,style:{content:{width:"90%",height:"85%",padding:"1.25rem",transform:"auto"}},appElement:document.getElementById("root")||void 0,children:(0,c.jsxs)("div",{className:"h-full",children:[(0,c.jsx)("div",{className:"flex items-center justify-end",children:(0,c.jsx)("button",{type:"button",className:"text-[1.8rem] text-black-500 transition-all ease-in duration-100 hover:text-error-500 active:scale-75",onClick:f,children:(0,c.jsx)(n.$8F,{size:"1.8rem",className:"pointer-events-none"})})}),(0,c.jsx)("div",{className:"mt-4 flex items-center justify-center",children:(0,c.jsx)(l(),{className:"object-cover",src:d,onImageLoaded:g,crop:h,keepSelection:!0,circularCrop:!0,onChange:m})}),(0,c.jsx)("div",{className:"flex mt-[2.5rem] items-center justify-center gap-[1.5rem]",children:(0,c.jsx)("button",{className:"approveBtn bg-blue-600 hover:bg-blue-700",onClick:()=>{const e=document.createElement("canvas"),t=p.naturalWidth/p.width,a=p.naturalHeight/p.height;e.width=h.width,e.height=h.height;e.getContext("2d").drawImage(p,h.x*t,h.y*a,h.width*t,h.height*a,0,0,h.width,h.height);const s=new FileReader;e.toBlob((e=>{s.readAsDataURL(e),s.onloadend=()=>{x(s.result,"cropped.jpg")}}))},children:"Yuklash"})})]})})]})}},76694:(e,t,a)=>{"use strict";a.d(t,{C:()=>s,T:()=>r});const s=/^\d*\.?\d*$/,r=/^\s*$/},71874:(e,t,a)=>{"use strict";a.d(t,{A:()=>o,F:()=>n});a(65043);var s=a(57290),r=a(90221),l=a(70579);const n=e=>(0,l.jsx)(s.c.DropdownIndicator,{...e,children:(0,l.jsx)(r.QDT,{size:"0.625rem",color:"#86A7E9"})}),o={container:e=>({...e,height:"100%"}),control:(e,t)=>{let{isDisabled:a}=t;return{...e,width:"100%",height:"100%",padding:".625rem .58rem",borderRadius:".25rem",fontSize:".875rem",fontWeight:"400",color:"#86A7E9",outline:"none",boxShadow:"0px 10px 10px rgba(0, 0, 0, 0.05)",cursor:"pointer","&:hover":{backgroundColor:"#EAEAEA"},"&:focus-within":{outline:"4px solid #A9C0EF",backgroundColor:"#ffffff"},backgroundColor:a?"rgba(28, 28, 28, 0.2)":"#fff",border:a?"none":"1px solid #86A7E9"}},option:(e,t)=>{let{isFocused:a,isSelected:s}=t;return{...e,fontSize:".875rem",fontWeight:"400",color:s||a?"#ffffff":"#071F45",backgroundColor:s?"#0090A3":a?"#00B4CC":"#ffffff",transition:"all 0.2s ease",overflow:"hidden",cursor:"pointer"}},menu:e=>({...e,zIndex:30}),singleValue:e=>({...e,color:"#1c1c1c",fontSize:".875rem",lineHeight:"1.25rem",fontWeight:"400",margin:0}),valueContainer:e=>({...e,padding:0}),dropdownIndicator:(e,t)=>{let{isFocused:a}=t;return{...e,padding:0,paddingRight:".625rem",color:a?"#193F8A":"#071F45"}},placeholder:(e,t)=>{let{isDisabled:a}=t;return{...e,margin:0,color:a?"rgba(28, 28, 28, 0.2)":"#86A7E9"}},input:e=>({...e,padding:0,display:"flex",lineHeight:"1.25rem",margin:0})}},80502:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});a(65043);var s=a(2364),r=a(71874),l=a(70579);const n=e=>{let{onSelect:t,options:a,isDisabled:n,label:o,placeholder:i,value:c}=e;return(0,l.jsxs)("div",{className:"grow ",children:[o&&(0,l.jsx)("label",{className:"w-[90%] text-blue-700 block leading-[1.125rem] mb-[.625rem]",children:o}),(0,l.jsx)(s.Ay,{onChange:t,styles:r.A,value:c,defaultValue:"",options:a,isDisabled:n,placeholder:i,components:{IndicatorSeparator:()=>null,DropdownIndicator:r.F}})]})}},4235:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(70579);const r=function(){return(0,s.jsx)("div",{className:"flex items-center justify-center mt-14",children:(0,s.jsx)("div",{className:"clock-loader"})})}},15692:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(65043),r=a(94526),l=a(79456),n=a(47630),o=a(84012),i=a(3900),c=a(73734),d=a(30200),u=a(4235),h=a(72096),m=a(70579);const p=function(){const e=(0,l.wA)(),{user:t,loading:a}=(0,l.d4)((e=>e.login)),[p,g]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[w,v]=(0,s.useState)({...t,newPassword:"",repeatPassword:"",newLogin:""}),[b,j]=(0,s.useState)(0);return(0,s.useEffect)((()=>{b||(v({...t,newPassword:"",repeatPassword:"",newLogin:""}),j(1))}),[t,b]),(0,m.jsxs)("section",{className:"mainPadding h-full overflow-y-auto",children:[a&&(0,m.jsx)("div",{className:"fixed backdrop-blur-[2px] left-0 right-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,m.jsx)(u.A,{})}),(0,m.jsx)("div",{className:"flex justify-around items-center gap-6",children:(0,m.jsxs)("div",{children:[(0,m.jsx)(r.A,{output:w.image,modalIsOpen:p,setIsOpen:g,approve:t=>{const a=new FormData;a.append("file",t),e((0,i.$q)(a)).then((e=>{let{error:t,payload:a}=e;t||((0,c.E_)(),v({...w,image:a}),g(!1))}))}}),(0,m.jsx)("h1",{className:"text-center",children:"Logo"})]})}),(0,m.jsxs)("div",{className:"flex flex-col md:flex-row gap-[2.5rem] mb-[2.5rem] w-full",children:[(0,m.jsx)(n.A,{label:(0,h.t)("Ismi"),maxWidth:"grow",placeholder:(0,h.t)("Ismi"),type:"text",value:w.firstname,star:!0,onChange:e=>{v({...w,firstname:e.target.value})}}),(0,m.jsx)(n.A,{label:(0,h.t)("Familiyasi"),maxWidth:"grow",placeholder:(0,h.t)("Familiyasi"),type:"text",value:w.lastname,star:!0,onChange:e=>{v({...w,lastname:e.target.value})}})]}),(0,m.jsxs)("div",{className:"flex flex-col md:flex-row gap-[2.5rem] mb-[2.5rem] w-full",children:[(0,m.jsx)(n.A,{label:(0,h.t)("Login"),maxWidth:"grow",placeholder:(0,h.t)("Login"),type:"text",value:w.newLogin,star:!0,onChange:e=>{v({...w,newLogin:e.target.value})}}),(0,m.jsx)(n.A,{label:(0,h.t)("Parol"),maxWidth:"grow",placeholder:(0,h.t)("Parol"),type:"password",value:w.newPassword,star:!0,onChange:e=>{v({...w,newPassword:e.target.value})}}),(0,m.jsx)(n.A,{label:(0,h.t)("Parol takroriy"),maxWidth:"grow",placeholder:(0,h.t)("Parol takroriy"),type:"password",value:w.repeatPassword,star:!0,onChange:e=>{v({...w,repeatPassword:e.target.value})}})]}),(0,m.jsx)("div",{className:"max-w-[15.625rem] mx-auto",children:(0,m.jsx)(o.A,{text:(0,h.t)("Saqlash"),edit:!0,onClick:()=>{const{failed:t,message:a}=(0,d.py)([{value:w.firstname,message:"Ismi"},{value:w.lastname,message:"Familiyasi"},{value:w.newPassword,message:"Parol"},{value:w.repeatPassword,message:"Tasdiqlash paroli"},{value:w.newLogin,message:"Login"}]);if(t)(0,c.EB)(a);else{var s;const t={_id:w._id,market:w.market,password:w.newPassword.replace(/\s+/g," ").trim(),login:w.newLogin.replace(/\s+/g," ").trim(),image:w.image.replace(/\s+/g," ").trim(),qrcode:null===w||void 0===w||null===(s=w.qrcode)||void 0===s?void 0:s.replace(/\s+/g," ").trim(),firstname:w.firstname.replace(/\s+/g," ").trim(),lastname:w.lastname.replace(/\s+/g," ").trim()};e((0,i.gw)(t))}}})})]})}},41497:(e,t,a)=>{"use strict";var s=a(13218);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,a,r,l,n){if(n!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return a.PropTypes=a,a}},65173:(e,t,a)=>{e.exports=a(41497)()},13218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},96440:e=>{"use strict";var t=function(){};e.exports=t}}]);
//# sourceMappingURL=2821.f606c35f.chunk.js.map