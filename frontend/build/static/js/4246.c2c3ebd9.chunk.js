"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[4246,1181],{60760:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(65043),i=a(47630),n=a(84012),r=a(54964),l=a(18446),c=a(3297),o=a(79456),u=a(4235),p=a(78054),d=a(71605),m=a(70486),g=a(37919),h=a(73734),f=a(12602),x=a(37424),v=a(30200),y=a(49092),k=a(53536),P=a(73216),S=a(38069),j=a(70579);const w=()=>{const[e,t]=(0,s.useState)(window.innerWidth<=768);(0,s.useEffect)((()=>{const e=()=>{t(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const{t:a}=(0,y.B)(["common"]),w=(0,o.wA)(),E=(0,P.Zp)(),{errorSuppliers:b,suppliers:A,successAddSupplier:z,successUpdateSupplier:C,successDeleteSupplier:N,loading:B,searchedSuppliers:Y,total:D,totalSearched:T}=(0,o.d4)((e=>e.suppliers)),_=[{title:a("\u2116"),styles:"w-[8%] text-left"},{title:a("Yetkazuvchi"),styles:"w-[84%] text-left"},{title:"",styles:"w-[8%] text-left"}],[q,L]=(0,s.useState)(A),[W,J]=(0,s.useState)(Y),[M,O]=(0,s.useState)(""),[F,R]=(0,s.useState)(""),[Z,I]=(0,s.useState)(null),[Q,U]=(0,s.useState)(!1),[G,H]=(0,s.useState)(!1),[K,V]=(0,s.useState)("10"),[X,$]=(0,s.useState)(0),[ee,te]=(0,s.useState)(D),[ae,se]=(0,s.useState)(""),ie=()=>U(!Q),ne=e=>{R(e),O(e.name),H(!0)},re=e=>{I(e),ie()},le=()=>{U(!1),I(null)},ce=e=>{e&&e.preventDefault(),O(""),R(null),H(!1),I(null)},oe=e=>{let{value:t}=e;V(t),$(0)},ue=e=>{E("/hamkorlar/yetkazuvchilar/".concat(e))};return(0,s.useEffect)((()=>{b&&((0,h.lY)(b,"error"),w((0,m.T3)())),z&&((0,h.Im)(),w((0,m.a2)()),w((0,g.Jr)()),ce()),C&&((0,h.YB)(),w((0,m._i)()),w((0,g.Jr)()),R(""),H(!1),ce()),N&&(w((0,g.Jr)()),(0,h.yx)(),w((0,m.Ey)()),ce())}),[w,b,z,C,N]),(0,s.useEffect)((()=>{const e={currentPage:X,countPage:K,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.M7)(e))}),[w,K,X]),(0,s.useEffect)((()=>{L(A)}),[A]),(0,s.useEffect)((()=>{te(D)}),[D]),(0,s.useEffect)((()=>{J(Y)}),[Y]),(0,j.jsxs)(d.P.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.8,ease:[.04,.62,.23,.98]},children:[(0,j.jsx)(f.A,{headerText:"".concat(Z&&Z.name," ").concat(a("yetkazib beruvchini o`chirishni tasdiqlaysizmi?")),title:a("O`chirilgan yetkazib beruvchini tiklashning imkoni mavjud emas!"),toggleModal:ie,body:"approve",approveFunction:()=>{const e={_id:Z._id,currentPage:X,countPage:K,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.O5)(e)),le()},closeModal:le,isOpen:Q}),(0,j.jsx)("form",{className:"flex ps-[20px] gap-[1.25rem] lg:mt-0 mt-[40px] bg-background flex-col mainPadding transition ease-linear duration-200 ".concat(G&&"stickyForm"),children:(0,j.jsxs)("div",{className:"supplier-style",children:[(0,j.jsx)(i.A,{label:a("Yetkazuvchi ismi"),placeholder:"",maxWidth:"w-[41rem]",type:"string",value:M,onChange:e=>{O(e.target.value)}}),(0,j.jsxs)("div",{className:"flex gap-[1.25rem] grow w-[20.8125rem]",children:[(0,j.jsx)(n.A,{add:!G,edit:G,text:a(G?"Saqlash":"Yangi yetkazuvchi qo`shish"),onClick:G?e=>{e.preventDefault();const{failed:t,message:s}=(0,v.py)([{value:M,message:a("Yetkazuvchi ismi")}]);if(t)(0,h.EB)(s);else{const e={name:M,_id:F._id,currentPage:X,countPage:K,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.iQ)(e))}}:e=>{e.preventDefault();const{failed:t,message:s}=(0,v.py)([{value:M,message:a("Yetkazuvchi ismi")}]);if(t)(0,h.EB)(s);else{const e={name:M,currentPage:X,countPage:K,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.qE)(e))}}}),(0,j.jsx)(n.A,{onClick:ce,text:a("Tozalash")})]})]})}),(0,j.jsxs)("div",{className:"flex ps-[10px] items-center ",children:[(0,j.jsx)(S.A,{onSelect:oe},"total_1"),(0,j.jsx)(x.A,{filterByTotal:oe,filterBy:["total","name"],filterByName:e=>{let t=e.target.value,a=t.toLowerCase().replace(/\s+/g," ").trim();if(se(t),(W.length>0||T>0)&&w((0,m.cZ)()),""===a)L(A),te(D);else{const e=(0,k.filter)(A,(e=>e.name.toLowerCase().includes(a)));L(e),te(e.length)}},searchByName:ae,filterByCodeAndNameAndCategoryWhenPressEnter:e=>{if("Enter"===e.key){const e={currentPage:X,countPage:K,search:{name:ae.replace(/\s+/g," ").trim()}};w((0,m.PY)(e))}}})]}),(0,j.jsx)("div",{className:"lg:tableContainerPadding",children:B?(0,j.jsx)(u.A,{}):0===q.length&&0===W.length?(0,j.jsx)(p.A,{text:a("Yetkazib beruvchilar mavjud emas")}):e?(0,j.jsx)(c.A,{data:W.length>0?W:q,page:"supplier",currentPage:X,countPage:K,headers:_,Edit:ne,Delete:re,linkToSupplierReport:ue}):(0,j.jsx)(l.A,{data:W.length>0?W:q,page:"supplier",currentPage:X,countPage:K,headers:_,Edit:ne,Delete:re,linkToSupplierReport:ue})}),(0,j.jsx)("div",{className:"pagination-supplier flex justify-center [mb-30px] mt-[30px]",children:(0!==ee||0!==T)&&(0,j.jsx)(r.A,{countPage:Number(K),totalDatas:T||ee,currentPage:X,setCurrentPage:$})})]},"content")}}}]);
//# sourceMappingURL=4246.c2c3ebd9.chunk.js.map