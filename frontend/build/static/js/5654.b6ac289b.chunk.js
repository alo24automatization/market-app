"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5654,1181],{75068:(e,t,a)=>{a.d(t,{A:()=>n});a(65043);var r=a(90221),l=a(49092),i=a(70579);const n=function(e){let{readExcel:t}=e;const{t:a}=(0,l.B)(["common"]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{children:(0,i.jsxs)("label",{htmlFor:"import-field",className:"importButton",children:[a("Import"),(0,i.jsx)("span",{className:"btn-icon bg-white-900 p-[8px] text-primary-800",children:(0,i.jsx)(r.R2D,{size:"1rem"})})]})}),(0,i.jsx)("input",{type:"file",className:"hidden ",id:"import-field",onClick:e=>e.target.value=null,onChange:e=>{const a=e.target.files[0];t(a)}})]})}},48952:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var r=a(65043),l=a(23237),i=a(75068),n=a(11238),o=a(54964),c=a(18446),s=a(79456),u=a(4235),d=a(78054),m=a(71605),g=a(91154),h=a(93978),p=a(41800),x=a(73734),f=a(76694),v=a(12602),P=a(47630),y=a(84012),b=a(49092),C=a(70579);const S=function(e){let{searchBarcode:t,stickyForm:a,handleChangeCodeOfProduct:r,codeOfProduct:l,handleChangeNameOfProduct:i,nameOfProduct:n,numberOfProduct:o,handleChangeNumberOfProduct:c,unitOfProduct:s,handleChangeUnitOfProduct:u,handleChangePriceOfProduct:d,priceOfProduct:m,sellingPriceOfProduct:g,handleChangeSellingPriceOfProduct:h,handleEdit:p,addNewProduct:x,clearForm:f,pageName:v,unitOptions:S,categoryOfProduct:j,categoryOptions:O,handleChangeCategoryOfProduct:N,checkOfProduct:w,handleChangeCheckOfProduct:k,tradePrice:A,handleChangeTradePrice:E,minimumCount:B,handleChangeMinimumCount:M,sellingPriceOfProcient:z,handleChangeSellingPriceOfProcient:U,handleChangeTradePriceProcient:D,tradePriceProcient:Y,productWidth:W,handleChangeProductWidth:Z}=e;const{t:F}=(0,b.B)(["common"]);return(0,C.jsxs)("form",{className:"bg-[white] flex pl-[20px] gap-[1.25rem] shadow-none  flex-col mainPadding   duration-200 ".concat(a?"stickyForm":""),children:[(0,C.jsxs)("div",{className:"flex flex-wrap gap-[2.5rem]",children:[(0,C.jsx)(P.A,{label:F("Shtrix kodi"),placeholder:"".concat(F("misol"),": 123456789"),onChange:k,value:w,maxWidth:"lg:w-[10rem] w-[90vw]",onKeyUp:t}),(0,C.jsx)(P.A,{value:j,onChange:N,label:F("Kategoriya nomi"),placeholder:F("tanlang..."),select:!0,options:O,maxWidth:"lg:w-[15rem] w-[90vw]"}),(0,C.jsx)(P.A,{label:F("Maxsulot kodi"),placeholder:"".concat(F("misol"),": 1234"),onChange:r,value:l,type:"text",maxWidth:"lg:w-[8.5rem] w-[90vw]"}),(0,C.jsx)(P.A,{label:F("Maxsulot nomi"),placeholder:"".concat(F("misol"),": Acer"),onChange:i,value:n})]}),(0,C.jsxs)("div",{className:"flex flex-wrap gap-[2.5rem] items-end",children:[(0,C.jsx)(P.A,{value:s,onChange:u,label:F("O'lchov birligi"),placeholder:F("tanlang..."),select:!0,options:S}),"accept"!==v&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(P.A,{value:o,onChange:c,label:F("Maxsulot soni"),placeholder:"".concat(F("misol"),": 100"),type:"text"})}),"accept"!==v&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(P.A,{value:m,onChange:d,label:F("Keltirilgan narxi"),placeholder:"".concat(F("misol"),": 100"),type:"text"}),(0,C.jsx)(P.A,{value:g,onChange:h,label:F("Sotish narxi"),placeholder:"".concat(F("misol"),": 200"),type:"text"}),(0,C.jsx)(P.A,{value:z,onChange:U,label:F("Sotish foizi"),placeholder:"".concat(F("misol"),": 30 %"),type:"text"})]})]}),(0,C.jsxs)("div",{className:"flex flex-wrap gap-[2.5rem] items-end",children:[(0,C.jsx)(P.A,{value:Y,onChange:D,label:F("Optom foizi"),placeholder:"".concat(F("misol"),": 30 %"),type:"text"}),(0,C.jsx)(P.A,{value:A,onChange:E,label:F("Optom narxi"),placeholder:"".concat(F("misol"),": 300"),type:"text"}),(0,C.jsx)(P.A,{value:B,onChange:M,label:F("Minimum qiymat"),placeholder:"".concat(F("misol"),": 300"),type:"text"}),(0,C.jsx)(P.A,{value:W,onChange:Z,label:F("O`lcham"),placeholder:"".concat(F("misol"),": 100 metr"),type:"text"}),(0,C.jsxs)("div",{className:"flex gap-[1.25rem] min-w-[20rem]",children:[(0,C.jsx)(y.A,{onClick:a?p:x,add:!a,edit:a,text:F(a?"Saqlash":"Yangi maxsulot qo'shish")}),(0,C.jsx)(y.A,{onClick:f,text:F("Tozalash")})]})]})]})};var j=a(45842),O=a(30200),N=a(37424),w=a(76490),k=a(2300),A=a(27624),E=a(53536),B=a(97160),M=a(85369),z=a(3297),U=a(38069);const D=function(){const{t:e}=(0,b.B)(["common"]),t=(0,s.wA)(),{market:{_id:a}}=(0,s.d4)((e=>e.login)),{units:P}=(0,s.d4)((e=>e.units)),{allcategories:y}=(0,s.d4)((e=>e.category)),{currency:D,currencyType:Y}=(0,s.d4)((e=>e.currency)),{products:W,total:Z,loading:F,lastProductCode:T,searchedProducts:q,totalSearched:_,loadingExcel:K}=(0,s.d4)((e=>e.products)),{barcode:I}=(0,s.d4)((e=>e.barcode)),[Q,$]=(0,r.useState)(W),[J,L]=(0,r.useState)(q),[R,V]=(0,r.useState)(""),[G,H]=(0,r.useState)(""),[X,ee]=(0,r.useState)(""),[te,ae]=(0,r.useState)(""),[re,le]=(0,r.useState)(""),[ie,ne]=(0,r.useState)(""),[oe,ce]=(0,r.useState)(""),[se,ue]=(0,r.useState)(""),[de,me]=(0,r.useState)(""),[ge,he]=(0,r.useState)(""),[pe,xe]=(0,r.useState)(""),[fe,ve]=(0,r.useState)(""),[Pe,ye]=(0,r.useState)(""),[be,Ce]=(0,r.useState)(""),[Se,je]=(0,r.useState)("10"),[Oe,Ne]=(0,r.useState)(0),[we,ke]=(0,r.useState)(Z),[Ae,Ee]=(0,r.useState)(!1),[Be,Me]=(0,r.useState)(null),[ze,Ue]=(0,r.useState)(!1),[De,Ye]=(0,r.useState)(null),[We,Ze]=(0,r.useState)(null),[Fe,Te]=(0,r.useState)([]),[qe,_e]=(0,r.useState)([]),[Ke,Ie]=(0,r.useState)([]),[Qe,$e]=(0,r.useState)([]),[Je,Le]=(0,r.useState)(""),[Re,Ve]=(0,r.useState)({filter:"",sort:"",count:0}),[Ge,He]=(0,r.useState)(window.innerWidth<=768),[Xe,et]=(0,r.useState)(!1),[tt,at]=(0,r.useState)(""),[rt,lt]=(0,r.useState)(""),[it,nt]=(0,r.useState)(""),[ot,ct]=(0,r.useState)(""),[st,ut]=(0,r.useState)(""),[dt,mt]=(0,r.useState)(!1),[gt,ht]=(0,r.useState)(!1),[pt,xt]=(0,r.useState)(""),ft=()=>Ue(!ze),vt=[{title:e("\u2116")},{filter:"productdata.barcode",title:e("Shtrix kodi")},{title:e("Kategoriyasi"),filter:e("category.code")},{title:e("Kodi"),filter:"productdata.code"},{title:e("Nomi"),filter:"productdata.name"},{title:e("Soni"),filter:"total"},{title:e("Olish"),filter:"UZS"===Y?"price.incomingpriceuzs":"price.incomingprice"},{title:e("Sotish"),filter:"UZS"===Y?"price.sellingpriceuzs":"price.sellingprice"},{title:e("Optom"),filter:"UZS"===Y?"price.tradeprice":"price.tradepriceuzs"},{title:e("Minimum qiymat"),filter:"minimumcount",styles:"w-[5%]"},{title:""}];(0,r.useEffect)((()=>{const e=()=>{He(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const Pt=e=>{let t=e.target.value;f.C.test(t)&&V(e.target.value)},yt=e=>{let t=e.target.value;f.C.test(t)&&H(t)},bt=e=>{ee(e.target.value)},Ct=e=>{let t=Number(e.target.value);f.C.test(t)&&ae(t)},St=(e,t,a)=>{a&&Q?(ce((0,O.Df)(t+t*a/100)),he((0,O.tE)(e+e*a/100))):(ce(""),he(""))},jt=e=>{let t=e.target.value;f.C.test(t)&&("UZS"===Y?(ne(t),me((0,O.Ch)(t,D)),St((0,O.Ch)(t,D),Number(t),Number(se))):(me(t),ne((0,O.IQ)(t,D)),St(Number(t),(0,O.IQ)(t,D),Number(se))))},Ot=e=>{let t=e.target.value;f.C.test(t)&&("UZS"===Y?(ce(t),he((0,O.Ch)(t,D))):(he(t),ce((0,O.IQ)(t,D))))},Nt=e=>{let t=e.target.value;ue(t),St(Number(de),Number(ie),Number(t))},wt=e=>{le(e)},kt=e=>{xe(e);const a={categoryId:e.value};t((0,h.jm)(a))},At=e=>{let t=e.target.value;f.C.test(t)&&at(t)},Et=e=>{let t=e.target.value;f.C.test(t)&&("UZS"===Y?(nt(t),lt((0,O.Ch)(t,D))):(lt(t),nt((0,O.IQ)(t,D))))},Bt=e=>{let t=e.target.value;var a,r,l;ct(t),a=Number(de),r=Number(ie),(l=Number(t))&&Q?(nt((0,O.Df)(r+r*l/100)),lt((0,O.tE)(a+a*l/100))):(nt(""),lt(""))},Mt=e=>{let a=e.target.value,r=a.replace(/\s+/g," ").trim();if(ve(a),(J.length>0||_>0)&&t((0,h.$g)()),""===r)$(W),ke(Z);else{const e=(0,E.filter)(W,(e=>e.productdata.code.includes(r)));$(e),ke(e.length)}},zt=e=>{let a=e.target.value,r=a.replace(/\s+/g," ").trim();if(Le(a),(J.length>0||_>0)&&t((0,h.$g)()),""===r)$(W),ke(Z);else{const e=(0,E.filter)(W,(e=>{var t;return null===(t=e.productdata)||void 0===t?void 0:t.barcode.includes(r)}));$(e),ke(e.length)}},Ut=e=>{let a=e.target.value,r=a.replace(/\s+/g," ").trim();if(Ce(a),(J.length>0||_>0)&&t((0,h.$g)()),""===r)$(W),ke(Z);else{const e=(0,E.filter)(W,(e=>e.category.code.includes(r)));$(e),ke(e.length)}},Dt=e=>{let a=e.target.value,r=a.toLowerCase().replace(/\s+/g," ").trim();if(ye(a),(J.length>0||_>0)&&t((0,h.$g)()),""===r)$(W),ke(Z);else{const e=(0,E.filter)(W,(e=>e.productdata.name.toLowerCase().includes(r)));$(e),ke(e.length)}},Yt=e=>{if("Enter"===e.key){Ne(0);const e={currentPage:0,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()},product:{code:G,name:X.replace(/\s+/g," ").trim(),unit:re.value,market:a}};t((0,h.Yp)(e))}},Wt=e=>{if("Enter"===e.key){Ne(0);const e={currentPage:0,countPage:Se,search:{barcode:Je.replace(/\s+/g," ").trim()},product:{code:G,name:X.replace(/\s+/g," ").trim(),unit:re.value,market:a}};t((0,h.Yp)(e))}},Zt=e=>{let{value:t}=e;je(t),Ne(0)},Ft=e=>{if("Enter"===e.key){const a={code:e.target.value};t((0,k.nN)(a))}},Tt=r=>{if(r.preventDefault(),D){const{failed:r,message:l}=(0,O.py)([{value:R,message:e("Maxsulot shtrix kodi")},{value:G,message:e("Maxsulot kodi")},{value:X,message:e("Maxsulot nomi")},{value:re,message:e("Maxsulot o'lchov birligi")},{value:pe,message:e("Maxsulot kategoriyasi")},{value:ie,message:e("Maxsulot kelish narxi")},{value:oe,message:e("Maxsulot sotish narxi")},{value:rt,message:e("Maxsulot optom narxi")},{value:tt,message:e("Maxsulot minimal miqdori")}]);if(r)(0,x.EB)(l);else{const e={currentPage:Oe,countPage:Se,category:pe.value,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()},product:{code:G,name:X.replace(/\s+/g," ").trim(),total:te,unit:re.value,category:pe.value,market:a,incomingprice:de,sellingprice:ge,incomingpriceuzs:ie,sellingpriceuzs:oe,barcode:R,tradeprice:rt,tradepriceuzs:it,minimumcount:tt,width:""===pt?0:pt}};t((0,h.Bj)(e)).then((e=>{let{error:a}=e;if(!a){const e={currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.d$)(e)),qt(),Jt()}}))}}else(0,x.QC)()},qt=e=>{e&&e.preventDefault(),H(""),ee(""),V(""),ae(""),ne(""),ce(""),me(""),he(""),le(""),xe(""),lt(""),nt(""),at(""),Me(null),Ee(!1),ue(""),ct(""),xt(0)},_t=a=>{a.preventDefault();const{failed:r,message:l}=(0,O.py)([{value:R,message:e("Maxsulot shtrix kodi")},{value:G,message:e("Maxsulot kodi")},{value:X,message:e("Maxsulot nomi")},{value:re,message:e("Maxsulot o'lchov birligi")},{value:pe,message:e("Maxsulot kategoriyasi")},{value:ie,message:e("Maxsulot kelish narxi")},{value:oe,message:e("Maxsulot sotish narxi")},{value:rt,message:e("Maxsulot optom narxi")},{value:tt,message:e("Maxsulot minimal miqdori")}]);if(r)(0,x.EB)(l);else{const e={product:{...Be,name:X.replace(/\s+/g," ").trim(),code:G,category:pe.value,unit:re.value,priceid:Be.price._id,productdata:Be.productdata._id,incomingprice:de,sellingprice:ge,incomingpriceuzs:ie,sellingpriceuzs:oe,total:te,barcode:R,tradeprice:rt,tradepriceuzs:it,minimumcount:tt,width:""===pt?0:pt},currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.vc)(e)).then((e=>{let{error:a}=e;if(!a){qt(),Ee(!1);const e={currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.d$)(e)).then((()=>{document.querySelector("#".concat(st)).scrollIntoView({block:"center"})}))}}))}},Kt=e=>{["xls","xlsx"].includes(e.name.split(".").pop())?(et(!0),new Promise(((t,a)=>{const r=new FileReader;r.readAsArrayBuffer(e),r.onload=e=>{const a=e.target.result,r=n.LF(a,{type:"buffer"}),l=r.SheetNames[0],i=r.Sheets[l],o=n.Wp.sheet_to_json(i);t(o)},r.onerror=e=>{(0,x.lY)("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430","error"),a(e)}})).then((e=>{e.length>0?(Ie(e),Ze("import"),ft()):(0,x.lY)("Jadvalda ma`lumot mavjud emas","error"),et(!1)}))):(0,x.lY)("Fayl formati noto'g'ri","error")},It=(e,t)=>{ut(e),Me(t),Ee(!0)},Qt=e=>{const t={...e,currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()},name:X.replace(/\s+/g," ").trim(),productdata:e.productdata._id};Ye(t),Ze("approve"),ft()},$t=()=>{Ue(!1),Ye(null),setTimeout((()=>{Ze(null)}),500)},Jt=()=>{Ue(!1),setTimeout((()=>{Ze(null)}),500)},Lt=e=>{if(e===Re.filter)switch(Re.count){case 1:Ve({filter:e,sort:"1",count:2}),(0,O.Yc)(J.length>0?J:Q,J.length>0?L:$,e,1,J.length>0?q:W);break;case 2:Ve({filter:e,sort:"",count:0}),(0,O.Yc)(J.length>0?J:Q,J.length>0?L:$,e,"",J.length>0?q:W);break;default:Ve({filter:e,sort:"-1",count:1}),(0,O.Yc)(J.length>0?J:Q,J.length>0?L:$,e,-1,J.length>0?q:W)}else Ve({filter:e,sort:"-1",count:1}),(0,O.Yc)(J.length>0?J:Q,J.length>0?L:$,e,-1,J?q:W,J.length>0)},Rt=e=>{let{target:t}=e;xt(t.value)},Vt=()=>{const a=[e("\u2116"),e("Shtrix kodi"),e("Mahsulot kategoriyasi"),e("Mahsulot kodi"),e("Mahsulot nomi"),e("Soni"),e("O'lchov birligi"),e("Kelish narxi USD"),e("Kelish narxi UZS"),e("Sotish narxi USD"),e("Sotish narxi UZS"),e("Optom narxi USD"),e("Optom narxi UZS"),e("Minimum qiymat"),e("ID")],r={search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.cA)(r)).then((e=>{let{error:t,payload:r}=e;if(!t)if((null===r||void 0===r?void 0:r.length)>0){const e=(0,E.map)(r,((e,t)=>{var a,r,l,i,n,o,c,s,u,d,m;return{nth:t+1,barcode:(null===e||void 0===e||null===(a=e.productdata)||void 0===a?void 0:a.barcode)||"",category:(null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.code)||"",code:(null===e||void 0===e||null===(l=e.productdata)||void 0===l?void 0:l.code)||"",name:(null===e||void 0===e||null===(i=e.productdata)||void 0===i?void 0:i.name)||"",total:(null===e||void 0===e?void 0:e.total)||"",unit:(null===e||void 0===e||null===(n=e.unit)||void 0===n?void 0:n.name)||"",incomingprice:(null===e||void 0===e||null===(o=e.price)||void 0===o?void 0:o.incomingprice)||"",incomingpriceuzs:(null===e||void 0===e||null===(c=e.price)||void 0===c?void 0:c.incomingpriceuzs)||"",sellingprice:(null===e||void 0===e||null===(s=e.price)||void 0===s?void 0:s.sellingprice)||"",sellingpriceuzs:(null===e||void 0===e||null===(u=e.price)||void 0===u?void 0:u.sellingpriceuzs)||"",tradeprice:(null===e||void 0===e||null===(d=e.price)||void 0===d?void 0:d.tradeprice)||"",tradepriceuzs:(null===e||void 0===e||null===(m=e.price)||void 0===m?void 0:m.tradepriceuzs)||"",minimumcount:(null===e||void 0===e?void 0:e.minimumcount)||"",id:(null===e||void 0===e?void 0:e._id)||""}}));(0,O.m1)(e,"Maxsulotlar",a)}else(0,x.lY)("Jadvalda ma'lumot mavjud emas !","warning")}))};return(0,r.useEffect)((()=>{const e={currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.d$)(e))}),[Oe,Se,t]),(0,r.useEffect)((()=>{t((0,p.YU)()),t((0,j.QU)()),t((0,A.OY)())}),[t]),(0,r.useEffect)((()=>{$(W)}),[W]),(0,r.useEffect)((()=>{ke(Z)}),[Z]),(0,r.useEffect)((()=>{if(Be){const{productdata:{name:e,code:t,barcode:a},unit:r,total:l,category:i,minimumcount:n,width:o,price:{sellingprice:c,incomingprice:s,sellingpriceuzs:u,incomingpriceuzs:d,tradeprice:m,tradepriceuzs:g}}=Be;H(t),ee(e),xt(o),ae(l),le({value:r._id,label:r.name}),xe({value:i._id,label:"".concat(i.code," - ").concat(i.name)}),ne(d),ce(u),me(s),he(c),V(a||""),at(n||0),lt(m||0),nt(g||0)}}),[Be]),(0,r.useEffect)((()=>{Te((0,E.map)(P,(e=>({value:e._id,label:e.name}))))}),[P]),(0,r.useEffect)((()=>{_e((0,E.map)(y,(e=>({value:e._id,label:e.code+"".concat(e.name?" - ".concat(e.name):"")}))))}),[y]),(0,r.useEffect)((()=>{T&&(H(T),0===R.length&&(null===pe||void 0===pe?void 0:pe.label)&&V("47800"+pe.label.slice(0,3)+T))}),[T]),(0,r.useEffect)((()=>{L(q)}),[q]),(0,r.useEffect)((()=>{I&&ee(I.name)}),[I]),(0,C.jsxs)(m.P.section,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.8,ease:[.04,.62,.23,.98]},children:[Xe&&(0,C.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[50] top-0 left-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full",children:(0,C.jsx)(u.A,{})}),K&&(0,C.jsx)("div",{className:"fixed backdrop-blur-[2px] z-[100] left-0 top-0 right-0 bottom-0 bg-white-700 flex flex-col items-center justify-center w-full h-full",children:(0,C.jsx)(u.A,{})}),(0,C.jsx)(v.A,{toggleModal:ft,body:We,headerText:"approve"===We&&e("Mahsulotni o`chirishni tasdiqlaysizmi?"),title:"approve"===We&&e("O`chirilgan mahsulotni tiklashning imkoni mavjud emas!"),approveFunction:"approve"===We?()=>{t((0,h.DD)(De)).then((e=>{let{error:a}=e;if(!a){$t();const e={currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.d$)(e))}}))}:()=>{const e=Object.keys(Ke[0]),a=(0,E.map)(Qe,(e=>{const t={};for(const a in e)t[a]=e[a];return t}));a.forEach((t=>e.forEach((e=>t.hasOwnProperty(e)&&delete t[e]))));const r={products:[...a],currentPage:Oe,countPage:Se,search:{name:Pe.replace(/\s+/g," ").trim(),code:fe.replace(/\s+/g," ").trim(),category:be.replace(/\s+/g," ").trim()}};t((0,h.bS)(r)).then((e=>{let{error:a}=e;a||(Jt(),t((0,B.AS)()))}))},closeModal:"approve"===We?$t:Jt,isOpen:ze,excelData:Ke,headers:[{name:"Shtrix kodi",value:"barcode"},{name:"Kategoriyasi",value:"category"},{name:"Kodi",value:"code"},{name:"Nomi",value:"name"},{name:"Soni",value:"total"},{name:"O'lchov birligi",value:"unit"},{name:"Kelish narxi USD",value:"incomingprice"},{name:"Kelish narxi UZS",value:"incomingpriceuzs"},{name:"Sotish narxi USD",value:"sellingprice"},{name:"Sotish narxi UZS",value:"sellingpriceuzs"},{name:"Optom narxi USD",value:"tradeprice"},{name:"Optom narxi UZS",value:"tradepriceuzs"},{name:"Minimum qiymat",value:"minimumcount"}],createdData:Qe,setCreatedData:$e}),Ge&&(0,C.jsx)("button",{onClick:()=>mt(!0),className:"hover:bg-green-200 lg:ms-[20px] lg:mt-[10px] lg:mb-[60px] mt-[60px] bg-green-300 focus-visible:outline-none w-[90%]  m-auto lg:w-[200px] lg:h-[33px] h=[40px] createElement",children:e("Yangi maxsulot qo'shish")}),Ge?dt&&(0,C.jsxs)("section",{className:"absolute lg:h-[100vh]  w-[100%] bg-[white] z-50 top-0 left-0",children:[(0,C.jsx)("div",{className:"flex justify-end p-[25px]",children:(0,C.jsx)(g.hvQ,{onClick:()=>mt(!1),className:"cursor-pointer text-3xl"})}),(0,C.jsx)(S,{nameOfProduct:X,unitOfProduct:re,categoryOfProduct:pe,codeOfProduct:G,checkOfProduct:R,productWidth:pt,handleChangeProductWidth:Rt,tradePriceProcient:ot,handleChangeTradePriceProcient:Bt,handleChangeCheckOfProduct:Pt,priceOfProduct:"UZS"===Y?ie:de,sellingPriceOfProduct:"UZS"===Y?oe:ge,sellingPriceOfProcient:se,numberOfProduct:te,handleChangeSellingPriceOfProduct:Ot,handleChangeSellingPriceOfProcient:Nt,handleChangePriceOfProduct:jt,handleChangeNumberOfProduct:Ct,stickyForm:Ae,clearForm:qt,handleEdit:_t,addNewProduct:Tt,handleChangeCodeOfProduct:yt,handleChangeNameOfProduct:bt,handleChangeUnitOfProduct:wt,handleChangeCategoryOfProduct:kt,pageName:"products",unitOptions:Fe,categoryOptions:qe,searchBarcode:Ft,minimumCount:tt,handleChangeMinimumCount:At,tradePrice:"USD"===Y?rt:it,handleChangeTradePrice:Et})]}):(0,C.jsx)(S,{productWidth:pt,handleChangeProductWidth:Rt,nameOfProduct:X,unitOfProduct:re,categoryOfProduct:pe,codeOfProduct:G,checkOfProduct:R,tradePriceProcient:ot,handleChangeTradePriceProcient:Bt,handleChangeCheckOfProduct:Pt,priceOfProduct:"UZS"===Y?ie:de,sellingPriceOfProduct:"UZS"===Y?oe:ge,sellingPriceOfProcient:se,numberOfProduct:te,handleChangeSellingPriceOfProduct:Ot,handleChangeSellingPriceOfProcient:Nt,handleChangePriceOfProduct:jt,handleChangeNumberOfProduct:Ct,stickyForm:Ae,clearForm:qt,handleEdit:_t,addNewProduct:Tt,handleChangeCodeOfProduct:yt,handleChangeNameOfProduct:bt,handleChangeUnitOfProduct:wt,handleChangeCategoryOfProduct:kt,pageName:"products",unitOptions:Fe,categoryOptions:qe,searchBarcode:Ft,minimumCount:tt,handleChangeMinimumCount:At,tradePrice:"USD"===Y?rt:it,handleChangeTradePrice:Et}),Ge?(0,C.jsx)("div",{className:"flex lg:mt-[-113px] pl-[20px] mt-0 flex-wrap lg:justify-start justify-center lg:ms-[200px] items-center mainPadding",children:(0,C.jsxs)("div",{className:"flex gap-[1rem] ms-[1rem]  mb-[15px] ",children:[(0,C.jsx)(l.A,{onClick:Vt}),(0,C.jsx)(i.A,{readExcel:Kt}),Ge?(0,C.jsxs)("button",{onClick:()=>ht(!0),className:"hover:bg-blue-200  bg-blue-400 focus-visible:outline-none w-[90px] h-[33px]  createElement",children:[(0,C.jsx)(M.YsJ,{})," ",e("izlash")]}):null]})}):(0,C.jsxs)("div",{className:"flex px-4 py-2 gap-2",children:[(0,C.jsx)(l.A,{onClick:Vt}),(0,C.jsx)(i.A,{readExcel:Kt}),Ge?(0,C.jsxs)("button",{onClick:()=>ht(!0),className:"hover:bg-blue-200  bg-blue-400 focus-visible:outline-none w-[90px] h-[33px]  createElement",children:[(0,C.jsx)(M.YsJ,{})," ",e("izlash")]}):null]}),gt?(0,C.jsxs)("div",{className:"absolute lg:p-[50px] w-[100vw]  h-[100vh]  flex justify-evenly flex-wrap items-center  top-0\tleft-0 z-50 bg-[white]\t",children:[(0,C.jsx)(g.hvQ,{onClick:()=>ht(!1),className:" absolute right-[20px]  top-[20px]  text-4xl cursor-pointer"}),(0,C.jsx)(N.A,{filterBy:["total","barcode","category","code","name","doubleDate"],filterByCode:Mt,filterByCodeAndNameAndCategoryWhenPressEnter:Yt,filterByName:Dt,filterByTotal:Zt,searchByCode:fe,searchByName:Pe,searchByCategory:be,filterByCategory:Ut,barCode:Je,filterByBarcode:zt,filterByBarcodeWhenPressEnter:Wt}),(0,C.jsxs)("button",{onClick:()=>{ht(!1)},className:"d-block  hover:bg-green-200  bg-green-400 mt-[-200px] lg:mt-[25px] focus-visible:outline-none w-[150px] h-[40px] createElement ",children:[(0,C.jsx)(M.YsJ,{})," ",e("izlash")]})]}):null,(0,C.jsxs)("span",{className:"flex items-center  mb-3 ml-2 ",children:[(0,C.jsx)("div",{className:"lg:mt-[30px]",children:(0,C.jsx)(U.A,{label:"mas",onSelect:Zt},"total_1")}),Ge?null:(0,C.jsx)(N.A,{filterBy:["total","barcode","category","code","name","doubleDate"],filterByCode:Mt,filterByCodeAndNameAndCategoryWhenPressEnter:Yt,filterByName:Dt,filterByTotal:Zt,searchByCode:fe,searchByName:Pe,searchByCategory:be,filterByCategory:Ut,barCode:Je,filterByBarcode:zt,filterByBarcodeWhenPressEnter:Wt})]}),(0,C.jsx)("div",{className:"lg:p-[20px] p-0",children:F?(0,C.jsx)(u.A,{}):0===Q.length&&0===J.length?(0,C.jsx)(d.A,{text:"Maxsulot mavjud emas"}):Ge?(0,C.jsx)(z.A,{currencyType:Y,headers:vt,Edit:It,Delete:Qt,page:"product",data:J.length>0?J:Q,Sort:Lt,sortItem:Re,currentPage:Oe,countPage:Se,currency:Y,modalOpen:mt}):(0,C.jsx)(c.A,{currencyType:Y,headers:vt,Edit:It,Delete:Qt,page:"product",data:J.length>0?J:Q,Sort:Lt,sortItem:Re,currentPage:Oe,countPage:Se,currency:Y,modalOpen:mt})}),(0,C.jsx)("div",{className:"flex justify-center mb-[10px] mt-[20px]",children:(0!==we||0!==_)&&(0,C.jsx)(o.A,{countPage:Number(Se),totalDatas:_||we,currentPage:Oe,setCurrentPage:Ne})}),(0,C.jsx)(w.A,{onError:()=>{(0,x.lY)("".concat(e("Mahsulot kodi o'qilmadi!")),"warning")},onScan:e=>{V(e.toString());const a={code:e};t((0,k.nN)(a)).then((e=>{let{error:t}=e;if(t)return ee("")}))}})]},"content")}}}]);
//# sourceMappingURL=5654.b6ac289b.chunk.js.map